var U0=t=>{throw TypeError(t)};var Op=(t,e,n)=>e.has(t)||U0("Cannot "+n);var M=(t,e,n)=>(Op(t,e,"read from private field"),n?n.call(t):e.get(t)),pe=(t,e,n)=>e.has(t)?U0("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),ne=(t,e,n,r)=>(Op(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),be=(t,e,n)=>(Op(t,e,"access private method"),n);var rd=(t,e,n,r)=>({set _(s){ne(t,e,s,n)},get _(){return M(t,e,r)}});function qP(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function PE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var kE={exports:{}},_f={},NE={exports:{}},Re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xc=Symbol.for("react.element"),QP=Symbol.for("react.portal"),KP=Symbol.for("react.fragment"),GP=Symbol.for("react.strict_mode"),ZP=Symbol.for("react.profiler"),XP=Symbol.for("react.provider"),YP=Symbol.for("react.context"),JP=Symbol.for("react.forward_ref"),ek=Symbol.for("react.suspense"),tk=Symbol.for("react.memo"),nk=Symbol.for("react.lazy"),B0=Symbol.iterator;function rk(t){return t===null||typeof t!="object"?null:(t=B0&&t[B0]||t["@@iterator"],typeof t=="function"?t:null)}var DE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},OE=Object.assign,VE={};function al(t,e,n){this.props=t,this.context=e,this.refs=VE,this.updater=n||DE}al.prototype.isReactComponent={};al.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};al.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function ME(){}ME.prototype=al.prototype;function My(t,e,n){this.props=t,this.context=e,this.refs=VE,this.updater=n||DE}var jy=My.prototype=new ME;jy.constructor=My;OE(jy,al.prototype);jy.isPureReactComponent=!0;var z0=Array.isArray,jE=Object.prototype.hasOwnProperty,Ly={current:null},LE={key:!0,ref:!0,__self:!0,__source:!0};function FE(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)jE.call(e,r)&&!LE.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];s.children=u}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:xc,type:t,key:i,ref:o,props:s,_owner:Ly.current}}function sk(t,e){return{$$typeof:xc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Fy(t){return typeof t=="object"&&t!==null&&t.$$typeof===xc}function ik(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var $0=/\/+/g;function Vp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?ik(""+t.key):e.toString(36)}function Fd(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case xc:case QP:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Vp(o,0):r,z0(s)?(n="",t!=null&&(n=t.replace($0,"$&/")+"/"),Fd(s,e,n,"",function(c){return c})):s!=null&&(Fy(s)&&(s=sk(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace($0,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",z0(t))for(var a=0;a<t.length;a++){i=t[a];var u=r+Vp(i,a);o+=Fd(i,e,n,u,s)}else if(u=rk(t),typeof u=="function")for(t=u.call(t),a=0;!(i=t.next()).done;)i=i.value,u=r+Vp(i,a++),o+=Fd(i,e,n,u,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function sd(t,e,n){if(t==null)return t;var r=[],s=0;return Fd(t,r,"","",function(i){return e.call(n,i,s++)}),r}function ok(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var xn={current:null},Ud={transition:null},ak={ReactCurrentDispatcher:xn,ReactCurrentBatchConfig:Ud,ReactCurrentOwner:Ly};function UE(){throw Error("act(...) is not supported in production builds of React.")}Re.Children={map:sd,forEach:function(t,e,n){sd(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return sd(t,function(){e++}),e},toArray:function(t){return sd(t,function(e){return e})||[]},only:function(t){if(!Fy(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Re.Component=al;Re.Fragment=KP;Re.Profiler=ZP;Re.PureComponent=My;Re.StrictMode=GP;Re.Suspense=ek;Re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ak;Re.act=UE;Re.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=OE({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Ly.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(u in e)jE.call(e,u)&&!LE.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var c=0;c<u;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:xc,type:t.type,key:s,ref:i,props:r,_owner:o}};Re.createContext=function(t){return t={$$typeof:YP,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:XP,_context:t},t.Consumer=t};Re.createElement=FE;Re.createFactory=function(t){var e=FE.bind(null,t);return e.type=t,e};Re.createRef=function(){return{current:null}};Re.forwardRef=function(t){return{$$typeof:JP,render:t}};Re.isValidElement=Fy;Re.lazy=function(t){return{$$typeof:nk,_payload:{_status:-1,_result:t},_init:ok}};Re.memo=function(t,e){return{$$typeof:tk,type:t,compare:e===void 0?null:e}};Re.startTransition=function(t){var e=Ud.transition;Ud.transition={};try{t()}finally{Ud.transition=e}};Re.unstable_act=UE;Re.useCallback=function(t,e){return xn.current.useCallback(t,e)};Re.useContext=function(t){return xn.current.useContext(t)};Re.useDebugValue=function(){};Re.useDeferredValue=function(t){return xn.current.useDeferredValue(t)};Re.useEffect=function(t,e){return xn.current.useEffect(t,e)};Re.useId=function(){return xn.current.useId()};Re.useImperativeHandle=function(t,e,n){return xn.current.useImperativeHandle(t,e,n)};Re.useInsertionEffect=function(t,e){return xn.current.useInsertionEffect(t,e)};Re.useLayoutEffect=function(t,e){return xn.current.useLayoutEffect(t,e)};Re.useMemo=function(t,e){return xn.current.useMemo(t,e)};Re.useReducer=function(t,e,n){return xn.current.useReducer(t,e,n)};Re.useRef=function(t){return xn.current.useRef(t)};Re.useState=function(t){return xn.current.useState(t)};Re.useSyncExternalStore=function(t,e,n){return xn.current.useSyncExternalStore(t,e,n)};Re.useTransition=function(){return xn.current.useTransition()};Re.version="18.3.1";NE.exports=Re;var T=NE.exports;const xe=PE(T),BE=qP({__proto__:null,default:xe},[T]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lk=T,uk=Symbol.for("react.element"),ck=Symbol.for("react.fragment"),dk=Object.prototype.hasOwnProperty,hk=lk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,fk={key:!0,ref:!0,__self:!0,__source:!0};function zE(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)dk.call(e,r)&&!fk.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:uk,type:t,key:i,ref:o,props:s,_owner:hk.current}}_f.Fragment=ck;_f.jsx=zE;_f.jsxs=zE;kE.exports=_f;var p=kE.exports,$E={exports:{}},Yn={},WE={exports:{}},HE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(B,Z){var ae=B.length;B.push(Z);e:for(;0<ae;){var me=ae-1>>>1,Se=B[me];if(0<s(Se,Z))B[me]=Z,B[ae]=Se,ae=me;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var Z=B[0],ae=B.pop();if(ae!==Z){B[0]=ae;e:for(var me=0,Se=B.length,Ne=Se>>>1;me<Ne;){var at=2*(me+1)-1,Pt=B[at],kt=at+1,he=B[kt];if(0>s(Pt,ae))kt<Se&&0>s(he,Pt)?(B[me]=he,B[kt]=ae,me=kt):(B[me]=Pt,B[at]=ae,me=at);else if(kt<Se&&0>s(he,ae))B[me]=he,B[kt]=ae,me=kt;else break e}}return Z}function s(B,Z){var ae=B.sortIndex-Z.sortIndex;return ae!==0?ae:B.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var u=[],c=[],d=1,m=null,h=3,_=!1,S=!1,v=!1,E=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(B){for(var Z=n(c);Z!==null;){if(Z.callback===null)r(c);else if(Z.startTime<=B)r(c),Z.sortIndex=Z.expirationTime,e(u,Z);else break;Z=n(c)}}function k(B){if(v=!1,x(B),!S)if(n(u)!==null)S=!0,ie(V);else{var Z=n(c);Z!==null&&de(k,Z.startTime-B)}}function V(B,Z){S=!1,v&&(v=!1,w(b),b=-1),_=!0;var ae=h;try{for(x(Z),m=n(u);m!==null&&(!(m.expirationTime>Z)||B&&!D());){var me=m.callback;if(typeof me=="function"){m.callback=null,h=m.priorityLevel;var Se=me(m.expirationTime<=Z);Z=t.unstable_now(),typeof Se=="function"?m.callback=Se:m===n(u)&&r(u),x(Z)}else r(u);m=n(u)}if(m!==null)var Ne=!0;else{var at=n(c);at!==null&&de(k,at.startTime-Z),Ne=!1}return Ne}finally{m=null,h=ae,_=!1}}var L=!1,C=null,b=-1,A=5,P=-1;function D(){return!(t.unstable_now()-P<A)}function N(){if(C!==null){var B=t.unstable_now();P=B;var Z=!0;try{Z=C(!0,B)}finally{Z?I():(L=!1,C=null)}}else L=!1}var I;if(typeof y=="function")I=function(){y(N)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,ue=H.port2;H.port1.onmessage=N,I=function(){ue.postMessage(null)}}else I=function(){E(N,0)};function ie(B){C=B,L||(L=!0,I())}function de(B,Z){b=E(function(){B(t.unstable_now())},Z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_continueExecution=function(){S||_||(S=!0,ie(V))},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(B){switch(h){case 1:case 2:case 3:var Z=3;break;default:Z=h}var ae=h;h=Z;try{return B()}finally{h=ae}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(B,Z){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var ae=h;h=B;try{return Z()}finally{h=ae}},t.unstable_scheduleCallback=function(B,Z,ae){var me=t.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?me+ae:me):ae=me,B){case 1:var Se=-1;break;case 2:Se=250;break;case 5:Se=1073741823;break;case 4:Se=1e4;break;default:Se=5e3}return Se=ae+Se,B={id:d++,callback:Z,priorityLevel:B,startTime:ae,expirationTime:Se,sortIndex:-1},ae>me?(B.sortIndex=ae,e(c,B),n(u)===null&&B===n(c)&&(v?(w(b),b=-1):v=!0,de(k,ae-me))):(B.sortIndex=Se,e(u,B),S||_||(S=!0,ie(V))),B},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(B){var Z=h;return function(){var ae=h;h=Z;try{return B.apply(this,arguments)}finally{h=ae}}}})(HE);WE.exports=HE;var pk=WE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mk=T,Gn=pk;function G(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var qE=new Set,Cu={};function Ro(t,e){Ua(t,e),Ua(t+"Capture",e)}function Ua(t,e){for(Cu[t]=e,t=0;t<e.length;t++)qE.add(e[t])}var _s=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jm=Object.prototype.hasOwnProperty,gk=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,W0={},H0={};function yk(t){return jm.call(H0,t)?!0:jm.call(W0,t)?!1:gk.test(t)?H0[t]=!0:(W0[t]=!0,!1)}function vk(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function _k(t,e,n,r){if(e===null||typeof e>"u"||vk(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function En(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Xt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Xt[t]=new En(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Xt[e]=new En(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Xt[t]=new En(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Xt[t]=new En(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Xt[t]=new En(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Xt[t]=new En(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Xt[t]=new En(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Xt[t]=new En(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Xt[t]=new En(t,5,!1,t.toLowerCase(),null,!1,!1)});var Uy=/[\-:]([a-z])/g;function By(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Uy,By);Xt[e]=new En(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Uy,By);Xt[e]=new En(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Uy,By);Xt[e]=new En(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Xt[t]=new En(t,1,!1,t.toLowerCase(),null,!1,!1)});Xt.xlinkHref=new En("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Xt[t]=new En(t,1,!1,t.toLowerCase(),null,!0,!0)});function zy(t,e,n,r){var s=Xt.hasOwnProperty(e)?Xt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(_k(e,n,s,r)&&(n=null),r||s===null?yk(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Is=mk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,id=Symbol.for("react.element"),Xo=Symbol.for("react.portal"),Yo=Symbol.for("react.fragment"),$y=Symbol.for("react.strict_mode"),Lm=Symbol.for("react.profiler"),QE=Symbol.for("react.provider"),KE=Symbol.for("react.context"),Wy=Symbol.for("react.forward_ref"),Fm=Symbol.for("react.suspense"),Um=Symbol.for("react.suspense_list"),Hy=Symbol.for("react.memo"),Ls=Symbol.for("react.lazy"),GE=Symbol.for("react.offscreen"),q0=Symbol.iterator;function Vl(t){return t===null||typeof t!="object"?null:(t=q0&&t[q0]||t["@@iterator"],typeof t=="function"?t:null)}var ht=Object.assign,Mp;function Xl(t){if(Mp===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Mp=e&&e[1]||""}return`
`+Mp+t}var jp=!1;function Lp(t,e){if(!t||jp)return"";jp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var u=`
`+s[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=a);break}}}finally{jp=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Xl(t):""}function wk(t){switch(t.tag){case 5:return Xl(t.type);case 16:return Xl("Lazy");case 13:return Xl("Suspense");case 19:return Xl("SuspenseList");case 0:case 2:case 15:return t=Lp(t.type,!1),t;case 11:return t=Lp(t.type.render,!1),t;case 1:return t=Lp(t.type,!0),t;default:return""}}function Bm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Yo:return"Fragment";case Xo:return"Portal";case Lm:return"Profiler";case $y:return"StrictMode";case Fm:return"Suspense";case Um:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case KE:return(t.displayName||"Context")+".Consumer";case QE:return(t._context.displayName||"Context")+".Provider";case Wy:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Hy:return e=t.displayName||null,e!==null?e:Bm(t.type)||"Memo";case Ls:e=t._payload,t=t._init;try{return Bm(t(e))}catch{}}return null}function xk(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Bm(e);case 8:return e===$y?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function yi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ZE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Ek(t){var e=ZE(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function od(t){t._valueTracker||(t._valueTracker=Ek(t))}function XE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=ZE(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function dh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function zm(t,e){var n=e.checked;return ht({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Q0(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=yi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function YE(t,e){e=e.checked,e!=null&&zy(t,"checked",e,!1)}function $m(t,e){YE(t,e);var n=yi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Wm(t,e.type,n):e.hasOwnProperty("defaultValue")&&Wm(t,e.type,yi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function K0(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Wm(t,e,n){(e!=="number"||dh(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Yl=Array.isArray;function ca(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+yi(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Hm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(G(91));return ht({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function G0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(G(92));if(Yl(n)){if(1<n.length)throw Error(G(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:yi(n)}}function JE(t,e){var n=yi(e.value),r=yi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Z0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function eT(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function qm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?eT(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ad,tT=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ad=ad||document.createElement("div"),ad.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ad.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Au(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var lu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Tk=["Webkit","ms","Moz","O"];Object.keys(lu).forEach(function(t){Tk.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),lu[e]=lu[t]})});function nT(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||lu.hasOwnProperty(t)&&lu[t]?(""+e).trim():e+"px"}function rT(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=nT(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var Sk=ht({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Qm(t,e){if(e){if(Sk[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(G(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(G(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(G(61))}if(e.style!=null&&typeof e.style!="object")throw Error(G(62))}}function Km(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gm=null;function qy(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Zm=null,da=null,ha=null;function X0(t){if(t=Sc(t)){if(typeof Zm!="function")throw Error(G(280));var e=t.stateNode;e&&(e=Sf(e),Zm(t.stateNode,t.type,e))}}function sT(t){da?ha?ha.push(t):ha=[t]:da=t}function iT(){if(da){var t=da,e=ha;if(ha=da=null,X0(t),e)for(t=0;t<e.length;t++)X0(e[t])}}function oT(t,e){return t(e)}function aT(){}var Fp=!1;function lT(t,e,n){if(Fp)return t(e,n);Fp=!0;try{return oT(t,e,n)}finally{Fp=!1,(da!==null||ha!==null)&&(aT(),iT())}}function Ru(t,e){var n=t.stateNode;if(n===null)return null;var r=Sf(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(G(231,e,typeof n));return n}var Xm=!1;if(_s)try{var Ml={};Object.defineProperty(Ml,"passive",{get:function(){Xm=!0}}),window.addEventListener("test",Ml,Ml),window.removeEventListener("test",Ml,Ml)}catch{Xm=!1}function bk(t,e,n,r,s,i,o,a,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var uu=!1,hh=null,fh=!1,Ym=null,Ck={onError:function(t){uu=!0,hh=t}};function Ak(t,e,n,r,s,i,o,a,u){uu=!1,hh=null,bk.apply(Ck,arguments)}function Rk(t,e,n,r,s,i,o,a,u){if(Ak.apply(this,arguments),uu){if(uu){var c=hh;uu=!1,hh=null}else throw Error(G(198));fh||(fh=!0,Ym=c)}}function Io(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function uT(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Y0(t){if(Io(t)!==t)throw Error(G(188))}function Ik(t){var e=t.alternate;if(!e){if(e=Io(t),e===null)throw Error(G(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Y0(s),t;if(i===r)return Y0(s),e;i=i.sibling}throw Error(G(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(G(189))}}if(n.alternate!==r)throw Error(G(190))}if(n.tag!==3)throw Error(G(188));return n.stateNode.current===n?t:e}function cT(t){return t=Ik(t),t!==null?dT(t):null}function dT(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=dT(t);if(e!==null)return e;t=t.sibling}return null}var hT=Gn.unstable_scheduleCallback,J0=Gn.unstable_cancelCallback,Pk=Gn.unstable_shouldYield,kk=Gn.unstable_requestPaint,Tt=Gn.unstable_now,Nk=Gn.unstable_getCurrentPriorityLevel,Qy=Gn.unstable_ImmediatePriority,fT=Gn.unstable_UserBlockingPriority,ph=Gn.unstable_NormalPriority,Dk=Gn.unstable_LowPriority,pT=Gn.unstable_IdlePriority,wf=null,Wr=null;function Ok(t){if(Wr&&typeof Wr.onCommitFiberRoot=="function")try{Wr.onCommitFiberRoot(wf,t,void 0,(t.current.flags&128)===128)}catch{}}var Er=Math.clz32?Math.clz32:jk,Vk=Math.log,Mk=Math.LN2;function jk(t){return t>>>=0,t===0?32:31-(Vk(t)/Mk|0)|0}var ld=64,ud=4194304;function Jl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function mh(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Jl(a):(i&=o,i!==0&&(r=Jl(i)))}else o=n&~s,o!==0?r=Jl(o):i!==0&&(r=Jl(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Er(e),s=1<<n,r|=t[n],e&=~s;return r}function Lk(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fk(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Er(i),a=1<<o,u=s[o];u===-1?(!(a&n)||a&r)&&(s[o]=Lk(a,e)):u<=e&&(t.expiredLanes|=a),i&=~a}}function Jm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function mT(){var t=ld;return ld<<=1,!(ld&4194240)&&(ld=64),t}function Up(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ec(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Er(e),t[e]=n}function Uk(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Er(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Ky(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Er(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Ke=0;function gT(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var yT,Gy,vT,_T,wT,eg=!1,cd=[],ri=null,si=null,ii=null,Iu=new Map,Pu=new Map,Us=[],Bk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ew(t,e){switch(t){case"focusin":case"focusout":ri=null;break;case"dragenter":case"dragleave":si=null;break;case"mouseover":case"mouseout":ii=null;break;case"pointerover":case"pointerout":Iu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pu.delete(e.pointerId)}}function jl(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Sc(e),e!==null&&Gy(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function zk(t,e,n,r,s){switch(e){case"focusin":return ri=jl(ri,t,e,n,r,s),!0;case"dragenter":return si=jl(si,t,e,n,r,s),!0;case"mouseover":return ii=jl(ii,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Iu.set(i,jl(Iu.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Pu.set(i,jl(Pu.get(i)||null,t,e,n,r,s)),!0}return!1}function xT(t){var e=Ki(t.target);if(e!==null){var n=Io(e);if(n!==null){if(e=n.tag,e===13){if(e=uT(n),e!==null){t.blockedOn=e,wT(t.priority,function(){vT(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Bd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=tg(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Gm=r,n.target.dispatchEvent(r),Gm=null}else return e=Sc(n),e!==null&&Gy(e),t.blockedOn=n,!1;e.shift()}return!0}function tw(t,e,n){Bd(t)&&n.delete(e)}function $k(){eg=!1,ri!==null&&Bd(ri)&&(ri=null),si!==null&&Bd(si)&&(si=null),ii!==null&&Bd(ii)&&(ii=null),Iu.forEach(tw),Pu.forEach(tw)}function Ll(t,e){t.blockedOn===e&&(t.blockedOn=null,eg||(eg=!0,Gn.unstable_scheduleCallback(Gn.unstable_NormalPriority,$k)))}function ku(t){function e(s){return Ll(s,t)}if(0<cd.length){Ll(cd[0],t);for(var n=1;n<cd.length;n++){var r=cd[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ri!==null&&Ll(ri,t),si!==null&&Ll(si,t),ii!==null&&Ll(ii,t),Iu.forEach(e),Pu.forEach(e),n=0;n<Us.length;n++)r=Us[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Us.length&&(n=Us[0],n.blockedOn===null);)xT(n),n.blockedOn===null&&Us.shift()}var fa=Is.ReactCurrentBatchConfig,gh=!0;function Wk(t,e,n,r){var s=Ke,i=fa.transition;fa.transition=null;try{Ke=1,Zy(t,e,n,r)}finally{Ke=s,fa.transition=i}}function Hk(t,e,n,r){var s=Ke,i=fa.transition;fa.transition=null;try{Ke=4,Zy(t,e,n,r)}finally{Ke=s,fa.transition=i}}function Zy(t,e,n,r){if(gh){var s=tg(t,e,n,r);if(s===null)Zp(t,e,r,yh,n),ew(t,r);else if(zk(s,t,e,n,r))r.stopPropagation();else if(ew(t,r),e&4&&-1<Bk.indexOf(t)){for(;s!==null;){var i=Sc(s);if(i!==null&&yT(i),i=tg(t,e,n,r),i===null&&Zp(t,e,r,yh,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Zp(t,e,r,null,n)}}var yh=null;function tg(t,e,n,r){if(yh=null,t=qy(r),t=Ki(t),t!==null)if(e=Io(t),e===null)t=null;else if(n=e.tag,n===13){if(t=uT(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return yh=t,null}function ET(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Nk()){case Qy:return 1;case fT:return 4;case ph:case Dk:return 16;case pT:return 536870912;default:return 16}default:return 16}}var ei=null,Xy=null,zd=null;function TT(){if(zd)return zd;var t,e=Xy,n=e.length,r,s="value"in ei?ei.value:ei.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return zd=s.slice(t,1<r?1-r:void 0)}function $d(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function dd(){return!0}function nw(){return!1}function Jn(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?dd:nw,this.isPropagationStopped=nw,this}return ht(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=dd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=dd)},persist:function(){},isPersistent:dd}),e}var ll={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yy=Jn(ll),Tc=ht({},ll,{view:0,detail:0}),qk=Jn(Tc),Bp,zp,Fl,xf=ht({},Tc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jy,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Fl&&(Fl&&t.type==="mousemove"?(Bp=t.screenX-Fl.screenX,zp=t.screenY-Fl.screenY):zp=Bp=0,Fl=t),Bp)},movementY:function(t){return"movementY"in t?t.movementY:zp}}),rw=Jn(xf),Qk=ht({},xf,{dataTransfer:0}),Kk=Jn(Qk),Gk=ht({},Tc,{relatedTarget:0}),$p=Jn(Gk),Zk=ht({},ll,{animationName:0,elapsedTime:0,pseudoElement:0}),Xk=Jn(Zk),Yk=ht({},ll,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Jk=Jn(Yk),eN=ht({},ll,{data:0}),sw=Jn(eN),tN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sN(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=rN[t])?!!e[t]:!1}function Jy(){return sN}var iN=ht({},Tc,{key:function(t){if(t.key){var e=tN[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=$d(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?nN[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jy,charCode:function(t){return t.type==="keypress"?$d(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?$d(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),oN=Jn(iN),aN=ht({},xf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),iw=Jn(aN),lN=ht({},Tc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jy}),uN=Jn(lN),cN=ht({},ll,{propertyName:0,elapsedTime:0,pseudoElement:0}),dN=Jn(cN),hN=ht({},xf,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),fN=Jn(hN),pN=[9,13,27,32],ev=_s&&"CompositionEvent"in window,cu=null;_s&&"documentMode"in document&&(cu=document.documentMode);var mN=_s&&"TextEvent"in window&&!cu,ST=_s&&(!ev||cu&&8<cu&&11>=cu),ow=" ",aw=!1;function bT(t,e){switch(t){case"keyup":return pN.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function CT(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Jo=!1;function gN(t,e){switch(t){case"compositionend":return CT(e);case"keypress":return e.which!==32?null:(aw=!0,ow);case"textInput":return t=e.data,t===ow&&aw?null:t;default:return null}}function yN(t,e){if(Jo)return t==="compositionend"||!ev&&bT(t,e)?(t=TT(),zd=Xy=ei=null,Jo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return ST&&e.locale!=="ko"?null:e.data;default:return null}}var vN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!vN[t.type]:e==="textarea"}function AT(t,e,n,r){sT(r),e=vh(e,"onChange"),0<e.length&&(n=new Yy("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var du=null,Nu=null;function _N(t){LT(t,0)}function Ef(t){var e=na(t);if(XE(e))return t}function wN(t,e){if(t==="change")return e}var RT=!1;if(_s){var Wp;if(_s){var Hp="oninput"in document;if(!Hp){var uw=document.createElement("div");uw.setAttribute("oninput","return;"),Hp=typeof uw.oninput=="function"}Wp=Hp}else Wp=!1;RT=Wp&&(!document.documentMode||9<document.documentMode)}function cw(){du&&(du.detachEvent("onpropertychange",IT),Nu=du=null)}function IT(t){if(t.propertyName==="value"&&Ef(Nu)){var e=[];AT(e,Nu,t,qy(t)),lT(_N,e)}}function xN(t,e,n){t==="focusin"?(cw(),du=e,Nu=n,du.attachEvent("onpropertychange",IT)):t==="focusout"&&cw()}function EN(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ef(Nu)}function TN(t,e){if(t==="click")return Ef(e)}function SN(t,e){if(t==="input"||t==="change")return Ef(e)}function bN(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var br=typeof Object.is=="function"?Object.is:bN;function Du(t,e){if(br(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!jm.call(e,s)||!br(t[s],e[s]))return!1}return!0}function dw(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function hw(t,e){var n=dw(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=dw(n)}}function PT(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?PT(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function kT(){for(var t=window,e=dh();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=dh(t.document)}return e}function tv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function CN(t){var e=kT(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&PT(n.ownerDocument.documentElement,n)){if(r!==null&&tv(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=hw(n,i);var o=hw(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var AN=_s&&"documentMode"in document&&11>=document.documentMode,ea=null,ng=null,hu=null,rg=!1;function fw(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;rg||ea==null||ea!==dh(r)||(r=ea,"selectionStart"in r&&tv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),hu&&Du(hu,r)||(hu=r,r=vh(ng,"onSelect"),0<r.length&&(e=new Yy("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ea)))}function hd(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ta={animationend:hd("Animation","AnimationEnd"),animationiteration:hd("Animation","AnimationIteration"),animationstart:hd("Animation","AnimationStart"),transitionend:hd("Transition","TransitionEnd")},qp={},NT={};_s&&(NT=document.createElement("div").style,"AnimationEvent"in window||(delete ta.animationend.animation,delete ta.animationiteration.animation,delete ta.animationstart.animation),"TransitionEvent"in window||delete ta.transitionend.transition);function Tf(t){if(qp[t])return qp[t];if(!ta[t])return t;var e=ta[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in NT)return qp[t]=e[n];return t}var DT=Tf("animationend"),OT=Tf("animationiteration"),VT=Tf("animationstart"),MT=Tf("transitionend"),jT=new Map,pw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ni(t,e){jT.set(t,e),Ro(e,[t])}for(var Qp=0;Qp<pw.length;Qp++){var Kp=pw[Qp],RN=Kp.toLowerCase(),IN=Kp[0].toUpperCase()+Kp.slice(1);Ni(RN,"on"+IN)}Ni(DT,"onAnimationEnd");Ni(OT,"onAnimationIteration");Ni(VT,"onAnimationStart");Ni("dblclick","onDoubleClick");Ni("focusin","onFocus");Ni("focusout","onBlur");Ni(MT,"onTransitionEnd");Ua("onMouseEnter",["mouseout","mouseover"]);Ua("onMouseLeave",["mouseout","mouseover"]);Ua("onPointerEnter",["pointerout","pointerover"]);Ua("onPointerLeave",["pointerout","pointerover"]);Ro("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ro("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ro("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ro("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ro("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ro("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var eu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),PN=new Set("cancel close invalid load scroll toggle".split(" ").concat(eu));function mw(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Rk(r,e,void 0,t),t.currentTarget=null}function LT(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==i&&s.isPropagationStopped())break e;mw(s,a,c),i=u}else for(o=0;o<r.length;o++){if(a=r[o],u=a.instance,c=a.currentTarget,a=a.listener,u!==i&&s.isPropagationStopped())break e;mw(s,a,c),i=u}}}if(fh)throw t=Ym,fh=!1,Ym=null,t}function tt(t,e){var n=e[lg];n===void 0&&(n=e[lg]=new Set);var r=t+"__bubble";n.has(r)||(FT(e,t,2,!1),n.add(r))}function Gp(t,e,n){var r=0;e&&(r|=4),FT(n,t,r,e)}var fd="_reactListening"+Math.random().toString(36).slice(2);function Ou(t){if(!t[fd]){t[fd]=!0,qE.forEach(function(n){n!=="selectionchange"&&(PN.has(n)||Gp(n,!1,t),Gp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[fd]||(e[fd]=!0,Gp("selectionchange",!1,e))}}function FT(t,e,n,r){switch(ET(e)){case 1:var s=Wk;break;case 4:s=Hk;break;default:s=Zy}n=s.bind(null,e,n,t),s=void 0,!Xm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Zp(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Ki(a),o===null)return;if(u=o.tag,u===5||u===6){r=i=o;continue e}a=a.parentNode}}r=r.return}lT(function(){var c=i,d=qy(n),m=[];e:{var h=jT.get(t);if(h!==void 0){var _=Yy,S=t;switch(t){case"keypress":if($d(n)===0)break e;case"keydown":case"keyup":_=oN;break;case"focusin":S="focus",_=$p;break;case"focusout":S="blur",_=$p;break;case"beforeblur":case"afterblur":_=$p;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_=rw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_=Kk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_=uN;break;case DT:case OT:case VT:_=Xk;break;case MT:_=dN;break;case"scroll":_=qk;break;case"wheel":_=fN;break;case"copy":case"cut":case"paste":_=Jk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_=iw}var v=(e&4)!==0,E=!v&&t==="scroll",w=v?h!==null?h+"Capture":null:h;v=[];for(var y=c,x;y!==null;){x=y;var k=x.stateNode;if(x.tag===5&&k!==null&&(x=k,w!==null&&(k=Ru(y,w),k!=null&&v.push(Vu(y,k,x)))),E)break;y=y.return}0<v.length&&(h=new _(h,S,null,n,d),m.push({event:h,listeners:v}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",_=t==="mouseout"||t==="pointerout",h&&n!==Gm&&(S=n.relatedTarget||n.fromElement)&&(Ki(S)||S[ws]))break e;if((_||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,_?(S=n.relatedTarget||n.toElement,_=c,S=S?Ki(S):null,S!==null&&(E=Io(S),S!==E||S.tag!==5&&S.tag!==6)&&(S=null)):(_=null,S=c),_!==S)){if(v=rw,k="onMouseLeave",w="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(v=iw,k="onPointerLeave",w="onPointerEnter",y="pointer"),E=_==null?h:na(_),x=S==null?h:na(S),h=new v(k,y+"leave",_,n,d),h.target=E,h.relatedTarget=x,k=null,Ki(d)===c&&(v=new v(w,y+"enter",S,n,d),v.target=x,v.relatedTarget=E,k=v),E=k,_&&S)t:{for(v=_,w=S,y=0,x=v;x;x=Bo(x))y++;for(x=0,k=w;k;k=Bo(k))x++;for(;0<y-x;)v=Bo(v),y--;for(;0<x-y;)w=Bo(w),x--;for(;y--;){if(v===w||w!==null&&v===w.alternate)break t;v=Bo(v),w=Bo(w)}v=null}else v=null;_!==null&&gw(m,h,_,v,!1),S!==null&&E!==null&&gw(m,E,S,v,!0)}}e:{if(h=c?na(c):window,_=h.nodeName&&h.nodeName.toLowerCase(),_==="select"||_==="input"&&h.type==="file")var V=wN;else if(lw(h))if(RT)V=SN;else{V=EN;var L=xN}else(_=h.nodeName)&&_.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(V=TN);if(V&&(V=V(t,c))){AT(m,V,n,d);break e}L&&L(t,h,c),t==="focusout"&&(L=h._wrapperState)&&L.controlled&&h.type==="number"&&Wm(h,"number",h.value)}switch(L=c?na(c):window,t){case"focusin":(lw(L)||L.contentEditable==="true")&&(ea=L,ng=c,hu=null);break;case"focusout":hu=ng=ea=null;break;case"mousedown":rg=!0;break;case"contextmenu":case"mouseup":case"dragend":rg=!1,fw(m,n,d);break;case"selectionchange":if(AN)break;case"keydown":case"keyup":fw(m,n,d)}var C;if(ev)e:{switch(t){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Jo?bT(t,n)&&(b="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(ST&&n.locale!=="ko"&&(Jo||b!=="onCompositionStart"?b==="onCompositionEnd"&&Jo&&(C=TT()):(ei=d,Xy="value"in ei?ei.value:ei.textContent,Jo=!0)),L=vh(c,b),0<L.length&&(b=new sw(b,t,null,n,d),m.push({event:b,listeners:L}),C?b.data=C:(C=CT(n),C!==null&&(b.data=C)))),(C=mN?gN(t,n):yN(t,n))&&(c=vh(c,"onBeforeInput"),0<c.length&&(d=new sw("onBeforeInput","beforeinput",null,n,d),m.push({event:d,listeners:c}),d.data=C))}LT(m,e)})}function Vu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function vh(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Ru(t,n),i!=null&&r.unshift(Vu(t,i,s)),i=Ru(t,e),i!=null&&r.push(Vu(t,i,s))),t=t.return}return r}function Bo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function gw(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,u=a.alternate,c=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&c!==null&&(a=c,s?(u=Ru(n,i),u!=null&&o.unshift(Vu(n,u,a))):s||(u=Ru(n,i),u!=null&&o.push(Vu(n,u,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var kN=/\r\n?/g,NN=/\u0000|\uFFFD/g;function yw(t){return(typeof t=="string"?t:""+t).replace(kN,`
`).replace(NN,"")}function pd(t,e,n){if(e=yw(e),yw(t)!==e&&n)throw Error(G(425))}function _h(){}var sg=null,ig=null;function og(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ag=typeof setTimeout=="function"?setTimeout:void 0,DN=typeof clearTimeout=="function"?clearTimeout:void 0,vw=typeof Promise=="function"?Promise:void 0,ON=typeof queueMicrotask=="function"?queueMicrotask:typeof vw<"u"?function(t){return vw.resolve(null).then(t).catch(VN)}:ag;function VN(t){setTimeout(function(){throw t})}function Xp(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),ku(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);ku(e)}function oi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function _w(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ul=Math.random().toString(36).slice(2),Ur="__reactFiber$"+ul,Mu="__reactProps$"+ul,ws="__reactContainer$"+ul,lg="__reactEvents$"+ul,MN="__reactListeners$"+ul,jN="__reactHandles$"+ul;function Ki(t){var e=t[Ur];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ws]||n[Ur]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=_w(t);t!==null;){if(n=t[Ur])return n;t=_w(t)}return e}t=n,n=t.parentNode}return null}function Sc(t){return t=t[Ur]||t[ws],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function na(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(G(33))}function Sf(t){return t[Mu]||null}var ug=[],ra=-1;function Di(t){return{current:t}}function st(t){0>ra||(t.current=ug[ra],ug[ra]=null,ra--)}function Ye(t,e){ra++,ug[ra]=t.current,t.current=e}var vi={},un=Di(vi),On=Di(!1),fo=vi;function Ba(t,e){var n=t.type.contextTypes;if(!n)return vi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Vn(t){return t=t.childContextTypes,t!=null}function wh(){st(On),st(un)}function ww(t,e,n){if(un.current!==vi)throw Error(G(168));Ye(un,e),Ye(On,n)}function UT(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(G(108,xk(t)||"Unknown",s));return ht({},n,r)}function xh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||vi,fo=un.current,Ye(un,t),Ye(On,On.current),!0}function xw(t,e,n){var r=t.stateNode;if(!r)throw Error(G(169));n?(t=UT(t,e,fo),r.__reactInternalMemoizedMergedChildContext=t,st(On),st(un),Ye(un,t)):st(On),Ye(On,n)}var hs=null,bf=!1,Yp=!1;function BT(t){hs===null?hs=[t]:hs.push(t)}function LN(t){bf=!0,BT(t)}function Oi(){if(!Yp&&hs!==null){Yp=!0;var t=0,e=Ke;try{var n=hs;for(Ke=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}hs=null,bf=!1}catch(s){throw hs!==null&&(hs=hs.slice(t+1)),hT(Qy,Oi),s}finally{Ke=e,Yp=!1}}return null}var sa=[],ia=0,Eh=null,Th=0,nr=[],rr=0,po=null,ms=1,gs="";function Hi(t,e){sa[ia++]=Th,sa[ia++]=Eh,Eh=t,Th=e}function zT(t,e,n){nr[rr++]=ms,nr[rr++]=gs,nr[rr++]=po,po=t;var r=ms;t=gs;var s=32-Er(r)-1;r&=~(1<<s),n+=1;var i=32-Er(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,ms=1<<32-Er(e)+s|n<<s|r,gs=i+t}else ms=1<<i|n<<s|r,gs=t}function nv(t){t.return!==null&&(Hi(t,1),zT(t,1,0))}function rv(t){for(;t===Eh;)Eh=sa[--ia],sa[ia]=null,Th=sa[--ia],sa[ia]=null;for(;t===po;)po=nr[--rr],nr[rr]=null,gs=nr[--rr],nr[rr]=null,ms=nr[--rr],nr[rr]=null}var qn=null,$n=null,ot=!1,yr=null;function $T(t,e){var n=ir(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Ew(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,qn=t,$n=oi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,qn=t,$n=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=po!==null?{id:ms,overflow:gs}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ir(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,qn=t,$n=null,!0):!1;default:return!1}}function cg(t){return(t.mode&1)!==0&&(t.flags&128)===0}function dg(t){if(ot){var e=$n;if(e){var n=e;if(!Ew(t,e)){if(cg(t))throw Error(G(418));e=oi(n.nextSibling);var r=qn;e&&Ew(t,e)?$T(r,n):(t.flags=t.flags&-4097|2,ot=!1,qn=t)}}else{if(cg(t))throw Error(G(418));t.flags=t.flags&-4097|2,ot=!1,qn=t}}}function Tw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;qn=t}function md(t){if(t!==qn)return!1;if(!ot)return Tw(t),ot=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!og(t.type,t.memoizedProps)),e&&(e=$n)){if(cg(t))throw WT(),Error(G(418));for(;e;)$T(t,e),e=oi(e.nextSibling)}if(Tw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(G(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){$n=oi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}$n=null}}else $n=qn?oi(t.stateNode.nextSibling):null;return!0}function WT(){for(var t=$n;t;)t=oi(t.nextSibling)}function za(){$n=qn=null,ot=!1}function sv(t){yr===null?yr=[t]:yr.push(t)}var FN=Is.ReactCurrentBatchConfig;function Ul(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(G(309));var r=n.stateNode}if(!r)throw Error(G(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(G(284));if(!n._owner)throw Error(G(290,t))}return t}function gd(t,e){throw t=Object.prototype.toString.call(e),Error(G(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Sw(t){var e=t._init;return e(t._payload)}function HT(t){function e(w,y){if(t){var x=w.deletions;x===null?(w.deletions=[y],w.flags|=16):x.push(y)}}function n(w,y){if(!t)return null;for(;y!==null;)e(w,y),y=y.sibling;return null}function r(w,y){for(w=new Map;y!==null;)y.key!==null?w.set(y.key,y):w.set(y.index,y),y=y.sibling;return w}function s(w,y){return w=ci(w,y),w.index=0,w.sibling=null,w}function i(w,y,x){return w.index=x,t?(x=w.alternate,x!==null?(x=x.index,x<y?(w.flags|=2,y):x):(w.flags|=2,y)):(w.flags|=1048576,y)}function o(w){return t&&w.alternate===null&&(w.flags|=2),w}function a(w,y,x,k){return y===null||y.tag!==6?(y=im(x,w.mode,k),y.return=w,y):(y=s(y,x),y.return=w,y)}function u(w,y,x,k){var V=x.type;return V===Yo?d(w,y,x.props.children,k,x.key):y!==null&&(y.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===Ls&&Sw(V)===y.type)?(k=s(y,x.props),k.ref=Ul(w,y,x),k.return=w,k):(k=Zd(x.type,x.key,x.props,null,w.mode,k),k.ref=Ul(w,y,x),k.return=w,k)}function c(w,y,x,k){return y===null||y.tag!==4||y.stateNode.containerInfo!==x.containerInfo||y.stateNode.implementation!==x.implementation?(y=om(x,w.mode,k),y.return=w,y):(y=s(y,x.children||[]),y.return=w,y)}function d(w,y,x,k,V){return y===null||y.tag!==7?(y=ao(x,w.mode,k,V),y.return=w,y):(y=s(y,x),y.return=w,y)}function m(w,y,x){if(typeof y=="string"&&y!==""||typeof y=="number")return y=im(""+y,w.mode,x),y.return=w,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case id:return x=Zd(y.type,y.key,y.props,null,w.mode,x),x.ref=Ul(w,null,y),x.return=w,x;case Xo:return y=om(y,w.mode,x),y.return=w,y;case Ls:var k=y._init;return m(w,k(y._payload),x)}if(Yl(y)||Vl(y))return y=ao(y,w.mode,x,null),y.return=w,y;gd(w,y)}return null}function h(w,y,x,k){var V=y!==null?y.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return V!==null?null:a(w,y,""+x,k);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case id:return x.key===V?u(w,y,x,k):null;case Xo:return x.key===V?c(w,y,x,k):null;case Ls:return V=x._init,h(w,y,V(x._payload),k)}if(Yl(x)||Vl(x))return V!==null?null:d(w,y,x,k,null);gd(w,x)}return null}function _(w,y,x,k,V){if(typeof k=="string"&&k!==""||typeof k=="number")return w=w.get(x)||null,a(y,w,""+k,V);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case id:return w=w.get(k.key===null?x:k.key)||null,u(y,w,k,V);case Xo:return w=w.get(k.key===null?x:k.key)||null,c(y,w,k,V);case Ls:var L=k._init;return _(w,y,x,L(k._payload),V)}if(Yl(k)||Vl(k))return w=w.get(x)||null,d(y,w,k,V,null);gd(y,k)}return null}function S(w,y,x,k){for(var V=null,L=null,C=y,b=y=0,A=null;C!==null&&b<x.length;b++){C.index>b?(A=C,C=null):A=C.sibling;var P=h(w,C,x[b],k);if(P===null){C===null&&(C=A);break}t&&C&&P.alternate===null&&e(w,C),y=i(P,y,b),L===null?V=P:L.sibling=P,L=P,C=A}if(b===x.length)return n(w,C),ot&&Hi(w,b),V;if(C===null){for(;b<x.length;b++)C=m(w,x[b],k),C!==null&&(y=i(C,y,b),L===null?V=C:L.sibling=C,L=C);return ot&&Hi(w,b),V}for(C=r(w,C);b<x.length;b++)A=_(C,w,b,x[b],k),A!==null&&(t&&A.alternate!==null&&C.delete(A.key===null?b:A.key),y=i(A,y,b),L===null?V=A:L.sibling=A,L=A);return t&&C.forEach(function(D){return e(w,D)}),ot&&Hi(w,b),V}function v(w,y,x,k){var V=Vl(x);if(typeof V!="function")throw Error(G(150));if(x=V.call(x),x==null)throw Error(G(151));for(var L=V=null,C=y,b=y=0,A=null,P=x.next();C!==null&&!P.done;b++,P=x.next()){C.index>b?(A=C,C=null):A=C.sibling;var D=h(w,C,P.value,k);if(D===null){C===null&&(C=A);break}t&&C&&D.alternate===null&&e(w,C),y=i(D,y,b),L===null?V=D:L.sibling=D,L=D,C=A}if(P.done)return n(w,C),ot&&Hi(w,b),V;if(C===null){for(;!P.done;b++,P=x.next())P=m(w,P.value,k),P!==null&&(y=i(P,y,b),L===null?V=P:L.sibling=P,L=P);return ot&&Hi(w,b),V}for(C=r(w,C);!P.done;b++,P=x.next())P=_(C,w,b,P.value,k),P!==null&&(t&&P.alternate!==null&&C.delete(P.key===null?b:P.key),y=i(P,y,b),L===null?V=P:L.sibling=P,L=P);return t&&C.forEach(function(N){return e(w,N)}),ot&&Hi(w,b),V}function E(w,y,x,k){if(typeof x=="object"&&x!==null&&x.type===Yo&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case id:e:{for(var V=x.key,L=y;L!==null;){if(L.key===V){if(V=x.type,V===Yo){if(L.tag===7){n(w,L.sibling),y=s(L,x.props.children),y.return=w,w=y;break e}}else if(L.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===Ls&&Sw(V)===L.type){n(w,L.sibling),y=s(L,x.props),y.ref=Ul(w,L,x),y.return=w,w=y;break e}n(w,L);break}else e(w,L);L=L.sibling}x.type===Yo?(y=ao(x.props.children,w.mode,k,x.key),y.return=w,w=y):(k=Zd(x.type,x.key,x.props,null,w.mode,k),k.ref=Ul(w,y,x),k.return=w,w=k)}return o(w);case Xo:e:{for(L=x.key;y!==null;){if(y.key===L)if(y.tag===4&&y.stateNode.containerInfo===x.containerInfo&&y.stateNode.implementation===x.implementation){n(w,y.sibling),y=s(y,x.children||[]),y.return=w,w=y;break e}else{n(w,y);break}else e(w,y);y=y.sibling}y=om(x,w.mode,k),y.return=w,w=y}return o(w);case Ls:return L=x._init,E(w,y,L(x._payload),k)}if(Yl(x))return S(w,y,x,k);if(Vl(x))return v(w,y,x,k);gd(w,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,y!==null&&y.tag===6?(n(w,y.sibling),y=s(y,x),y.return=w,w=y):(n(w,y),y=im(x,w.mode,k),y.return=w,w=y),o(w)):n(w,y)}return E}var $a=HT(!0),qT=HT(!1),Sh=Di(null),bh=null,oa=null,iv=null;function ov(){iv=oa=bh=null}function av(t){var e=Sh.current;st(Sh),t._currentValue=e}function hg(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function pa(t,e){bh=t,iv=oa=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Dn=!0),t.firstContext=null)}function ar(t){var e=t._currentValue;if(iv!==t)if(t={context:t,memoizedValue:e,next:null},oa===null){if(bh===null)throw Error(G(308));oa=t,bh.dependencies={lanes:0,firstContext:t}}else oa=oa.next=t;return e}var Gi=null;function lv(t){Gi===null?Gi=[t]:Gi.push(t)}function QT(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,lv(e)):(n.next=s.next,s.next=n),e.interleaved=n,xs(t,r)}function xs(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Fs=!1;function uv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function KT(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ys(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ai(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ue&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,xs(t,n)}return s=r.interleaved,s===null?(e.next=e,lv(r)):(e.next=s.next,s.next=e),r.interleaved=e,xs(t,n)}function Wd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ky(t,n)}}function bw(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ch(t,e,n,r){var s=t.updateQueue;Fs=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var u=a,c=u.next;u.next=null,o===null?i=c:o.next=c,o=u;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=u))}if(i!==null){var m=s.baseState;o=0,d=c=u=null,a=i;do{var h=a.lane,_=a.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:_,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var S=t,v=a;switch(h=e,_=n,v.tag){case 1:if(S=v.payload,typeof S=="function"){m=S.call(_,m,h);break e}m=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=v.payload,h=typeof S=="function"?S.call(_,m,h):S,h==null)break e;m=ht({},m,h);break e;case 2:Fs=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=s.effects,h===null?s.effects=[a]:h.push(a))}else _={eventTime:_,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=_,u=m):d=d.next=_,o|=h;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;h=a,a=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(u=m),s.baseState=u,s.firstBaseUpdate=c,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);go|=o,t.lanes=o,t.memoizedState=m}}function Cw(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(G(191,s));s.call(r)}}}var bc={},Hr=Di(bc),ju=Di(bc),Lu=Di(bc);function Zi(t){if(t===bc)throw Error(G(174));return t}function cv(t,e){switch(Ye(Lu,e),Ye(ju,t),Ye(Hr,bc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:qm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=qm(e,t)}st(Hr),Ye(Hr,e)}function Wa(){st(Hr),st(ju),st(Lu)}function GT(t){Zi(Lu.current);var e=Zi(Hr.current),n=qm(e,t.type);e!==n&&(Ye(ju,t),Ye(Hr,n))}function dv(t){ju.current===t&&(st(Hr),st(ju))}var ct=Di(0);function Ah(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Jp=[];function hv(){for(var t=0;t<Jp.length;t++)Jp[t]._workInProgressVersionPrimary=null;Jp.length=0}var Hd=Is.ReactCurrentDispatcher,em=Is.ReactCurrentBatchConfig,mo=0,dt=null,Ot=null,Bt=null,Rh=!1,fu=!1,Fu=0,UN=0;function tn(){throw Error(G(321))}function fv(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!br(t[n],e[n]))return!1;return!0}function pv(t,e,n,r,s,i){if(mo=i,dt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Hd.current=t===null||t.memoizedState===null?WN:HN,t=n(r,s),fu){i=0;do{if(fu=!1,Fu=0,25<=i)throw Error(G(301));i+=1,Bt=Ot=null,e.updateQueue=null,Hd.current=qN,t=n(r,s)}while(fu)}if(Hd.current=Ih,e=Ot!==null&&Ot.next!==null,mo=0,Bt=Ot=dt=null,Rh=!1,e)throw Error(G(300));return t}function mv(){var t=Fu!==0;return Fu=0,t}function Nr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bt===null?dt.memoizedState=Bt=t:Bt=Bt.next=t,Bt}function lr(){if(Ot===null){var t=dt.alternate;t=t!==null?t.memoizedState:null}else t=Ot.next;var e=Bt===null?dt.memoizedState:Bt.next;if(e!==null)Bt=e,Ot=t;else{if(t===null)throw Error(G(310));Ot=t,t={memoizedState:Ot.memoizedState,baseState:Ot.baseState,baseQueue:Ot.baseQueue,queue:Ot.queue,next:null},Bt===null?dt.memoizedState=Bt=t:Bt=Bt.next=t}return Bt}function Uu(t,e){return typeof e=="function"?e(t):e}function tm(t){var e=lr(),n=e.queue;if(n===null)throw Error(G(311));n.lastRenderedReducer=t;var r=Ot,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,u=null,c=i;do{var d=c.lane;if((mo&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var m={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(a=u=m,o=r):u=u.next=m,dt.lanes|=d,go|=d}c=c.next}while(c!==null&&c!==i);u===null?o=r:u.next=a,br(r,e.memoizedState)||(Dn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,dt.lanes|=i,go|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function nm(t){var e=lr(),n=e.queue;if(n===null)throw Error(G(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);br(i,e.memoizedState)||(Dn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function ZT(){}function XT(t,e){var n=dt,r=lr(),s=e(),i=!br(r.memoizedState,s);if(i&&(r.memoizedState=s,Dn=!0),r=r.queue,gv(eS.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Bt!==null&&Bt.memoizedState.tag&1){if(n.flags|=2048,Bu(9,JT.bind(null,n,r,s,e),void 0,null),zt===null)throw Error(G(349));mo&30||YT(n,e,s)}return s}function YT(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=dt.updateQueue,e===null?(e={lastEffect:null,stores:null},dt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function JT(t,e,n,r){e.value=n,e.getSnapshot=r,tS(e)&&nS(t)}function eS(t,e,n){return n(function(){tS(e)&&nS(t)})}function tS(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!br(t,n)}catch{return!0}}function nS(t){var e=xs(t,1);e!==null&&Tr(e,t,1,-1)}function Aw(t){var e=Nr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Uu,lastRenderedState:t},e.queue=t,t=t.dispatch=$N.bind(null,dt,t),[e.memoizedState,t]}function Bu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=dt.updateQueue,e===null?(e={lastEffect:null,stores:null},dt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function rS(){return lr().memoizedState}function qd(t,e,n,r){var s=Nr();dt.flags|=t,s.memoizedState=Bu(1|e,n,void 0,r===void 0?null:r)}function Cf(t,e,n,r){var s=lr();r=r===void 0?null:r;var i=void 0;if(Ot!==null){var o=Ot.memoizedState;if(i=o.destroy,r!==null&&fv(r,o.deps)){s.memoizedState=Bu(e,n,i,r);return}}dt.flags|=t,s.memoizedState=Bu(1|e,n,i,r)}function Rw(t,e){return qd(8390656,8,t,e)}function gv(t,e){return Cf(2048,8,t,e)}function sS(t,e){return Cf(4,2,t,e)}function iS(t,e){return Cf(4,4,t,e)}function oS(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function aS(t,e,n){return n=n!=null?n.concat([t]):null,Cf(4,4,oS.bind(null,e,t),n)}function yv(){}function lS(t,e){var n=lr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&fv(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function uS(t,e){var n=lr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&fv(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function cS(t,e,n){return mo&21?(br(n,e)||(n=mT(),dt.lanes|=n,go|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Dn=!0),t.memoizedState=n)}function BN(t,e){var n=Ke;Ke=n!==0&&4>n?n:4,t(!0);var r=em.transition;em.transition={};try{t(!1),e()}finally{Ke=n,em.transition=r}}function dS(){return lr().memoizedState}function zN(t,e,n){var r=ui(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},hS(t))fS(e,n);else if(n=QT(t,e,n,r),n!==null){var s=_n();Tr(n,t,r,s),pS(n,e,r)}}function $N(t,e,n){var r=ui(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(hS(t))fS(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,br(a,o)){var u=e.interleaved;u===null?(s.next=s,lv(e)):(s.next=u.next,u.next=s),e.interleaved=s;return}}catch{}finally{}n=QT(t,e,s,r),n!==null&&(s=_n(),Tr(n,t,r,s),pS(n,e,r))}}function hS(t){var e=t.alternate;return t===dt||e!==null&&e===dt}function fS(t,e){fu=Rh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function pS(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ky(t,n)}}var Ih={readContext:ar,useCallback:tn,useContext:tn,useEffect:tn,useImperativeHandle:tn,useInsertionEffect:tn,useLayoutEffect:tn,useMemo:tn,useReducer:tn,useRef:tn,useState:tn,useDebugValue:tn,useDeferredValue:tn,useTransition:tn,useMutableSource:tn,useSyncExternalStore:tn,useId:tn,unstable_isNewReconciler:!1},WN={readContext:ar,useCallback:function(t,e){return Nr().memoizedState=[t,e===void 0?null:e],t},useContext:ar,useEffect:Rw,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,qd(4194308,4,oS.bind(null,e,t),n)},useLayoutEffect:function(t,e){return qd(4194308,4,t,e)},useInsertionEffect:function(t,e){return qd(4,2,t,e)},useMemo:function(t,e){var n=Nr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Nr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=zN.bind(null,dt,t),[r.memoizedState,t]},useRef:function(t){var e=Nr();return t={current:t},e.memoizedState=t},useState:Aw,useDebugValue:yv,useDeferredValue:function(t){return Nr().memoizedState=t},useTransition:function(){var t=Aw(!1),e=t[0];return t=BN.bind(null,t[1]),Nr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=dt,s=Nr();if(ot){if(n===void 0)throw Error(G(407));n=n()}else{if(n=e(),zt===null)throw Error(G(349));mo&30||YT(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,Rw(eS.bind(null,r,i,t),[t]),r.flags|=2048,Bu(9,JT.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Nr(),e=zt.identifierPrefix;if(ot){var n=gs,r=ms;n=(r&~(1<<32-Er(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Fu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=UN++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},HN={readContext:ar,useCallback:lS,useContext:ar,useEffect:gv,useImperativeHandle:aS,useInsertionEffect:sS,useLayoutEffect:iS,useMemo:uS,useReducer:tm,useRef:rS,useState:function(){return tm(Uu)},useDebugValue:yv,useDeferredValue:function(t){var e=lr();return cS(e,Ot.memoizedState,t)},useTransition:function(){var t=tm(Uu)[0],e=lr().memoizedState;return[t,e]},useMutableSource:ZT,useSyncExternalStore:XT,useId:dS,unstable_isNewReconciler:!1},qN={readContext:ar,useCallback:lS,useContext:ar,useEffect:gv,useImperativeHandle:aS,useInsertionEffect:sS,useLayoutEffect:iS,useMemo:uS,useReducer:nm,useRef:rS,useState:function(){return nm(Uu)},useDebugValue:yv,useDeferredValue:function(t){var e=lr();return Ot===null?e.memoizedState=t:cS(e,Ot.memoizedState,t)},useTransition:function(){var t=nm(Uu)[0],e=lr().memoizedState;return[t,e]},useMutableSource:ZT,useSyncExternalStore:XT,useId:dS,unstable_isNewReconciler:!1};function pr(t,e){if(t&&t.defaultProps){e=ht({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function fg(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ht({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Af={isMounted:function(t){return(t=t._reactInternals)?Io(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=_n(),s=ui(t),i=ys(r,s);i.payload=e,n!=null&&(i.callback=n),e=ai(t,i,s),e!==null&&(Tr(e,t,s,r),Wd(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=_n(),s=ui(t),i=ys(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=ai(t,i,s),e!==null&&(Tr(e,t,s,r),Wd(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=_n(),r=ui(t),s=ys(n,r);s.tag=2,e!=null&&(s.callback=e),e=ai(t,s,r),e!==null&&(Tr(e,t,r,n),Wd(e,t,r))}};function Iw(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Du(n,r)||!Du(s,i):!0}function mS(t,e,n){var r=!1,s=vi,i=e.contextType;return typeof i=="object"&&i!==null?i=ar(i):(s=Vn(e)?fo:un.current,r=e.contextTypes,i=(r=r!=null)?Ba(t,s):vi),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Af,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Pw(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Af.enqueueReplaceState(e,e.state,null)}function pg(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},uv(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=ar(i):(i=Vn(e)?fo:un.current,s.context=Ba(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(fg(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Af.enqueueReplaceState(s,s.state,null),Ch(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Ha(t,e){try{var n="",r=e;do n+=wk(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function rm(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function mg(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var QN=typeof WeakMap=="function"?WeakMap:Map;function gS(t,e,n){n=ys(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){kh||(kh=!0,bg=r),mg(t,e)},n}function yS(t,e,n){n=ys(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){mg(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){mg(t,e),typeof r!="function"&&(li===null?li=new Set([this]):li.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function kw(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new QN;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=a2.bind(null,t,e,n),e.then(t,t))}function Nw(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Dw(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ys(-1,1),e.tag=2,ai(n,e,1))),n.lanes|=1),t)}var KN=Is.ReactCurrentOwner,Dn=!1;function yn(t,e,n,r){e.child=t===null?qT(e,null,n,r):$a(e,t.child,n,r)}function Ow(t,e,n,r,s){n=n.render;var i=e.ref;return pa(e,s),r=pv(t,e,n,r,i,s),n=mv(),t!==null&&!Dn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Es(t,e,s)):(ot&&n&&nv(e),e.flags|=1,yn(t,e,r,s),e.child)}function Vw(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!bv(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,vS(t,e,i,r,s)):(t=Zd(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Du,n(o,r)&&t.ref===e.ref)return Es(t,e,s)}return e.flags|=1,t=ci(i,r),t.ref=e.ref,t.return=e,e.child=t}function vS(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Du(i,r)&&t.ref===e.ref)if(Dn=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Dn=!0);else return e.lanes=t.lanes,Es(t,e,s)}return gg(t,e,n,r,s)}function _S(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ye(la,Un),Un|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ye(la,Un),Un|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Ye(la,Un),Un|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Ye(la,Un),Un|=r;return yn(t,e,s,n),e.child}function wS(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function gg(t,e,n,r,s){var i=Vn(n)?fo:un.current;return i=Ba(e,i),pa(e,s),n=pv(t,e,n,r,i,s),r=mv(),t!==null&&!Dn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Es(t,e,s)):(ot&&r&&nv(e),e.flags|=1,yn(t,e,n,s),e.child)}function Mw(t,e,n,r,s){if(Vn(n)){var i=!0;xh(e)}else i=!1;if(pa(e,s),e.stateNode===null)Qd(t,e),mS(e,n,r),pg(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var u=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=ar(c):(c=Vn(n)?fo:un.current,c=Ba(e,c));var d=n.getDerivedStateFromProps,m=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||u!==c)&&Pw(e,o,r,c),Fs=!1;var h=e.memoizedState;o.state=h,Ch(e,r,o,s),u=e.memoizedState,a!==r||h!==u||On.current||Fs?(typeof d=="function"&&(fg(e,n,d,r),u=e.memoizedState),(a=Fs||Iw(e,n,a,r,h,u,c))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,KT(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:pr(e.type,a),o.props=c,m=e.pendingProps,h=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=ar(u):(u=Vn(n)?fo:un.current,u=Ba(e,u));var _=n.getDerivedStateFromProps;(d=typeof _=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==m||h!==u)&&Pw(e,o,r,u),Fs=!1,h=e.memoizedState,o.state=h,Ch(e,r,o,s);var S=e.memoizedState;a!==m||h!==S||On.current||Fs?(typeof _=="function"&&(fg(e,n,_,r),S=e.memoizedState),(c=Fs||Iw(e,n,c,r,h,S,u)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,S,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,S,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=S),o.props=r,o.state=S,o.context=u,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return yg(t,e,n,r,i,s)}function yg(t,e,n,r,s,i){wS(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&xw(e,n,!1),Es(t,e,i);r=e.stateNode,KN.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=$a(e,t.child,null,i),e.child=$a(e,null,a,i)):yn(t,e,a,i),e.memoizedState=r.state,s&&xw(e,n,!0),e.child}function xS(t){var e=t.stateNode;e.pendingContext?ww(t,e.pendingContext,e.pendingContext!==e.context):e.context&&ww(t,e.context,!1),cv(t,e.containerInfo)}function jw(t,e,n,r,s){return za(),sv(s),e.flags|=256,yn(t,e,n,r),e.child}var vg={dehydrated:null,treeContext:null,retryLane:0};function _g(t){return{baseLanes:t,cachePool:null,transitions:null}}function ES(t,e,n){var r=e.pendingProps,s=ct.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Ye(ct,s&1),t===null)return dg(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Pf(o,r,0,null),t=ao(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=_g(n),e.memoizedState=vg,t):vv(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return GN(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=ci(s,u),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=ci(a,i):(i=ao(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?_g(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=vg,r}return i=t.child,t=i.sibling,r=ci(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function vv(t,e){return e=Pf({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function yd(t,e,n,r){return r!==null&&sv(r),$a(e,t.child,null,n),t=vv(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function GN(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=rm(Error(G(422))),yd(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Pf({mode:"visible",children:r.children},s,0,null),i=ao(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&$a(e,t.child,null,o),e.child.memoizedState=_g(o),e.memoizedState=vg,i);if(!(e.mode&1))return yd(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(G(419)),r=rm(i,r,void 0),yd(t,e,o,r)}if(a=(o&t.childLanes)!==0,Dn||a){if(r=zt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,xs(t,s),Tr(r,t,s,-1))}return Sv(),r=rm(Error(G(421))),yd(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=l2.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,$n=oi(s.nextSibling),qn=e,ot=!0,yr=null,t!==null&&(nr[rr++]=ms,nr[rr++]=gs,nr[rr++]=po,ms=t.id,gs=t.overflow,po=e),e=vv(e,r.children),e.flags|=4096,e)}function Lw(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),hg(t.return,e,n)}function sm(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function TS(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(yn(t,e,r.children,n),r=ct.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Lw(t,n,e);else if(t.tag===19)Lw(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ye(ct,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Ah(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),sm(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Ah(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}sm(e,!0,n,null,i);break;case"together":sm(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Qd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Es(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),go|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(G(153));if(e.child!==null){for(t=e.child,n=ci(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ci(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function ZN(t,e,n){switch(e.tag){case 3:xS(e),za();break;case 5:GT(e);break;case 1:Vn(e.type)&&xh(e);break;case 4:cv(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Ye(Sh,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ye(ct,ct.current&1),e.flags|=128,null):n&e.child.childLanes?ES(t,e,n):(Ye(ct,ct.current&1),t=Es(t,e,n),t!==null?t.sibling:null);Ye(ct,ct.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return TS(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ye(ct,ct.current),r)break;return null;case 22:case 23:return e.lanes=0,_S(t,e,n)}return Es(t,e,n)}var SS,wg,bS,CS;SS=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};wg=function(){};bS=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Zi(Hr.current);var i=null;switch(n){case"input":s=zm(t,s),r=zm(t,r),i=[];break;case"select":s=ht({},s,{value:void 0}),r=ht({},r,{value:void 0}),i=[];break;case"textarea":s=Hm(t,s),r=Hm(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=_h)}Qm(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Cu.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var u=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&u!==a&&(u!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(i||(i=[]),i.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(i=i||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Cu.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&tt("scroll",t),i||a===u||(i=[])):(i=i||[]).push(c,u))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};CS=function(t,e,n,r){n!==r&&(e.flags|=4)};function Bl(t,e){if(!ot)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function nn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function XN(t,e,n){var r=e.pendingProps;switch(rv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nn(e),null;case 1:return Vn(e.type)&&wh(),nn(e),null;case 3:return r=e.stateNode,Wa(),st(On),st(un),hv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(md(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,yr!==null&&(Rg(yr),yr=null))),wg(t,e),nn(e),null;case 5:dv(e);var s=Zi(Lu.current);if(n=e.type,t!==null&&e.stateNode!=null)bS(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(G(166));return nn(e),null}if(t=Zi(Hr.current),md(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Ur]=e,r[Mu]=i,t=(e.mode&1)!==0,n){case"dialog":tt("cancel",r),tt("close",r);break;case"iframe":case"object":case"embed":tt("load",r);break;case"video":case"audio":for(s=0;s<eu.length;s++)tt(eu[s],r);break;case"source":tt("error",r);break;case"img":case"image":case"link":tt("error",r),tt("load",r);break;case"details":tt("toggle",r);break;case"input":Q0(r,i),tt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},tt("invalid",r);break;case"textarea":G0(r,i),tt("invalid",r)}Qm(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&pd(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&pd(r.textContent,a,t),s=["children",""+a]):Cu.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&tt("scroll",r)}switch(n){case"input":od(r),K0(r,i,!0);break;case"textarea":od(r),Z0(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=_h)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=eT(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Ur]=e,t[Mu]=r,SS(t,e,!1,!1),e.stateNode=t;e:{switch(o=Km(n,r),n){case"dialog":tt("cancel",t),tt("close",t),s=r;break;case"iframe":case"object":case"embed":tt("load",t),s=r;break;case"video":case"audio":for(s=0;s<eu.length;s++)tt(eu[s],t);s=r;break;case"source":tt("error",t),s=r;break;case"img":case"image":case"link":tt("error",t),tt("load",t),s=r;break;case"details":tt("toggle",t),s=r;break;case"input":Q0(t,r),s=zm(t,r),tt("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=ht({},r,{value:void 0}),tt("invalid",t);break;case"textarea":G0(t,r),s=Hm(t,r),tt("invalid",t);break;default:s=r}Qm(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var u=a[i];i==="style"?rT(t,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&tT(t,u)):i==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Au(t,u):typeof u=="number"&&Au(t,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Cu.hasOwnProperty(i)?u!=null&&i==="onScroll"&&tt("scroll",t):u!=null&&zy(t,i,u,o))}switch(n){case"input":od(t),K0(t,r,!1);break;case"textarea":od(t),Z0(t);break;case"option":r.value!=null&&t.setAttribute("value",""+yi(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?ca(t,!!r.multiple,i,!1):r.defaultValue!=null&&ca(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=_h)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return nn(e),null;case 6:if(t&&e.stateNode!=null)CS(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(G(166));if(n=Zi(Lu.current),Zi(Hr.current),md(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ur]=e,(i=r.nodeValue!==n)&&(t=qn,t!==null))switch(t.tag){case 3:pd(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&pd(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ur]=e,e.stateNode=r}return nn(e),null;case 13:if(st(ct),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ot&&$n!==null&&e.mode&1&&!(e.flags&128))WT(),za(),e.flags|=98560,i=!1;else if(i=md(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(G(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(G(317));i[Ur]=e}else za(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;nn(e),i=!1}else yr!==null&&(Rg(yr),yr=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ct.current&1?Mt===0&&(Mt=3):Sv())),e.updateQueue!==null&&(e.flags|=4),nn(e),null);case 4:return Wa(),wg(t,e),t===null&&Ou(e.stateNode.containerInfo),nn(e),null;case 10:return av(e.type._context),nn(e),null;case 17:return Vn(e.type)&&wh(),nn(e),null;case 19:if(st(ct),i=e.memoizedState,i===null)return nn(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Bl(i,!1);else{if(Mt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Ah(t),o!==null){for(e.flags|=128,Bl(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ye(ct,ct.current&1|2),e.child}t=t.sibling}i.tail!==null&&Tt()>qa&&(e.flags|=128,r=!0,Bl(i,!1),e.lanes=4194304)}else{if(!r)if(t=Ah(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Bl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ot)return nn(e),null}else 2*Tt()-i.renderingStartTime>qa&&n!==1073741824&&(e.flags|=128,r=!0,Bl(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Tt(),e.sibling=null,n=ct.current,Ye(ct,r?n&1|2:n&1),e):(nn(e),null);case 22:case 23:return Tv(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Un&1073741824&&(nn(e),e.subtreeFlags&6&&(e.flags|=8192)):nn(e),null;case 24:return null;case 25:return null}throw Error(G(156,e.tag))}function YN(t,e){switch(rv(e),e.tag){case 1:return Vn(e.type)&&wh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Wa(),st(On),st(un),hv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return dv(e),null;case 13:if(st(ct),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(G(340));za()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return st(ct),null;case 4:return Wa(),null;case 10:return av(e.type._context),null;case 22:case 23:return Tv(),null;case 24:return null;default:return null}}var vd=!1,an=!1,JN=typeof WeakSet=="function"?WeakSet:Set,le=null;function aa(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){yt(t,e,r)}else n.current=null}function xg(t,e,n){try{n()}catch(r){yt(t,e,r)}}var Fw=!1;function e2(t,e){if(sg=gh,t=kT(),tv(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,u=-1,c=0,d=0,m=t,h=null;t:for(;;){for(var _;m!==n||s!==0&&m.nodeType!==3||(a=o+s),m!==i||r!==0&&m.nodeType!==3||(u=o+r),m.nodeType===3&&(o+=m.nodeValue.length),(_=m.firstChild)!==null;)h=m,m=_;for(;;){if(m===t)break t;if(h===n&&++c===s&&(a=o),h===i&&++d===r&&(u=o),(_=m.nextSibling)!==null)break;m=h,h=m.parentNode}m=_}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ig={focusedElem:t,selectionRange:n},gh=!1,le=e;le!==null;)if(e=le,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,le=t;else for(;le!==null;){e=le;try{var S=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var v=S.memoizedProps,E=S.memoizedState,w=e.stateNode,y=w.getSnapshotBeforeUpdate(e.elementType===e.type?v:pr(e.type,v),E);w.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(G(163))}}catch(k){yt(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,le=t;break}le=e.return}return S=Fw,Fw=!1,S}function pu(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&xg(e,n,i)}s=s.next}while(s!==r)}}function Rf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Eg(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function AS(t){var e=t.alternate;e!==null&&(t.alternate=null,AS(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ur],delete e[Mu],delete e[lg],delete e[MN],delete e[jN])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function RS(t){return t.tag===5||t.tag===3||t.tag===4}function Uw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||RS(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Tg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=_h));else if(r!==4&&(t=t.child,t!==null))for(Tg(t,e,n),t=t.sibling;t!==null;)Tg(t,e,n),t=t.sibling}function Sg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Sg(t,e,n),t=t.sibling;t!==null;)Sg(t,e,n),t=t.sibling}var qt=null,gr=!1;function Ds(t,e,n){for(n=n.child;n!==null;)IS(t,e,n),n=n.sibling}function IS(t,e,n){if(Wr&&typeof Wr.onCommitFiberUnmount=="function")try{Wr.onCommitFiberUnmount(wf,n)}catch{}switch(n.tag){case 5:an||aa(n,e);case 6:var r=qt,s=gr;qt=null,Ds(t,e,n),qt=r,gr=s,qt!==null&&(gr?(t=qt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):qt.removeChild(n.stateNode));break;case 18:qt!==null&&(gr?(t=qt,n=n.stateNode,t.nodeType===8?Xp(t.parentNode,n):t.nodeType===1&&Xp(t,n),ku(t)):Xp(qt,n.stateNode));break;case 4:r=qt,s=gr,qt=n.stateNode.containerInfo,gr=!0,Ds(t,e,n),qt=r,gr=s;break;case 0:case 11:case 14:case 15:if(!an&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&xg(n,e,o),s=s.next}while(s!==r)}Ds(t,e,n);break;case 1:if(!an&&(aa(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){yt(n,e,a)}Ds(t,e,n);break;case 21:Ds(t,e,n);break;case 22:n.mode&1?(an=(r=an)||n.memoizedState!==null,Ds(t,e,n),an=r):Ds(t,e,n);break;default:Ds(t,e,n)}}function Bw(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new JN),e.forEach(function(r){var s=u2.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function hr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:qt=a.stateNode,gr=!1;break e;case 3:qt=a.stateNode.containerInfo,gr=!0;break e;case 4:qt=a.stateNode.containerInfo,gr=!0;break e}a=a.return}if(qt===null)throw Error(G(160));IS(i,o,s),qt=null,gr=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(c){yt(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)PS(e,t),e=e.sibling}function PS(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(hr(e,t),kr(t),r&4){try{pu(3,t,t.return),Rf(3,t)}catch(v){yt(t,t.return,v)}try{pu(5,t,t.return)}catch(v){yt(t,t.return,v)}}break;case 1:hr(e,t),kr(t),r&512&&n!==null&&aa(n,n.return);break;case 5:if(hr(e,t),kr(t),r&512&&n!==null&&aa(n,n.return),t.flags&32){var s=t.stateNode;try{Au(s,"")}catch(v){yt(t,t.return,v)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&YE(s,i),Km(a,o);var c=Km(a,i);for(o=0;o<u.length;o+=2){var d=u[o],m=u[o+1];d==="style"?rT(s,m):d==="dangerouslySetInnerHTML"?tT(s,m):d==="children"?Au(s,m):zy(s,d,m,c)}switch(a){case"input":$m(s,i);break;case"textarea":JE(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var _=i.value;_!=null?ca(s,!!i.multiple,_,!1):h!==!!i.multiple&&(i.defaultValue!=null?ca(s,!!i.multiple,i.defaultValue,!0):ca(s,!!i.multiple,i.multiple?[]:"",!1))}s[Mu]=i}catch(v){yt(t,t.return,v)}}break;case 6:if(hr(e,t),kr(t),r&4){if(t.stateNode===null)throw Error(G(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(v){yt(t,t.return,v)}}break;case 3:if(hr(e,t),kr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ku(e.containerInfo)}catch(v){yt(t,t.return,v)}break;case 4:hr(e,t),kr(t);break;case 13:hr(e,t),kr(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(xv=Tt())),r&4&&Bw(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(an=(c=an)||d,hr(e,t),an=c):hr(e,t),kr(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(le=t,d=t.child;d!==null;){for(m=le=d;le!==null;){switch(h=le,_=h.child,h.tag){case 0:case 11:case 14:case 15:pu(4,h,h.return);break;case 1:aa(h,h.return);var S=h.stateNode;if(typeof S.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,S.props=e.memoizedProps,S.state=e.memoizedState,S.componentWillUnmount()}catch(v){yt(r,n,v)}}break;case 5:aa(h,h.return);break;case 22:if(h.memoizedState!==null){$w(m);continue}}_!==null?(_.return=h,le=_):$w(m)}d=d.sibling}e:for(d=null,m=t;;){if(m.tag===5){if(d===null){d=m;try{s=m.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=m.stateNode,u=m.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=nT("display",o))}catch(v){yt(t,t.return,v)}}}else if(m.tag===6){if(d===null)try{m.stateNode.nodeValue=c?"":m.memoizedProps}catch(v){yt(t,t.return,v)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;d===m&&(d=null),m=m.return}d===m&&(d=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:hr(e,t),kr(t),r&4&&Bw(t);break;case 21:break;default:hr(e,t),kr(t)}}function kr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(RS(n)){var r=n;break e}n=n.return}throw Error(G(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Au(s,""),r.flags&=-33);var i=Uw(t);Sg(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Uw(t);Tg(t,a,o);break;default:throw Error(G(161))}}catch(u){yt(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function t2(t,e,n){le=t,kS(t)}function kS(t,e,n){for(var r=(t.mode&1)!==0;le!==null;){var s=le,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||vd;if(!o){var a=s.alternate,u=a!==null&&a.memoizedState!==null||an;a=vd;var c=an;if(vd=o,(an=u)&&!c)for(le=s;le!==null;)o=le,u=o.child,o.tag===22&&o.memoizedState!==null?Ww(s):u!==null?(u.return=o,le=u):Ww(s);for(;i!==null;)le=i,kS(i),i=i.sibling;le=s,vd=a,an=c}zw(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,le=i):zw(t)}}function zw(t){for(;le!==null;){var e=le;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:an||Rf(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!an)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:pr(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Cw(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Cw(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var m=d.dehydrated;m!==null&&ku(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(G(163))}an||e.flags&512&&Eg(e)}catch(h){yt(e,e.return,h)}}if(e===t){le=null;break}if(n=e.sibling,n!==null){n.return=e.return,le=n;break}le=e.return}}function $w(t){for(;le!==null;){var e=le;if(e===t){le=null;break}var n=e.sibling;if(n!==null){n.return=e.return,le=n;break}le=e.return}}function Ww(t){for(;le!==null;){var e=le;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Rf(4,e)}catch(u){yt(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(u){yt(e,s,u)}}var i=e.return;try{Eg(e)}catch(u){yt(e,i,u)}break;case 5:var o=e.return;try{Eg(e)}catch(u){yt(e,o,u)}}}catch(u){yt(e,e.return,u)}if(e===t){le=null;break}var a=e.sibling;if(a!==null){a.return=e.return,le=a;break}le=e.return}}var n2=Math.ceil,Ph=Is.ReactCurrentDispatcher,_v=Is.ReactCurrentOwner,or=Is.ReactCurrentBatchConfig,Ue=0,zt=null,At=null,Zt=0,Un=0,la=Di(0),Mt=0,zu=null,go=0,If=0,wv=0,mu=null,kn=null,xv=0,qa=1/0,ds=null,kh=!1,bg=null,li=null,_d=!1,ti=null,Nh=0,gu=0,Cg=null,Kd=-1,Gd=0;function _n(){return Ue&6?Tt():Kd!==-1?Kd:Kd=Tt()}function ui(t){return t.mode&1?Ue&2&&Zt!==0?Zt&-Zt:FN.transition!==null?(Gd===0&&(Gd=mT()),Gd):(t=Ke,t!==0||(t=window.event,t=t===void 0?16:ET(t.type)),t):1}function Tr(t,e,n,r){if(50<gu)throw gu=0,Cg=null,Error(G(185));Ec(t,n,r),(!(Ue&2)||t!==zt)&&(t===zt&&(!(Ue&2)&&(If|=n),Mt===4&&Bs(t,Zt)),Mn(t,r),n===1&&Ue===0&&!(e.mode&1)&&(qa=Tt()+500,bf&&Oi()))}function Mn(t,e){var n=t.callbackNode;Fk(t,e);var r=mh(t,t===zt?Zt:0);if(r===0)n!==null&&J0(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&J0(n),e===1)t.tag===0?LN(Hw.bind(null,t)):BT(Hw.bind(null,t)),ON(function(){!(Ue&6)&&Oi()}),n=null;else{switch(gT(r)){case 1:n=Qy;break;case 4:n=fT;break;case 16:n=ph;break;case 536870912:n=pT;break;default:n=ph}n=FS(n,NS.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function NS(t,e){if(Kd=-1,Gd=0,Ue&6)throw Error(G(327));var n=t.callbackNode;if(ma()&&t.callbackNode!==n)return null;var r=mh(t,t===zt?Zt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Dh(t,r);else{e=r;var s=Ue;Ue|=2;var i=OS();(zt!==t||Zt!==e)&&(ds=null,qa=Tt()+500,oo(t,e));do try{i2();break}catch(a){DS(t,a)}while(!0);ov(),Ph.current=i,Ue=s,At!==null?e=0:(zt=null,Zt=0,e=Mt)}if(e!==0){if(e===2&&(s=Jm(t),s!==0&&(r=s,e=Ag(t,s))),e===1)throw n=zu,oo(t,0),Bs(t,r),Mn(t,Tt()),n;if(e===6)Bs(t,r);else{if(s=t.current.alternate,!(r&30)&&!r2(s)&&(e=Dh(t,r),e===2&&(i=Jm(t),i!==0&&(r=i,e=Ag(t,i))),e===1))throw n=zu,oo(t,0),Bs(t,r),Mn(t,Tt()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(G(345));case 2:qi(t,kn,ds);break;case 3:if(Bs(t,r),(r&130023424)===r&&(e=xv+500-Tt(),10<e)){if(mh(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){_n(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=ag(qi.bind(null,t,kn,ds),e);break}qi(t,kn,ds);break;case 4:if(Bs(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Er(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Tt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*n2(r/1960))-r,10<r){t.timeoutHandle=ag(qi.bind(null,t,kn,ds),r);break}qi(t,kn,ds);break;case 5:qi(t,kn,ds);break;default:throw Error(G(329))}}}return Mn(t,Tt()),t.callbackNode===n?NS.bind(null,t):null}function Ag(t,e){var n=mu;return t.current.memoizedState.isDehydrated&&(oo(t,e).flags|=256),t=Dh(t,e),t!==2&&(e=kn,kn=n,e!==null&&Rg(e)),t}function Rg(t){kn===null?kn=t:kn.push.apply(kn,t)}function r2(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!br(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Bs(t,e){for(e&=~wv,e&=~If,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Er(e),r=1<<n;t[n]=-1,e&=~r}}function Hw(t){if(Ue&6)throw Error(G(327));ma();var e=mh(t,0);if(!(e&1))return Mn(t,Tt()),null;var n=Dh(t,e);if(t.tag!==0&&n===2){var r=Jm(t);r!==0&&(e=r,n=Ag(t,r))}if(n===1)throw n=zu,oo(t,0),Bs(t,e),Mn(t,Tt()),n;if(n===6)throw Error(G(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,qi(t,kn,ds),Mn(t,Tt()),null}function Ev(t,e){var n=Ue;Ue|=1;try{return t(e)}finally{Ue=n,Ue===0&&(qa=Tt()+500,bf&&Oi())}}function yo(t){ti!==null&&ti.tag===0&&!(Ue&6)&&ma();var e=Ue;Ue|=1;var n=or.transition,r=Ke;try{if(or.transition=null,Ke=1,t)return t()}finally{Ke=r,or.transition=n,Ue=e,!(Ue&6)&&Oi()}}function Tv(){Un=la.current,st(la)}function oo(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,DN(n)),At!==null)for(n=At.return;n!==null;){var r=n;switch(rv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&wh();break;case 3:Wa(),st(On),st(un),hv();break;case 5:dv(r);break;case 4:Wa();break;case 13:st(ct);break;case 19:st(ct);break;case 10:av(r.type._context);break;case 22:case 23:Tv()}n=n.return}if(zt=t,At=t=ci(t.current,null),Zt=Un=e,Mt=0,zu=null,wv=If=go=0,kn=mu=null,Gi!==null){for(e=0;e<Gi.length;e++)if(n=Gi[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Gi=null}return t}function DS(t,e){do{var n=At;try{if(ov(),Hd.current=Ih,Rh){for(var r=dt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Rh=!1}if(mo=0,Bt=Ot=dt=null,fu=!1,Fu=0,_v.current=null,n===null||n.return===null){Mt=1,zu=e,At=null;break}e:{var i=t,o=n.return,a=n,u=e;if(e=Zt,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=a,m=d.tag;if(!(d.mode&1)&&(m===0||m===11||m===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var _=Nw(o);if(_!==null){_.flags&=-257,Dw(_,o,a,i,e),_.mode&1&&kw(i,c,e),e=_,u=c;var S=e.updateQueue;if(S===null){var v=new Set;v.add(u),e.updateQueue=v}else S.add(u);break e}else{if(!(e&1)){kw(i,c,e),Sv();break e}u=Error(G(426))}}else if(ot&&a.mode&1){var E=Nw(o);if(E!==null){!(E.flags&65536)&&(E.flags|=256),Dw(E,o,a,i,e),sv(Ha(u,a));break e}}i=u=Ha(u,a),Mt!==4&&(Mt=2),mu===null?mu=[i]:mu.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var w=gS(i,u,e);bw(i,w);break e;case 1:a=u;var y=i.type,x=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(li===null||!li.has(x)))){i.flags|=65536,e&=-e,i.lanes|=e;var k=yS(i,a,e);bw(i,k);break e}}i=i.return}while(i!==null)}MS(n)}catch(V){e=V,At===n&&n!==null&&(At=n=n.return);continue}break}while(!0)}function OS(){var t=Ph.current;return Ph.current=Ih,t===null?Ih:t}function Sv(){(Mt===0||Mt===3||Mt===2)&&(Mt=4),zt===null||!(go&268435455)&&!(If&268435455)||Bs(zt,Zt)}function Dh(t,e){var n=Ue;Ue|=2;var r=OS();(zt!==t||Zt!==e)&&(ds=null,oo(t,e));do try{s2();break}catch(s){DS(t,s)}while(!0);if(ov(),Ue=n,Ph.current=r,At!==null)throw Error(G(261));return zt=null,Zt=0,Mt}function s2(){for(;At!==null;)VS(At)}function i2(){for(;At!==null&&!Pk();)VS(At)}function VS(t){var e=LS(t.alternate,t,Un);t.memoizedProps=t.pendingProps,e===null?MS(t):At=e,_v.current=null}function MS(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=YN(n,e),n!==null){n.flags&=32767,At=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Mt=6,At=null;return}}else if(n=XN(n,e,Un),n!==null){At=n;return}if(e=e.sibling,e!==null){At=e;return}At=e=t}while(e!==null);Mt===0&&(Mt=5)}function qi(t,e,n){var r=Ke,s=or.transition;try{or.transition=null,Ke=1,o2(t,e,n,r)}finally{or.transition=s,Ke=r}return null}function o2(t,e,n,r){do ma();while(ti!==null);if(Ue&6)throw Error(G(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(G(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(Uk(t,i),t===zt&&(At=zt=null,Zt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||_d||(_d=!0,FS(ph,function(){return ma(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=or.transition,or.transition=null;var o=Ke;Ke=1;var a=Ue;Ue|=4,_v.current=null,e2(t,n),PS(n,t),CN(ig),gh=!!sg,ig=sg=null,t.current=n,t2(n),kk(),Ue=a,Ke=o,or.transition=i}else t.current=n;if(_d&&(_d=!1,ti=t,Nh=s),i=t.pendingLanes,i===0&&(li=null),Ok(n.stateNode),Mn(t,Tt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(kh)throw kh=!1,t=bg,bg=null,t;return Nh&1&&t.tag!==0&&ma(),i=t.pendingLanes,i&1?t===Cg?gu++:(gu=0,Cg=t):gu=0,Oi(),null}function ma(){if(ti!==null){var t=gT(Nh),e=or.transition,n=Ke;try{if(or.transition=null,Ke=16>t?16:t,ti===null)var r=!1;else{if(t=ti,ti=null,Nh=0,Ue&6)throw Error(G(331));var s=Ue;for(Ue|=4,le=t.current;le!==null;){var i=le,o=i.child;if(le.flags&16){var a=i.deletions;if(a!==null){for(var u=0;u<a.length;u++){var c=a[u];for(le=c;le!==null;){var d=le;switch(d.tag){case 0:case 11:case 15:pu(8,d,i)}var m=d.child;if(m!==null)m.return=d,le=m;else for(;le!==null;){d=le;var h=d.sibling,_=d.return;if(AS(d),d===c){le=null;break}if(h!==null){h.return=_,le=h;break}le=_}}}var S=i.alternate;if(S!==null){var v=S.child;if(v!==null){S.child=null;do{var E=v.sibling;v.sibling=null,v=E}while(v!==null)}}le=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,le=o;else e:for(;le!==null;){if(i=le,i.flags&2048)switch(i.tag){case 0:case 11:case 15:pu(9,i,i.return)}var w=i.sibling;if(w!==null){w.return=i.return,le=w;break e}le=i.return}}var y=t.current;for(le=y;le!==null;){o=le;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,le=x;else e:for(o=y;le!==null;){if(a=le,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Rf(9,a)}}catch(V){yt(a,a.return,V)}if(a===o){le=null;break e}var k=a.sibling;if(k!==null){k.return=a.return,le=k;break e}le=a.return}}if(Ue=s,Oi(),Wr&&typeof Wr.onPostCommitFiberRoot=="function")try{Wr.onPostCommitFiberRoot(wf,t)}catch{}r=!0}return r}finally{Ke=n,or.transition=e}}return!1}function qw(t,e,n){e=Ha(n,e),e=gS(t,e,1),t=ai(t,e,1),e=_n(),t!==null&&(Ec(t,1,e),Mn(t,e))}function yt(t,e,n){if(t.tag===3)qw(t,t,n);else for(;e!==null;){if(e.tag===3){qw(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(li===null||!li.has(r))){t=Ha(n,t),t=yS(e,t,1),e=ai(e,t,1),t=_n(),e!==null&&(Ec(e,1,t),Mn(e,t));break}}e=e.return}}function a2(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=_n(),t.pingedLanes|=t.suspendedLanes&n,zt===t&&(Zt&n)===n&&(Mt===4||Mt===3&&(Zt&130023424)===Zt&&500>Tt()-xv?oo(t,0):wv|=n),Mn(t,e)}function jS(t,e){e===0&&(t.mode&1?(e=ud,ud<<=1,!(ud&130023424)&&(ud=4194304)):e=1);var n=_n();t=xs(t,e),t!==null&&(Ec(t,e,n),Mn(t,n))}function l2(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),jS(t,n)}function u2(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(G(314))}r!==null&&r.delete(e),jS(t,n)}var LS;LS=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||On.current)Dn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Dn=!1,ZN(t,e,n);Dn=!!(t.flags&131072)}else Dn=!1,ot&&e.flags&1048576&&zT(e,Th,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Qd(t,e),t=e.pendingProps;var s=Ba(e,un.current);pa(e,n),s=pv(null,e,r,t,s,n);var i=mv();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Vn(r)?(i=!0,xh(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,uv(e),s.updater=Af,e.stateNode=s,s._reactInternals=e,pg(e,r,t,n),e=yg(null,e,r,!0,i,n)):(e.tag=0,ot&&i&&nv(e),yn(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Qd(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=d2(r),t=pr(r,t),s){case 0:e=gg(null,e,r,t,n);break e;case 1:e=Mw(null,e,r,t,n);break e;case 11:e=Ow(null,e,r,t,n);break e;case 14:e=Vw(null,e,r,pr(r.type,t),n);break e}throw Error(G(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:pr(r,s),gg(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:pr(r,s),Mw(t,e,r,s,n);case 3:e:{if(xS(e),t===null)throw Error(G(387));r=e.pendingProps,i=e.memoizedState,s=i.element,KT(t,e),Ch(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Ha(Error(G(423)),e),e=jw(t,e,r,n,s);break e}else if(r!==s){s=Ha(Error(G(424)),e),e=jw(t,e,r,n,s);break e}else for($n=oi(e.stateNode.containerInfo.firstChild),qn=e,ot=!0,yr=null,n=qT(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(za(),r===s){e=Es(t,e,n);break e}yn(t,e,r,n)}e=e.child}return e;case 5:return GT(e),t===null&&dg(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,og(r,s)?o=null:i!==null&&og(r,i)&&(e.flags|=32),wS(t,e),yn(t,e,o,n),e.child;case 6:return t===null&&dg(e),null;case 13:return ES(t,e,n);case 4:return cv(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=$a(e,null,r,n):yn(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:pr(r,s),Ow(t,e,r,s,n);case 7:return yn(t,e,e.pendingProps,n),e.child;case 8:return yn(t,e,e.pendingProps.children,n),e.child;case 12:return yn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Ye(Sh,r._currentValue),r._currentValue=o,i!==null)if(br(i.value,o)){if(i.children===s.children&&!On.current){e=Es(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(i.tag===1){u=ys(-1,n&-n),u.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}i.lanes|=n,u=i.alternate,u!==null&&(u.lanes|=n),hg(i.return,n,e),a.lanes|=n;break}u=u.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(G(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),hg(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}yn(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,pa(e,n),s=ar(s),r=r(s),e.flags|=1,yn(t,e,r,n),e.child;case 14:return r=e.type,s=pr(r,e.pendingProps),s=pr(r.type,s),Vw(t,e,r,s,n);case 15:return vS(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:pr(r,s),Qd(t,e),e.tag=1,Vn(r)?(t=!0,xh(e)):t=!1,pa(e,n),mS(e,r,s),pg(e,r,s,n),yg(null,e,r,!0,t,n);case 19:return TS(t,e,n);case 22:return _S(t,e,n)}throw Error(G(156,e.tag))};function FS(t,e){return hT(t,e)}function c2(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ir(t,e,n,r){return new c2(t,e,n,r)}function bv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function d2(t){if(typeof t=="function")return bv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Wy)return 11;if(t===Hy)return 14}return 2}function ci(t,e){var n=t.alternate;return n===null?(n=ir(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Zd(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")bv(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Yo:return ao(n.children,s,i,e);case $y:o=8,s|=8;break;case Lm:return t=ir(12,n,e,s|2),t.elementType=Lm,t.lanes=i,t;case Fm:return t=ir(13,n,e,s),t.elementType=Fm,t.lanes=i,t;case Um:return t=ir(19,n,e,s),t.elementType=Um,t.lanes=i,t;case GE:return Pf(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case QE:o=10;break e;case KE:o=9;break e;case Wy:o=11;break e;case Hy:o=14;break e;case Ls:o=16,r=null;break e}throw Error(G(130,t==null?t:typeof t,""))}return e=ir(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function ao(t,e,n,r){return t=ir(7,t,r,e),t.lanes=n,t}function Pf(t,e,n,r){return t=ir(22,t,r,e),t.elementType=GE,t.lanes=n,t.stateNode={isHidden:!1},t}function im(t,e,n){return t=ir(6,t,null,e),t.lanes=n,t}function om(t,e,n){return e=ir(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function h2(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Up(0),this.expirationTimes=Up(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Up(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Cv(t,e,n,r,s,i,o,a,u){return t=new h2(t,e,n,a,u),e===1?(e=1,i===!0&&(e|=8)):e=0,i=ir(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},uv(i),t}function f2(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Xo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function US(t){if(!t)return vi;t=t._reactInternals;e:{if(Io(t)!==t||t.tag!==1)throw Error(G(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Vn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(G(171))}if(t.tag===1){var n=t.type;if(Vn(n))return UT(t,n,e)}return e}function BS(t,e,n,r,s,i,o,a,u){return t=Cv(n,r,!0,t,s,i,o,a,u),t.context=US(null),n=t.current,r=_n(),s=ui(n),i=ys(r,s),i.callback=e??null,ai(n,i,s),t.current.lanes=s,Ec(t,s,r),Mn(t,r),t}function kf(t,e,n,r){var s=e.current,i=_n(),o=ui(s);return n=US(n),e.context===null?e.context=n:e.pendingContext=n,e=ys(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ai(s,e,o),t!==null&&(Tr(t,s,o,i),Wd(t,s,o)),o}function Oh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Qw(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Av(t,e){Qw(t,e),(t=t.alternate)&&Qw(t,e)}function p2(){return null}var zS=typeof reportError=="function"?reportError:function(t){console.error(t)};function Rv(t){this._internalRoot=t}Nf.prototype.render=Rv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(G(409));kf(t,e,null,null)};Nf.prototype.unmount=Rv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;yo(function(){kf(null,t,null,null)}),e[ws]=null}};function Nf(t){this._internalRoot=t}Nf.prototype.unstable_scheduleHydration=function(t){if(t){var e=_T();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Us.length&&e!==0&&e<Us[n].priority;n++);Us.splice(n,0,t),n===0&&xT(t)}};function Iv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Df(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Kw(){}function m2(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=Oh(o);i.call(c)}}var o=BS(e,r,t,0,null,!1,!1,"",Kw);return t._reactRootContainer=o,t[ws]=o.current,Ou(t.nodeType===8?t.parentNode:t),yo(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=Oh(u);a.call(c)}}var u=Cv(t,0,!1,null,null,!1,!1,"",Kw);return t._reactRootContainer=u,t[ws]=u.current,Ou(t.nodeType===8?t.parentNode:t),yo(function(){kf(e,u,n,r)}),u}function Of(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var u=Oh(o);a.call(u)}}kf(e,o,t,s)}else o=m2(n,e,t,s,r);return Oh(o)}yT=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Jl(e.pendingLanes);n!==0&&(Ky(e,n|1),Mn(e,Tt()),!(Ue&6)&&(qa=Tt()+500,Oi()))}break;case 13:yo(function(){var r=xs(t,1);if(r!==null){var s=_n();Tr(r,t,1,s)}}),Av(t,1)}};Gy=function(t){if(t.tag===13){var e=xs(t,134217728);if(e!==null){var n=_n();Tr(e,t,134217728,n)}Av(t,134217728)}};vT=function(t){if(t.tag===13){var e=ui(t),n=xs(t,e);if(n!==null){var r=_n();Tr(n,t,e,r)}Av(t,e)}};_T=function(){return Ke};wT=function(t,e){var n=Ke;try{return Ke=t,e()}finally{Ke=n}};Zm=function(t,e,n){switch(e){case"input":if($m(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Sf(r);if(!s)throw Error(G(90));XE(r),$m(r,s)}}}break;case"textarea":JE(t,n);break;case"select":e=n.value,e!=null&&ca(t,!!n.multiple,e,!1)}};oT=Ev;aT=yo;var g2={usingClientEntryPoint:!1,Events:[Sc,na,Sf,sT,iT,Ev]},zl={findFiberByHostInstance:Ki,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},y2={bundleType:zl.bundleType,version:zl.version,rendererPackageName:zl.rendererPackageName,rendererConfig:zl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Is.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=cT(t),t===null?null:t.stateNode},findFiberByHostInstance:zl.findFiberByHostInstance||p2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wd.isDisabled&&wd.supportsFiber)try{wf=wd.inject(y2),Wr=wd}catch{}}Yn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=g2;Yn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Iv(e))throw Error(G(200));return f2(t,e,null,n)};Yn.createRoot=function(t,e){if(!Iv(t))throw Error(G(299));var n=!1,r="",s=zS;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Cv(t,1,!1,null,null,n,!1,r,s),t[ws]=e.current,Ou(t.nodeType===8?t.parentNode:t),new Rv(e)};Yn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(G(188)):(t=Object.keys(t).join(","),Error(G(268,t)));return t=cT(e),t=t===null?null:t.stateNode,t};Yn.flushSync=function(t){return yo(t)};Yn.hydrate=function(t,e,n){if(!Df(e))throw Error(G(200));return Of(null,t,e,!0,n)};Yn.hydrateRoot=function(t,e,n){if(!Iv(t))throw Error(G(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=zS;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=BS(e,null,t,1,n??null,s,!1,i,o),t[ws]=e.current,Ou(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Nf(e)};Yn.render=function(t,e,n){if(!Df(e))throw Error(G(200));return Of(null,t,e,!1,n)};Yn.unmountComponentAtNode=function(t){if(!Df(t))throw Error(G(40));return t._reactRootContainer?(yo(function(){Of(null,null,t,!1,function(){t._reactRootContainer=null,t[ws]=null})}),!0):!1};Yn.unstable_batchedUpdates=Ev;Yn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Df(n))throw Error(G(200));if(t==null||t._reactInternals===void 0)throw Error(G(38));return Of(t,e,n,!1,r)};Yn.version="18.3.1-next-f1338f8080-20240426";function $S(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE($S)}catch(t){console.error(t)}}$S(),$E.exports=Yn;var Po=$E.exports;const v2=PE(Po);var WS,Gw=Po;WS=Gw.createRoot,Gw.hydrateRoot;function _2(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,r,s,i,o=[],a="",u=t.split("/");for(u[0]||u.shift();s=u.shift();)n=s[0],n==="*"?(o.push(n),a+=s[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=s.indexOf("?",1),i=s.indexOf(".",1),o.push(s.substring(1,~r?r:~i?i:s.length)),a+=~r&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(a+=(~r?"?":"")+"\\"+s.substring(i))):a+="/"+s;return{keys:o,pattern:new RegExp("^"+a+(e?"(?=$|/)":"/?$"),"i")}}var HS={exports:{}},qS={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qa=T;function w2(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var x2=typeof Object.is=="function"?Object.is:w2,E2=Qa.useState,T2=Qa.useEffect,S2=Qa.useLayoutEffect,b2=Qa.useDebugValue;function C2(t,e){var n=e(),r=E2({inst:{value:n,getSnapshot:e}}),s=r[0].inst,i=r[1];return S2(function(){s.value=n,s.getSnapshot=e,am(s)&&i({inst:s})},[t,n,e]),T2(function(){return am(s)&&i({inst:s}),t(function(){am(s)&&i({inst:s})})},[t]),b2(n),n}function am(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!x2(t,n)}catch{return!0}}function A2(t,e){return e()}var R2=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?A2:C2;qS.useSyncExternalStore=Qa.useSyncExternalStore!==void 0?Qa.useSyncExternalStore:R2;HS.exports=qS;var I2=HS.exports;const P2=BE.useInsertionEffect,k2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",N2=k2?T.useLayoutEffect:T.useEffect,D2=P2||N2,QS=t=>{const e=T.useRef([t,(...n)=>e[0](...n)]).current;return D2(()=>{e[0]=t}),e[1]},O2="popstate",Pv="pushState",kv="replaceState",V2="hashchange",Zw=[O2,Pv,kv,V2],M2=t=>{for(const e of Zw)addEventListener(e,t);return()=>{for(const e of Zw)removeEventListener(e,t)}},KS=(t,e)=>I2.useSyncExternalStore(M2,t,e),j2=()=>location.search,L2=({ssrSearch:t=""}={})=>KS(j2,()=>t),Xw=()=>location.pathname,F2=({ssrPath:t}={})=>KS(Xw,t?()=>t:Xw),U2=(t,{replace:e=!1,state:n=null}={})=>history[e?kv:Pv](n,"",t),B2=(t={})=>[F2(t),U2],Yw=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[Yw]>"u"){for(const t of[Pv,kv]){const e=history[t];history[t]=function(){const n=e.apply(this,arguments),r=new Event(t);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,Yw,{value:!0})}const z2=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",GS=(t="")=>t==="/"?"":t,$2=(t,e)=>t[0]==="~"?t.slice(1):GS(e)+t,W2=(t="",e)=>z2(Jw(GS(t)),Jw(e)),Jw=t=>{try{return decodeURI(t)}catch{return t}},ZS={hook:B2,searchHook:L2,parser:_2,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:t=>t},XS=T.createContext(ZS),Cc=()=>T.useContext(XS),YS={},JS=T.createContext(YS),H2=()=>T.useContext(JS),Vf=t=>{const[e,n]=t.hook(t);return[W2(t.base,e),QS((r,s)=>n($2(r,t.base),s))]},eb=()=>Vf(Cc()),tb=(t,e,n,r)=>{const{pattern:s,keys:i}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",r),o=s.exec(n)||[],[a,...u]=o;return a!==void 0?[!0,(()=>{const c=i!==!1?Object.fromEntries(i.map((m,h)=>[m,u[h]])):o.groups;let d={...u};return c&&Object.assign(d,c),d})(),...r?[a]:[]]:[!1,null]},q2=({children:t,...e})=>{var d,m;const n=Cc(),r=e.hook?ZS:n;let s=r;const[i,o]=((d=e.ssrPath)==null?void 0:d.split("?"))??[];o&&(e.ssrSearch=o,e.ssrPath=i),e.hrefs=e.hrefs??((m=e.hook)==null?void 0:m.hrefs);let a=T.useRef({}),u=a.current,c=u;for(let h in r){const _=h==="base"?r[h]+(e[h]||""):e[h]||r[h];u===c&&_!==c[h]&&(a.current=c={...c}),c[h]=_,_!==r[h]&&(s=c)}return T.createElement(XS.Provider,{value:s,children:t})},ex=({children:t,component:e},n)=>e?T.createElement(e,{params:n}):typeof t=="function"?t(n):t,Q2=t=>{let e=T.useRef(YS),n=e.current;for(const r in t)t[r]!==n[r]&&(n=t);return Object.keys(t).length===0&&(n=t),e.current=n},$l=({path:t,nest:e,match:n,...r})=>{const s=Cc(),[i]=Vf(s),[o,a,u]=n??tb(s.parser,t,i,e),c=Q2({...H2(),...a});if(!o)return null;const d=u?T.createElement(q2,{base:u},ex(r,c)):ex(r,c);return T.createElement(JS.Provider,{value:c,children:d})},In=T.forwardRef((t,e)=>{const n=Cc(),[r,s]=Vf(n),{to:i="",href:o=i,onClick:a,asChild:u,children:c,className:d,replace:m,state:h,..._}=t,S=QS(E=>{E.ctrlKey||E.metaKey||E.altKey||E.shiftKey||E.button!==0||(a==null||a(E),E.defaultPrevented||(E.preventDefault(),s(o,t)))}),v=n.hrefs(o[0]==="~"?o.slice(1):n.base+o,n);return u&&T.isValidElement(c)?T.cloneElement(c,{onClick:S,href:v}):T.createElement("a",{..._,onClick:S,href:v,className:d!=null&&d.call?d(r===o):d,children:c,ref:e})}),nb=t=>Array.isArray(t)?t.flatMap(e=>nb(e&&e.type===T.Fragment?e.props.children:e)):[t],K2=({children:t,location:e})=>{const n=Cc(),[r]=Vf(n);for(const s of nb(t)){let i=0;if(T.isValidElement(s)&&(i=tb(n.parser,s.props.path,e||r,s.props.nest))[0])return T.cloneElement(s,{match:i})}return null};var cl=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},vo=typeof window>"u"||"Deno"in globalThis;function tr(){}function G2(t,e){return typeof t=="function"?t(e):t}function Ig(t){return typeof t=="number"&&t>=0&&t!==1/0}function rb(t,e){return Math.max(t+(e||0)-Date.now(),0)}function ga(t,e){return typeof t=="function"?t(e):t}function vr(t,e){return typeof t=="function"?t(e):t}function tx(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==Nv(o,e.options))return!1}else if(!$u(e.queryKey,o))return!1}if(n!=="all"){const u=e.isActive();if(n==="active"&&!u||n==="inactive"&&u)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function nx(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(_o(e.options.mutationKey)!==_o(i))return!1}else if(!$u(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function Nv(t,e){return((e==null?void 0:e.queryKeyHashFn)||_o)(t)}function _o(t){return JSON.stringify(t,(e,n)=>Pg(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function $u(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!$u(t[n],e[n])):!1}function sb(t,e){if(t===e)return t;const n=rx(t)&&rx(e);if(n||Pg(t)&&Pg(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{};let u=0;for(let c=0;c<o;c++){const d=n?c:i[c];(!n&&r.includes(d)||n)&&t[d]===void 0&&e[d]===void 0?(a[d]=void 0,u++):(a[d]=sb(t[d],e[d]),a[d]===t[d]&&t[d]!==void 0&&u++)}return s===o&&u===s?t:a}return e}function Vh(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function rx(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Pg(t){if(!sx(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!sx(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function sx(t){return Object.prototype.toString.call(t)==="[object Object]"}function Z2(t){return new Promise(e=>{setTimeout(e,t)})}function kg(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?sb(t,e):e}function X2(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function Y2(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var Dv=Symbol();function ib(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Dv?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Ji,Hs,Aa,wE,J2=(wE=class extends cl{constructor(){super();pe(this,Ji);pe(this,Hs);pe(this,Aa);ne(this,Aa,e=>{if(!vo&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){M(this,Hs)||this.setEventListener(M(this,Aa))}onUnsubscribe(){var e;this.hasListeners()||((e=M(this,Hs))==null||e.call(this),ne(this,Hs,void 0))}setEventListener(e){var n;ne(this,Aa,e),(n=M(this,Hs))==null||n.call(this),ne(this,Hs,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){M(this,Ji)!==e&&(ne(this,Ji,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof M(this,Ji)=="boolean"?M(this,Ji):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Ji=new WeakMap,Hs=new WeakMap,Aa=new WeakMap,wE),Ov=new J2,Ra,qs,Ia,xE,eD=(xE=class extends cl{constructor(){super();pe(this,Ra,!0);pe(this,qs);pe(this,Ia);ne(this,Ia,e=>{if(!vo&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){M(this,qs)||this.setEventListener(M(this,Ia))}onUnsubscribe(){var e;this.hasListeners()||((e=M(this,qs))==null||e.call(this),ne(this,qs,void 0))}setEventListener(e){var n;ne(this,Ia,e),(n=M(this,qs))==null||n.call(this),ne(this,qs,e(this.setOnline.bind(this)))}setOnline(e){M(this,Ra)!==e&&(ne(this,Ra,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return M(this,Ra)}},Ra=new WeakMap,qs=new WeakMap,Ia=new WeakMap,xE),Mh=new eD;function Ng(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function tD(t){return Math.min(1e3*2**t,3e4)}function ob(t){return(t??"online")==="online"?Mh.isOnline():!0}var ab=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function lm(t){return t instanceof ab}function lb(t){let e=!1,n=0,r=!1,s;const i=Ng(),o=v=>{var E;r||(h(new ab(v)),(E=t.abort)==null||E.call(t))},a=()=>{e=!0},u=()=>{e=!1},c=()=>Ov.isFocused()&&(t.networkMode==="always"||Mh.isOnline())&&t.canRun(),d=()=>ob(t.networkMode)&&t.canRun(),m=v=>{var E;r||(r=!0,(E=t.onSuccess)==null||E.call(t,v),s==null||s(),i.resolve(v))},h=v=>{var E;r||(r=!0,(E=t.onError)==null||E.call(t,v),s==null||s(),i.reject(v))},_=()=>new Promise(v=>{var E;s=w=>{(r||c())&&v(w)},(E=t.onPause)==null||E.call(t)}).then(()=>{var v;s=void 0,r||(v=t.onContinue)==null||v.call(t)}),S=()=>{if(r)return;let v;const E=n===0?t.initialPromise:void 0;try{v=E??t.fn()}catch(w){v=Promise.reject(w)}Promise.resolve(v).then(m).catch(w=>{var L;if(r)return;const y=t.retry??(vo?0:3),x=t.retryDelay??tD,k=typeof x=="function"?x(n,w):x,V=y===!0||typeof y=="number"&&n<y||typeof y=="function"&&y(n,w);if(e||!V){h(w);return}n++,(L=t.onFail)==null||L.call(t,n,w),Z2(k).then(()=>c()?void 0:_()).then(()=>{e?h(w):S()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:u,canStart:d,start:()=>(d()?S():_().then(S),i)}}function nD(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=a=>setTimeout(a,0);const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(u=>{n(u)})})})};return{batch:a=>{let u;e++;try{u=a()}finally{e--,e||o()}return u},batchCalls:a=>(...u)=>{i(()=>{a(...u)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var Vt=nD(),eo,EE,ub=(EE=class{constructor(){pe(this,eo)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Ig(this.gcTime)&&ne(this,eo,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(vo?1/0:5*60*1e3))}clearGcTimeout(){M(this,eo)&&(clearTimeout(M(this,eo)),ne(this,eo,void 0))}},eo=new WeakMap,EE),Pa,ka,er,sn,yc,to,mr,us,TE,rD=(TE=class extends ub{constructor(n){super();pe(this,mr);pe(this,Pa);pe(this,ka);pe(this,er);pe(this,sn);pe(this,yc);pe(this,to);ne(this,to,!1),ne(this,yc,n.defaultOptions),this.setOptions(n.options),this.observers=[],ne(this,er,n.cache),this.queryKey=n.queryKey,this.queryHash=n.queryHash,ne(this,Pa,sD(this.options)),this.state=n.state??M(this,Pa),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=M(this,sn))==null?void 0:n.promise}setOptions(n){this.options={...M(this,yc),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&M(this,er).remove(this)}setData(n,r){const s=kg(this.state.data,n,this.options);return be(this,mr,us).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){be(this,mr,us).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=M(this,sn))==null?void 0:s.promise;return(i=M(this,sn))==null||i.cancel(n),r?r.then(tr).catch(tr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(M(this,Pa))}isActive(){return this.observers.some(n=>vr(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Dv||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(n=0){return this.state.isInvalidated||this.state.data===void 0||!rb(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=M(this,sn))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=M(this,sn))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),M(this,er).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(M(this,sn)&&(M(this,to)?M(this,sn).cancel({revert:!0}):M(this,sn).cancelRetry()),this.scheduleGc()),M(this,er).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||be(this,mr,us).call(this,{type:"invalidate"})}fetch(n,r){var c,d,m;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(M(this,sn))return M(this,sn).continueRetry(),M(this,sn).promise}if(n&&this.setOptions(n),!this.options.queryFn){const h=this.observers.find(_=>_.options.queryFn);h&&this.setOptions(h.options)}const s=new AbortController,i=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(ne(this,to,!0),s.signal)})},o=()=>{const h=ib(this.options,r),_={queryKey:this.queryKey,meta:this.meta};return i(_),ne(this,to,!1),this.options.persister?this.options.persister(h,_,this):h(_)},a={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};i(a),(c=this.options.behavior)==null||c.onFetch(a,this),ne(this,ka,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=a.fetchOptions)==null?void 0:d.meta))&&be(this,mr,us).call(this,{type:"fetch",meta:(m=a.fetchOptions)==null?void 0:m.meta});const u=h=>{var _,S,v,E;lm(h)&&h.silent||be(this,mr,us).call(this,{type:"error",error:h}),lm(h)||((S=(_=M(this,er).config).onError)==null||S.call(_,h,this),(E=(v=M(this,er).config).onSettled)==null||E.call(v,this.state.data,h,this)),this.scheduleGc()};return ne(this,sn,lb({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,abort:s.abort.bind(s),onSuccess:h=>{var _,S,v,E;if(h===void 0){u(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(w){u(w);return}(S=(_=M(this,er).config).onSuccess)==null||S.call(_,h,this),(E=(v=M(this,er).config).onSettled)==null||E.call(v,h,this.state.error,this),this.scheduleGc()},onError:u,onFail:(h,_)=>{be(this,mr,us).call(this,{type:"failed",failureCount:h,error:_})},onPause:()=>{be(this,mr,us).call(this,{type:"pause"})},onContinue:()=>{be(this,mr,us).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),M(this,sn).start()}},Pa=new WeakMap,ka=new WeakMap,er=new WeakMap,sn=new WeakMap,yc=new WeakMap,to=new WeakMap,mr=new WeakSet,us=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...cb(s.data,this.options),fetchMeta:n.meta??null};case"success":return{...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=n.error;return lm(i)&&i.revert&&M(this,ka)?{...M(this,ka),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),Vt.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),M(this,er).notify({query:this,type:"updated",action:n})})},TE);function cb(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:ob(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function sD(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Vr,SE,iD=(SE=class extends cl{constructor(e={}){super();pe(this,Vr);this.config=e,ne(this,Vr,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??Nv(s,n);let o=this.get(i);return o||(o=new rD({cache:this,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){M(this,Vr).has(e.queryHash)||(M(this,Vr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=M(this,Vr).get(e.queryHash);n&&(e.destroy(),n===e&&M(this,Vr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Vt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return M(this,Vr).get(e)}getAll(){return[...M(this,Vr).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>tx(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>tx(e,r)):n}notify(e){Vt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Vt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Vt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Vr=new WeakMap,SE),Mr,pn,no,jr,Ms,bE,oD=(bE=class extends ub{constructor(n){super();pe(this,jr);pe(this,Mr);pe(this,pn);pe(this,no);this.mutationId=n.mutationId,ne(this,pn,n.mutationCache),ne(this,Mr,[]),this.state=n.state||db(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){M(this,Mr).includes(n)||(M(this,Mr).push(n),this.clearGcTimeout(),M(this,pn).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){ne(this,Mr,M(this,Mr).filter(r=>r!==n)),this.scheduleGc(),M(this,pn).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){M(this,Mr).length||(this.state.status==="pending"?this.scheduleGc():M(this,pn).remove(this))}continue(){var n;return((n=M(this,no))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var i,o,a,u,c,d,m,h,_,S,v,E,w,y,x,k,V,L,C,b;ne(this,no,lb({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(A,P)=>{be(this,jr,Ms).call(this,{type:"failed",failureCount:A,error:P})},onPause:()=>{be(this,jr,Ms).call(this,{type:"pause"})},onContinue:()=>{be(this,jr,Ms).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>M(this,pn).canRun(this)}));const r=this.state.status==="pending",s=!M(this,no).canStart();try{if(!r){be(this,jr,Ms).call(this,{type:"pending",variables:n,isPaused:s}),await((o=(i=M(this,pn).config).onMutate)==null?void 0:o.call(i,n,this));const P=await((u=(a=this.options).onMutate)==null?void 0:u.call(a,n));P!==this.state.context&&be(this,jr,Ms).call(this,{type:"pending",context:P,variables:n,isPaused:s})}const A=await M(this,no).start();return await((d=(c=M(this,pn).config).onSuccess)==null?void 0:d.call(c,A,n,this.state.context,this)),await((h=(m=this.options).onSuccess)==null?void 0:h.call(m,A,n,this.state.context)),await((S=(_=M(this,pn).config).onSettled)==null?void 0:S.call(_,A,null,this.state.variables,this.state.context,this)),await((E=(v=this.options).onSettled)==null?void 0:E.call(v,A,null,n,this.state.context)),be(this,jr,Ms).call(this,{type:"success",data:A}),A}catch(A){try{throw await((y=(w=M(this,pn).config).onError)==null?void 0:y.call(w,A,n,this.state.context,this)),await((k=(x=this.options).onError)==null?void 0:k.call(x,A,n,this.state.context)),await((L=(V=M(this,pn).config).onSettled)==null?void 0:L.call(V,void 0,A,this.state.variables,this.state.context,this)),await((b=(C=this.options).onSettled)==null?void 0:b.call(C,void 0,A,n,this.state.context)),A}finally{be(this,jr,Ms).call(this,{type:"error",error:A})}}finally{M(this,pn).runNext(this)}}},Mr=new WeakMap,pn=new WeakMap,no=new WeakMap,jr=new WeakSet,Ms=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Vt.batch(()=>{M(this,Mr).forEach(s=>{s.onMutationUpdate(n)}),M(this,pn).notify({mutation:this,type:"updated",action:n})})},bE);function db(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Fn,vc,CE,aD=(CE=class extends cl{constructor(e={}){super();pe(this,Fn);pe(this,vc);this.config=e,ne(this,Fn,new Map),ne(this,vc,Date.now())}build(e,n,r){const s=new oD({mutationCache:this,mutationId:++rd(this,vc)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){const n=xd(e),r=M(this,Fn).get(n)??[];r.push(e),M(this,Fn).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=xd(e);if(M(this,Fn).has(n)){const s=(r=M(this,Fn).get(n))==null?void 0:r.filter(i=>i!==e);s&&(s.length===0?M(this,Fn).delete(n):M(this,Fn).set(n,s))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=M(this,Fn).get(xd(e)))==null?void 0:r.find(s=>s.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=M(this,Fn).get(xd(e)))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){Vt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...M(this,Fn).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>nx(n,r))}findAll(e={}){return this.getAll().filter(n=>nx(e,n))}notify(e){Vt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Vt.batch(()=>Promise.all(e.map(n=>n.continue().catch(tr))))}},Fn=new WeakMap,vc=new WeakMap,CE);function xd(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function ix(t){return{onFetch:(e,n)=>{var d,m,h,_,S;const r=e.options,s=(h=(m=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:m.fetchMore)==null?void 0:h.direction,i=((_=e.state.data)==null?void 0:_.pages)||[],o=((S=e.state.data)==null?void 0:S.pageParams)||[];let a={pages:[],pageParams:[]},u=0;const c=async()=>{let v=!1;const E=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(e.signal.aborted?v=!0:e.signal.addEventListener("abort",()=>{v=!0}),e.signal)})},w=ib(e.options,e.fetchOptions),y=async(x,k,V)=>{if(v)return Promise.reject();if(k==null&&x.pages.length)return Promise.resolve(x);const L={queryKey:e.queryKey,pageParam:k,direction:V?"backward":"forward",meta:e.options.meta};E(L);const C=await w(L),{maxPages:b}=e.options,A=V?Y2:X2;return{pages:A(x.pages,C,b),pageParams:A(x.pageParams,k,b)}};if(s&&i.length){const x=s==="backward",k=x?lD:ox,V={pages:i,pageParams:o},L=k(r,V);a=await y(V,L,x)}else{const x=t??i.length;do{const k=u===0?o[0]??r.initialPageParam:ox(r,a);if(u>0&&k==null)break;a=await y(a,k),u++}while(u<x)}return a};e.options.persister?e.fetchFn=()=>{var v,E;return(E=(v=e.options).persister)==null?void 0:E.call(v,c,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function ox(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function lD(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var gt,Qs,Ks,Na,Da,Gs,Oa,Va,AE,uD=(AE=class{constructor(t={}){pe(this,gt);pe(this,Qs);pe(this,Ks);pe(this,Na);pe(this,Da);pe(this,Gs);pe(this,Oa);pe(this,Va);ne(this,gt,t.queryCache||new iD),ne(this,Qs,t.mutationCache||new aD),ne(this,Ks,t.defaultOptions||{}),ne(this,Na,new Map),ne(this,Da,new Map),ne(this,Gs,0)}mount(){rd(this,Gs)._++,M(this,Gs)===1&&(ne(this,Oa,Ov.subscribe(async t=>{t&&(await this.resumePausedMutations(),M(this,gt).onFocus())})),ne(this,Va,Mh.subscribe(async t=>{t&&(await this.resumePausedMutations(),M(this,gt).onOnline())})))}unmount(){var t,e;rd(this,Gs)._--,M(this,Gs)===0&&((t=M(this,Oa))==null||t.call(this),ne(this,Oa,void 0),(e=M(this,Va))==null||e.call(this),ne(this,Va,void 0))}isFetching(t){return M(this,gt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return M(this,Qs).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=M(this,gt).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=M(this,gt).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(ga(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return M(this,gt).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=M(this,gt).get(r.queryHash),i=s==null?void 0:s.state.data,o=G2(e,i);if(o!==void 0)return M(this,gt).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Vt.batch(()=>M(this,gt).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=M(this,gt).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=M(this,gt);Vt.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=M(this,gt),r={type:"active",...t};return Vt.batch(()=>(n.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=Vt.batch(()=>M(this,gt).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(tr).catch(tr)}invalidateQueries(t={},e={}){return Vt.batch(()=>{if(M(this,gt).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=Vt.batch(()=>M(this,gt).findAll(t).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(tr)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(tr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=M(this,gt).build(this,e);return n.isStaleByTime(ga(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(tr).catch(tr)}fetchInfiniteQuery(t){return t.behavior=ix(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(tr).catch(tr)}ensureInfiniteQueryData(t){return t.behavior=ix(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Mh.isOnline()?M(this,Qs).resumePausedMutations():Promise.resolve()}getQueryCache(){return M(this,gt)}getMutationCache(){return M(this,Qs)}getDefaultOptions(){return M(this,Ks)}setDefaultOptions(t){ne(this,Ks,t)}setQueryDefaults(t,e){M(this,Na).set(_o(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...M(this,Na).values()];let n={};return e.forEach(r=>{$u(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){M(this,Da).set(_o(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...M(this,Da).values()];let n={};return e.forEach(r=>{$u(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...M(this,Ks).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Nv(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===Dv&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...M(this,Ks).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){M(this,gt).clear(),M(this,Qs).clear()}},gt=new WeakMap,Qs=new WeakMap,Ks=new WeakMap,Na=new WeakMap,Da=new WeakMap,Gs=new WeakMap,Oa=new WeakMap,Va=new WeakMap,AE),An,Ve,_c,mn,ro,Ma,Zs,Lr,wc,ja,La,so,io,Xs,Fa,He,tu,Dg,Og,Vg,Mg,jg,Lg,Fg,hb,RE,cD=(RE=class extends cl{constructor(e,n){super();pe(this,He);pe(this,An);pe(this,Ve);pe(this,_c);pe(this,mn);pe(this,ro);pe(this,Ma);pe(this,Zs);pe(this,Lr);pe(this,wc);pe(this,ja);pe(this,La);pe(this,so);pe(this,io);pe(this,Xs);pe(this,Fa,new Set);this.options=n,ne(this,An,e),ne(this,Lr,null),ne(this,Zs,Ng()),this.options.experimental_prefetchInRender||M(this,Zs).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(M(this,Ve).addObserver(this),ax(M(this,Ve),this.options)?be(this,He,tu).call(this):this.updateResult(),be(this,He,Mg).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Ug(M(this,Ve),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Ug(M(this,Ve),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,be(this,He,jg).call(this),be(this,He,Lg).call(this),M(this,Ve).removeObserver(this)}setOptions(e,n){const r=this.options,s=M(this,Ve);if(this.options=M(this,An).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof vr(this.options.enabled,M(this,Ve))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");be(this,He,Fg).call(this),M(this,Ve).setOptions(this.options),r._defaulted&&!Vh(this.options,r)&&M(this,An).getQueryCache().notify({type:"observerOptionsUpdated",query:M(this,Ve),observer:this});const i=this.hasListeners();i&&lx(M(this,Ve),s,this.options,r)&&be(this,He,tu).call(this),this.updateResult(n),i&&(M(this,Ve)!==s||vr(this.options.enabled,M(this,Ve))!==vr(r.enabled,M(this,Ve))||ga(this.options.staleTime,M(this,Ve))!==ga(r.staleTime,M(this,Ve)))&&be(this,He,Dg).call(this);const o=be(this,He,Og).call(this);i&&(M(this,Ve)!==s||vr(this.options.enabled,M(this,Ve))!==vr(r.enabled,M(this,Ve))||o!==M(this,Xs))&&be(this,He,Vg).call(this,o)}getOptimisticResult(e){const n=M(this,An).getQueryCache().build(M(this,An),e),r=this.createResult(n,e);return hD(this,r)&&(ne(this,mn,r),ne(this,Ma,this.options),ne(this,ro,M(this,Ve).state)),r}getCurrentResult(){return M(this,mn)}trackResult(e,n){const r={};return Object.keys(e).forEach(s=>{Object.defineProperty(r,s,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(s),n==null||n(s),e[s])})}),r}trackProp(e){M(this,Fa).add(e)}getCurrentQuery(){return M(this,Ve)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=M(this,An).defaultQueryOptions(e),r=M(this,An).getQueryCache().build(M(this,An),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(e){return be(this,He,tu).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),M(this,mn)))}createResult(e,n){var b;const r=M(this,Ve),s=this.options,i=M(this,mn),o=M(this,ro),a=M(this,Ma),c=e!==r?e.state:M(this,_c),{state:d}=e;let m={...d},h=!1,_;if(n._optimisticResults){const A=this.hasListeners(),P=!A&&ax(e,n),D=A&&lx(e,r,n,s);(P||D)&&(m={...m,...cb(d.data,e.options)}),n._optimisticResults==="isRestoring"&&(m.fetchStatus="idle")}let{error:S,errorUpdatedAt:v,status:E}=m;if(n.select&&m.data!==void 0)if(i&&m.data===(o==null?void 0:o.data)&&n.select===M(this,wc))_=M(this,ja);else try{ne(this,wc,n.select),_=n.select(m.data),_=kg(i==null?void 0:i.data,_,n),ne(this,ja,_),ne(this,Lr,null)}catch(A){ne(this,Lr,A)}else _=m.data;if(n.placeholderData!==void 0&&_===void 0&&E==="pending"){let A;if(i!=null&&i.isPlaceholderData&&n.placeholderData===(a==null?void 0:a.placeholderData))A=i.data;else if(A=typeof n.placeholderData=="function"?n.placeholderData((b=M(this,La))==null?void 0:b.state.data,M(this,La)):n.placeholderData,n.select&&A!==void 0)try{A=n.select(A),ne(this,Lr,null)}catch(P){ne(this,Lr,P)}A!==void 0&&(E="success",_=kg(i==null?void 0:i.data,A,n),h=!0)}M(this,Lr)&&(S=M(this,Lr),_=M(this,ja),v=Date.now(),E="error");const w=m.fetchStatus==="fetching",y=E==="pending",x=E==="error",k=y&&w,V=_!==void 0,C={status:E,fetchStatus:m.fetchStatus,isPending:y,isSuccess:E==="success",isError:x,isInitialLoading:k,isLoading:k,data:_,dataUpdatedAt:m.dataUpdatedAt,error:S,errorUpdatedAt:v,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>c.dataUpdateCount||m.errorUpdateCount>c.errorUpdateCount,isFetching:w,isRefetching:w&&!y,isLoadingError:x&&!V,isPaused:m.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:x&&V,isStale:Vv(e,n),refetch:this.refetch,promise:M(this,Zs)};if(this.options.experimental_prefetchInRender){const A=N=>{C.status==="error"?N.reject(C.error):C.data!==void 0&&N.resolve(C.data)},P=()=>{const N=ne(this,Zs,C.promise=Ng());A(N)},D=M(this,Zs);switch(D.status){case"pending":e.queryHash===r.queryHash&&A(D);break;case"fulfilled":(C.status==="error"||C.data!==D.value)&&P();break;case"rejected":(C.status!=="error"||C.error!==D.reason)&&P();break}}return C}updateResult(e){const n=M(this,mn),r=this.createResult(M(this,Ve),this.options);if(ne(this,ro,M(this,Ve).state),ne(this,Ma,this.options),M(this,ro).data!==void 0&&ne(this,La,M(this,Ve)),Vh(r,n))return;ne(this,mn,r);const s={},i=()=>{if(!n)return!0;const{notifyOnChangeProps:o}=this.options,a=typeof o=="function"?o():o;if(a==="all"||!a&&!M(this,Fa).size)return!0;const u=new Set(a??M(this,Fa));return this.options.throwOnError&&u.add("error"),Object.keys(M(this,mn)).some(c=>{const d=c;return M(this,mn)[d]!==n[d]&&u.has(d)})};(e==null?void 0:e.listeners)!==!1&&i()&&(s.listeners=!0),be(this,He,hb).call(this,{...s,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&be(this,He,Mg).call(this)}},An=new WeakMap,Ve=new WeakMap,_c=new WeakMap,mn=new WeakMap,ro=new WeakMap,Ma=new WeakMap,Zs=new WeakMap,Lr=new WeakMap,wc=new WeakMap,ja=new WeakMap,La=new WeakMap,so=new WeakMap,io=new WeakMap,Xs=new WeakMap,Fa=new WeakMap,He=new WeakSet,tu=function(e){be(this,He,Fg).call(this);let n=M(this,Ve).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(tr)),n},Dg=function(){be(this,He,jg).call(this);const e=ga(this.options.staleTime,M(this,Ve));if(vo||M(this,mn).isStale||!Ig(e))return;const r=rb(M(this,mn).dataUpdatedAt,e)+1;ne(this,so,setTimeout(()=>{M(this,mn).isStale||this.updateResult()},r))},Og=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(M(this,Ve)):this.options.refetchInterval)??!1},Vg=function(e){be(this,He,Lg).call(this),ne(this,Xs,e),!(vo||vr(this.options.enabled,M(this,Ve))===!1||!Ig(M(this,Xs))||M(this,Xs)===0)&&ne(this,io,setInterval(()=>{(this.options.refetchIntervalInBackground||Ov.isFocused())&&be(this,He,tu).call(this)},M(this,Xs)))},Mg=function(){be(this,He,Dg).call(this),be(this,He,Vg).call(this,be(this,He,Og).call(this))},jg=function(){M(this,so)&&(clearTimeout(M(this,so)),ne(this,so,void 0))},Lg=function(){M(this,io)&&(clearInterval(M(this,io)),ne(this,io,void 0))},Fg=function(){const e=M(this,An).getQueryCache().build(M(this,An),this.options);if(e===M(this,Ve))return;const n=M(this,Ve);ne(this,Ve,e),ne(this,_c,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},hb=function(e){Vt.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(M(this,mn))}),M(this,An).getQueryCache().notify({query:M(this,Ve),type:"observerResultsUpdated"})})},RE);function dD(t,e){return vr(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function ax(t,e){return dD(t,e)||t.state.data!==void 0&&Ug(t,e,e.refetchOnMount)}function Ug(t,e,n){if(vr(e.enabled,t)!==!1){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&Vv(t,e)}return!1}function lx(t,e,n,r){return(t!==e||vr(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&Vv(t,n)}function Vv(t,e){return vr(e.enabled,t)!==!1&&t.isStaleByTime(ga(e.staleTime,t))}function hD(t,e){return!Vh(t.getCurrentResult(),e)}var Ys,Js,Rn,ps,vs,Xd,Bg,IE,fD=(IE=class extends cl{constructor(n,r){super();pe(this,vs);pe(this,Ys);pe(this,Js);pe(this,Rn);pe(this,ps);ne(this,Ys,n),this.setOptions(r),this.bindMethods(),be(this,vs,Xd).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var s;const r=this.options;this.options=M(this,Ys).defaultMutationOptions(n),Vh(this.options,r)||M(this,Ys).getMutationCache().notify({type:"observerOptionsUpdated",mutation:M(this,Rn),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&_o(r.mutationKey)!==_o(this.options.mutationKey)?this.reset():((s=M(this,Rn))==null?void 0:s.state.status)==="pending"&&M(this,Rn).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=M(this,Rn))==null||n.removeObserver(this)}onMutationUpdate(n){be(this,vs,Xd).call(this),be(this,vs,Bg).call(this,n)}getCurrentResult(){return M(this,Js)}reset(){var n;(n=M(this,Rn))==null||n.removeObserver(this),ne(this,Rn,void 0),be(this,vs,Xd).call(this),be(this,vs,Bg).call(this)}mutate(n,r){var s;return ne(this,ps,r),(s=M(this,Rn))==null||s.removeObserver(this),ne(this,Rn,M(this,Ys).getMutationCache().build(M(this,Ys),this.options)),M(this,Rn).addObserver(this),M(this,Rn).execute(n)}},Ys=new WeakMap,Js=new WeakMap,Rn=new WeakMap,ps=new WeakMap,vs=new WeakSet,Xd=function(){var r;const n=((r=M(this,Rn))==null?void 0:r.state)??db();ne(this,Js,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},Bg=function(n){Vt.batch(()=>{var r,s,i,o,a,u,c,d;if(M(this,ps)&&this.hasListeners()){const m=M(this,Js).variables,h=M(this,Js).context;(n==null?void 0:n.type)==="success"?((s=(r=M(this,ps)).onSuccess)==null||s.call(r,n.data,m,h),(o=(i=M(this,ps)).onSettled)==null||o.call(i,n.data,null,m,h)):(n==null?void 0:n.type)==="error"&&((u=(a=M(this,ps)).onError)==null||u.call(a,n.error,m,h),(d=(c=M(this,ps)).onSettled)==null||d.call(c,void 0,n.error,m,h))}this.listeners.forEach(m=>{m(M(this,Js))})})},IE),fb=T.createContext(void 0),Mf=t=>{const e=T.useContext(fb);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},pD=({client:t,children:e})=>(T.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),p.jsx(fb.Provider,{value:t,children:e})),pb=T.createContext(!1),mD=()=>T.useContext(pb);pb.Provider;function gD(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var yD=T.createContext(gD()),vD=()=>T.useContext(yD);function mb(t,e){return typeof t=="function"?t(...e):!!t}function zg(){}var _D=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},wD=t=>{T.useEffect(()=>{t.clearReset()},[t])},xD=({result:t,errorResetBoundary:e,throwOnError:n,query:r})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&mb(n,[t.error,r]),ED=t=>{t.suspense&&(t.staleTime===void 0&&(t.staleTime=1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},TD=(t,e)=>t.isLoading&&t.isFetching&&!e,SD=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,ux=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function bD(t,e,n){var d,m,h,_,S;const r=Mf(),s=mD(),i=vD(),o=r.defaultQueryOptions(t);(m=(d=r.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||m.call(d,o),o._optimisticResults=s?"isRestoring":"optimistic",ED(o),_D(o,i),wD(i);const a=!r.getQueryCache().get(o.queryHash),[u]=T.useState(()=>new e(r,o)),c=u.getOptimisticResult(o);if(T.useSyncExternalStore(T.useCallback(v=>{const E=s?zg:u.subscribe(Vt.batchCalls(v));return u.updateResult(),E},[u,s]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),T.useEffect(()=>{u.setOptions(o,{listeners:!1})},[o,u]),SD(o,c))throw ux(o,u,i);if(xD({result:c,errorResetBoundary:i,throwOnError:o.throwOnError,query:r.getQueryCache().get(o.queryHash)}))throw c.error;if((_=(h=r.getDefaultOptions().queries)==null?void 0:h._experimental_afterQuery)==null||_.call(h,o,c),o.experimental_prefetchInRender&&!vo&&TD(c,s)){const v=a?ux(o,u,i):(S=r.getQueryCache().get(o.queryHash))==null?void 0:S.promise;v==null||v.catch(zg).finally(()=>{u.updateResult()})}return o.notifyOnChangeProps?c:u.trackResult(c)}function jh(t,e){return bD(t,cD)}function gb(t,e){const n=Mf(),[r]=T.useState(()=>new fD(n,t));T.useEffect(()=>{r.setOptions(t)},[r,t]);const s=T.useSyncExternalStore(T.useCallback(o=>r.subscribe(Vt.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=T.useCallback((o,a)=>{r.mutate(o,a).catch(zg)},[r]);if(s.error&&mb(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}async function CD(t){if(!t.ok){const e=await t.text()||t.statusText;throw new Error(`${t.status}: ${e}`)}}const AD=({on401:t})=>async({queryKey:e})=>{const n=await fetch(e.join("/"),{credentials:"include"});return t==="returnNull"&&n.status===401?null:(await CD(n),await n.json())},RD=new uD({defaultOptions:{queries:{queryFn:AD({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),ID=1,PD=1e6;let um=0;function kD(){return um=(um+1)%Number.MAX_SAFE_INTEGER,um.toString()}const cm=new Map,cx=t=>{if(cm.has(t))return;const e=setTimeout(()=>{cm.delete(t),yu({type:"REMOVE_TOAST",toastId:t})},PD);cm.set(t,e)},ND=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,ID)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?cx(n):t.toasts.forEach(r=>{cx(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Yd=[];let Jd={toasts:[]};function yu(t){Jd=ND(Jd,t),Yd.forEach(e=>{e(Jd)})}function DD({...t}){const e=kD(),n=s=>yu({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>yu({type:"DISMISS_TOAST",toastId:e});return yu({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function Mv(){const[t,e]=T.useState(Jd);return T.useEffect(()=>(Yd.push(e),()=>{const n=Yd.indexOf(e);n>-1&&Yd.splice(n,1)}),[t]),{...t,toast:DD,dismiss:n=>yu({type:"DISMISS_TOAST",toastId:n})}}function Ie(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function dx(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function yb(...t){return e=>{let n=!1;const r=t.map(s=>{const i=dx(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():dx(t[s],null)}}}}function vt(...t){return T.useCallback(yb(...t),t)}function Ac(t,e=[]){let n=[];function r(i,o){const a=T.createContext(o),u=n.length;n=[...n,o];const c=m=>{var w;const{scope:h,children:_,...S}=m,v=((w=h==null?void 0:h[t])==null?void 0:w[u])||a,E=T.useMemo(()=>S,Object.values(S));return p.jsx(v.Provider,{value:E,children:_})};c.displayName=i+"Provider";function d(m,h){var v;const _=((v=h==null?void 0:h[t])==null?void 0:v[u])||a,S=T.useContext(_);if(S)return S;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${i}\``)}return[c,d]}const s=()=>{const i=n.map(o=>T.createContext(o));return function(a){const u=(a==null?void 0:a[t])||i;return T.useMemo(()=>({[`__scope${t}`]:{...a,[t]:u}}),[a,u])}};return s.scopeName=t,[r,OD(s,...e)]}function OD(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:u,scopeName:c})=>{const m=u(i)[`__scope${c}`];return{...a,...m}},{});return T.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function Wu(t){const e=VD(t),n=T.forwardRef((r,s)=>{const{children:i,...o}=r,a=T.Children.toArray(i),u=a.find(jD);if(u){const c=u.props.children,d=a.map(m=>m===u?T.Children.count(c)>1?T.Children.only(null):T.isValidElement(c)?c.props.children:null:m);return p.jsx(e,{...o,ref:s,children:T.isValidElement(c)?T.cloneElement(c,void 0,d):null})}return p.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var vb=Wu("Slot");function VD(t){const e=T.forwardRef((n,r)=>{const{children:s,...i}=n;if(T.isValidElement(s)){const o=FD(s),a=LD(i,s.props);return s.type!==T.Fragment&&(a.ref=r?yb(r,o):o),T.cloneElement(s,a)}return T.Children.count(s)>1?T.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var _b=Symbol("radix.slottable");function MD(t){const e=({children:n})=>p.jsx(p.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=_b,e}function jD(t){return T.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===_b}function LD(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{i(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function FD(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function wb(t){const e=t+"CollectionProvider",[n,r]=Ac(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=v=>{const{scope:E,children:w}=v,y=xe.useRef(null),x=xe.useRef(new Map).current;return p.jsx(s,{scope:E,itemMap:x,collectionRef:y,children:w})};o.displayName=e;const a=t+"CollectionSlot",u=Wu(a),c=xe.forwardRef((v,E)=>{const{scope:w,children:y}=v,x=i(a,w),k=vt(E,x.collectionRef);return p.jsx(u,{ref:k,children:y})});c.displayName=a;const d=t+"CollectionItemSlot",m="data-radix-collection-item",h=Wu(d),_=xe.forwardRef((v,E)=>{const{scope:w,children:y,...x}=v,k=xe.useRef(null),V=vt(E,k),L=i(d,w);return xe.useEffect(()=>(L.itemMap.set(k,{ref:k,...x}),()=>void L.itemMap.delete(k))),p.jsx(h,{[m]:"",ref:V,children:y})});_.displayName=d;function S(v){const E=i(t+"CollectionConsumer",v);return xe.useCallback(()=>{const y=E.collectionRef.current;if(!y)return[];const x=Array.from(y.querySelectorAll(`[${m}]`));return Array.from(E.itemMap.values()).sort((L,C)=>x.indexOf(L.ref.current)-x.indexOf(C.ref.current))},[E.collectionRef,E.itemMap])}return[{Provider:o,Slot:c,ItemSlot:_},S,r]}var UD=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ge=UD.reduce((t,e)=>{const n=Wu(`Primitive.${e}`),r=T.forwardRef((s,i)=>{const{asChild:o,...a}=s,u=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),p.jsx(u,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function xb(t,e){t&&Po.flushSync(()=>t.dispatchEvent(e))}function Zn(t){const e=T.useRef(t);return T.useEffect(()=>{e.current=t}),T.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function BD(t,e=globalThis==null?void 0:globalThis.document){const n=Zn(t);T.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var zD="DismissableLayer",$g="dismissableLayer.update",$D="dismissableLayer.pointerDownOutside",WD="dismissableLayer.focusOutside",hx,Eb=T.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),jf=T.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...u}=t,c=T.useContext(Eb),[d,m]=T.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,_]=T.useState({}),S=vt(e,C=>m(C)),v=Array.from(c.layers),[E]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),w=v.indexOf(E),y=d?v.indexOf(d):-1,x=c.layersWithOutsidePointerEventsDisabled.size>0,k=y>=w,V=qD(C=>{const b=C.target,A=[...c.branches].some(P=>P.contains(b));!k||A||(s==null||s(C),o==null||o(C),C.defaultPrevented||a==null||a())},h),L=QD(C=>{const b=C.target;[...c.branches].some(P=>P.contains(b))||(i==null||i(C),o==null||o(C),C.defaultPrevented||a==null||a())},h);return BD(C=>{y===c.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&a&&(C.preventDefault(),a()))},h),T.useEffect(()=>{if(d)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(hx=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),fx(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=hx)}},[d,h,n,c]),T.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),fx())},[d,c]),T.useEffect(()=>{const C=()=>_({});return document.addEventListener($g,C),()=>document.removeEventListener($g,C)},[]),p.jsx(Ge.div,{...u,ref:S,style:{pointerEvents:x?k?"auto":"none":void 0,...t.style},onFocusCapture:Ie(t.onFocusCapture,L.onFocusCapture),onBlurCapture:Ie(t.onBlurCapture,L.onBlurCapture),onPointerDownCapture:Ie(t.onPointerDownCapture,V.onPointerDownCapture)})});jf.displayName=zD;var HD="DismissableLayerBranch",Tb=T.forwardRef((t,e)=>{const n=T.useContext(Eb),r=T.useRef(null),s=vt(e,r);return T.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),p.jsx(Ge.div,{...t,ref:s})});Tb.displayName=HD;function qD(t,e=globalThis==null?void 0:globalThis.document){const n=Zn(t),r=T.useRef(!1),s=T.useRef(()=>{});return T.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let u=function(){Sb($D,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=u,e.addEventListener("click",s.current,{once:!0})):u()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function QD(t,e=globalThis==null?void 0:globalThis.document){const n=Zn(t),r=T.useRef(!1);return T.useEffect(()=>{const s=i=>{i.target&&!r.current&&Sb(WD,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function fx(){const t=new CustomEvent($g);document.dispatchEvent(t)}function Sb(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?xb(s,i):s.dispatchEvent(i)}var KD=jf,GD=Tb,cn=globalThis!=null&&globalThis.document?T.useLayoutEffect:()=>{},ZD="Portal",jv=T.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=T.useState(!1);cn(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?v2.createPortal(p.jsx(Ge.div,{...r,ref:e}),o):null});jv.displayName=ZD;function XD(t,e){return T.useReducer((n,r)=>e[n][r]??n,t)}var Lv=t=>{const{present:e,children:n}=t,r=YD(e),s=typeof n=="function"?n({present:r.isPresent}):T.Children.only(n),i=vt(r.ref,JD(s));return typeof n=="function"||r.isPresent?T.cloneElement(s,{ref:i}):null};Lv.displayName="Presence";function YD(t){const[e,n]=T.useState(),r=T.useRef({}),s=T.useRef(t),i=T.useRef("none"),o=t?"mounted":"unmounted",[a,u]=XD(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return T.useEffect(()=>{const c=Ed(r.current);i.current=a==="mounted"?c:"none"},[a]),cn(()=>{const c=r.current,d=s.current;if(d!==t){const h=i.current,_=Ed(c);t?u("MOUNT"):_==="none"||(c==null?void 0:c.display)==="none"?u("UNMOUNT"):u(d&&h!==_?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,u]),cn(()=>{if(e){let c;const d=e.ownerDocument.defaultView??window,m=_=>{const v=Ed(r.current).includes(_.animationName);if(_.target===e&&v&&(u("ANIMATION_END"),!s.current)){const E=e.style.animationFillMode;e.style.animationFillMode="forwards",c=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=E)})}},h=_=>{_.target===e&&(i.current=Ed(r.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",m),e.addEventListener("animationend",m),()=>{d.clearTimeout(c),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",m),e.removeEventListener("animationend",m)}}else u("ANIMATION_END")},[e,u]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:T.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function Ed(t){return(t==null?void 0:t.animationName)||"none"}function JD(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Wg({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=eO({defaultProp:e,onChange:n}),i=t!==void 0,o=i?t:r,a=Zn(n),u=T.useCallback(c=>{if(i){const m=typeof c=="function"?c(t):c;m!==t&&a(m)}else s(c)},[i,t,s,a]);return[o,u]}function eO({defaultProp:t,onChange:e}){const n=T.useState(t),[r]=n,s=T.useRef(r),i=Zn(e);return T.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),n}var tO="VisuallyHidden",Rc=T.forwardRef((t,e)=>p.jsx(Ge.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));Rc.displayName=tO;var nO=Rc,Fv="ToastProvider",[Uv,rO,sO]=wb("Toast"),[bb,Lz]=Ac("Toast",[sO]),[iO,Lf]=bb(Fv),Cb=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,u]=T.useState(null),[c,d]=T.useState(0),m=T.useRef(!1),h=T.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Fv}\`. Expected non-empty \`string\`.`),p.jsx(Uv.Provider,{scope:e,children:p.jsx(iO,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:c,viewport:a,onViewportChange:u,onToastAdd:T.useCallback(()=>d(_=>_+1),[]),onToastRemove:T.useCallback(()=>d(_=>_-1),[]),isFocusedToastEscapeKeyDownRef:m,isClosePausedRef:h,children:o})})};Cb.displayName=Fv;var Ab="ToastViewport",oO=["F8"],Hg="toast.viewportPause",qg="toast.viewportResume",Rb=T.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=oO,label:s="Notifications ({hotkey})",...i}=t,o=Lf(Ab,n),a=rO(n),u=T.useRef(null),c=T.useRef(null),d=T.useRef(null),m=T.useRef(null),h=vt(e,m,o.onViewportChange),_=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),S=o.toastCount>0;T.useEffect(()=>{const E=w=>{var x;r.length!==0&&r.every(k=>w[k]||w.code===k)&&((x=m.current)==null||x.focus())};return document.addEventListener("keydown",E),()=>document.removeEventListener("keydown",E)},[r]),T.useEffect(()=>{const E=u.current,w=m.current;if(S&&E&&w){const y=()=>{if(!o.isClosePausedRef.current){const L=new CustomEvent(Hg);w.dispatchEvent(L),o.isClosePausedRef.current=!0}},x=()=>{if(o.isClosePausedRef.current){const L=new CustomEvent(qg);w.dispatchEvent(L),o.isClosePausedRef.current=!1}},k=L=>{!E.contains(L.relatedTarget)&&x()},V=()=>{E.contains(document.activeElement)||x()};return E.addEventListener("focusin",y),E.addEventListener("focusout",k),E.addEventListener("pointermove",y),E.addEventListener("pointerleave",V),window.addEventListener("blur",y),window.addEventListener("focus",x),()=>{E.removeEventListener("focusin",y),E.removeEventListener("focusout",k),E.removeEventListener("pointermove",y),E.removeEventListener("pointerleave",V),window.removeEventListener("blur",y),window.removeEventListener("focus",x)}}},[S,o.isClosePausedRef]);const v=T.useCallback(({tabbingDirection:E})=>{const y=a().map(x=>{const k=x.ref.current,V=[k,..._O(k)];return E==="forwards"?V:V.reverse()});return(E==="forwards"?y.reverse():y).flat()},[a]);return T.useEffect(()=>{const E=m.current;if(E){const w=y=>{var V,L,C;const x=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!x){const b=document.activeElement,A=y.shiftKey;if(y.target===E&&A){(V=c.current)==null||V.focus();return}const N=v({tabbingDirection:A?"backwards":"forwards"}),I=N.findIndex(H=>H===b);dm(N.slice(I+1))?y.preventDefault():A?(L=c.current)==null||L.focus():(C=d.current)==null||C.focus()}};return E.addEventListener("keydown",w),()=>E.removeEventListener("keydown",w)}},[a,v]),p.jsxs(GD,{ref:u,role:"region","aria-label":s.replace("{hotkey}",_),tabIndex:-1,style:{pointerEvents:S?void 0:"none"},children:[S&&p.jsx(Qg,{ref:c,onFocusFromOutsideViewport:()=>{const E=v({tabbingDirection:"forwards"});dm(E)}}),p.jsx(Uv.Slot,{scope:n,children:p.jsx(Ge.ol,{tabIndex:-1,...i,ref:h})}),S&&p.jsx(Qg,{ref:d,onFocusFromOutsideViewport:()=>{const E=v({tabbingDirection:"backwards"});dm(E)}})]})});Rb.displayName=Ab;var Ib="ToastFocusProxy",Qg=T.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=Lf(Ib,n);return p.jsx(Rc,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=i.viewport)!=null&&c.contains(a))&&r()}})});Qg.displayName=Ib;var Ff="Toast",aO="toast.swipeStart",lO="toast.swipeMove",uO="toast.swipeCancel",cO="toast.swipeEnd",Pb=T.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a=!0,u]=Wg({prop:r,defaultProp:s,onChange:i});return p.jsx(Lv,{present:n||a,children:p.jsx(fO,{open:a,...o,ref:e,onClose:()=>u(!1),onPause:Zn(t.onPause),onResume:Zn(t.onResume),onSwipeStart:Ie(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ie(t.onSwipeMove,c=>{const{x:d,y:m}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${m}px`)}),onSwipeCancel:Ie(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ie(t.onSwipeEnd,c=>{const{x:d,y:m}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${m}px`),u(!1)})})})});Pb.displayName=Ff;var[dO,hO]=bb(Ff,{onClose(){}}),fO=T.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:u,onResume:c,onSwipeStart:d,onSwipeMove:m,onSwipeCancel:h,onSwipeEnd:_,...S}=t,v=Lf(Ff,n),[E,w]=T.useState(null),y=vt(e,H=>w(H)),x=T.useRef(null),k=T.useRef(null),V=s||v.duration,L=T.useRef(0),C=T.useRef(V),b=T.useRef(0),{onToastAdd:A,onToastRemove:P}=v,D=Zn(()=>{var ue;(E==null?void 0:E.contains(document.activeElement))&&((ue=v.viewport)==null||ue.focus()),o()}),N=T.useCallback(H=>{!H||H===1/0||(window.clearTimeout(b.current),L.current=new Date().getTime(),b.current=window.setTimeout(D,H))},[D]);T.useEffect(()=>{const H=v.viewport;if(H){const ue=()=>{N(C.current),c==null||c()},ie=()=>{const de=new Date().getTime()-L.current;C.current=C.current-de,window.clearTimeout(b.current),u==null||u()};return H.addEventListener(Hg,ie),H.addEventListener(qg,ue),()=>{H.removeEventListener(Hg,ie),H.removeEventListener(qg,ue)}}},[v.viewport,V,u,c,N]),T.useEffect(()=>{i&&!v.isClosePausedRef.current&&N(V)},[i,V,v.isClosePausedRef,N]),T.useEffect(()=>(A(),()=>P()),[A,P]);const I=T.useMemo(()=>E?jb(E):null,[E]);return v.viewport?p.jsxs(p.Fragment,{children:[I&&p.jsx(pO,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:I}),p.jsx(dO,{scope:n,onClose:D,children:Po.createPortal(p.jsx(Uv.ItemSlot,{scope:n,children:p.jsx(KD,{asChild:!0,onEscapeKeyDown:Ie(a,()=>{v.isFocusedToastEscapeKeyDownRef.current||D(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:p.jsx(Ge.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":v.swipeDirection,...S,ref:y,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Ie(t.onKeyDown,H=>{H.key==="Escape"&&(a==null||a(H.nativeEvent),H.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,D()))}),onPointerDown:Ie(t.onPointerDown,H=>{H.button===0&&(x.current={x:H.clientX,y:H.clientY})}),onPointerMove:Ie(t.onPointerMove,H=>{if(!x.current)return;const ue=H.clientX-x.current.x,ie=H.clientY-x.current.y,de=!!k.current,B=["left","right"].includes(v.swipeDirection),Z=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,ae=B?Z(0,ue):0,me=B?0:Z(0,ie),Se=H.pointerType==="touch"?10:2,Ne={x:ae,y:me},at={originalEvent:H,delta:Ne};de?(k.current=Ne,Td(lO,m,at,{discrete:!1})):px(Ne,v.swipeDirection,Se)?(k.current=Ne,Td(aO,d,at,{discrete:!1}),H.target.setPointerCapture(H.pointerId)):(Math.abs(ue)>Se||Math.abs(ie)>Se)&&(x.current=null)}),onPointerUp:Ie(t.onPointerUp,H=>{const ue=k.current,ie=H.target;if(ie.hasPointerCapture(H.pointerId)&&ie.releasePointerCapture(H.pointerId),k.current=null,x.current=null,ue){const de=H.currentTarget,B={originalEvent:H,delta:ue};px(ue,v.swipeDirection,v.swipeThreshold)?Td(cO,_,B,{discrete:!0}):Td(uO,h,B,{discrete:!0}),de.addEventListener("click",Z=>Z.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),pO=t=>{const{__scopeToast:e,children:n,...r}=t,s=Lf(Ff,e),[i,o]=T.useState(!1),[a,u]=T.useState(!1);return yO(()=>o(!0)),T.useEffect(()=>{const c=window.setTimeout(()=>u(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:p.jsx(jv,{asChild:!0,children:p.jsx(Rc,{...r,children:i&&p.jsxs(p.Fragment,{children:[s.label," ",n]})})})},mO="ToastTitle",kb=T.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return p.jsx(Ge.div,{...r,ref:e})});kb.displayName=mO;var gO="ToastDescription",Nb=T.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return p.jsx(Ge.div,{...r,ref:e})});Nb.displayName=gO;var Db="ToastAction",Ob=T.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?p.jsx(Mb,{altText:n,asChild:!0,children:p.jsx(Bv,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${Db}\`. Expected non-empty \`string\`.`),null)});Ob.displayName=Db;var Vb="ToastClose",Bv=T.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=hO(Vb,n);return p.jsx(Mb,{asChild:!0,children:p.jsx(Ge.button,{type:"button",...r,ref:e,onClick:Ie(t.onClick,s.onClose)})})});Bv.displayName=Vb;var Mb=T.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return p.jsx(Ge.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function jb(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),vO(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...jb(r))}}),e}function Td(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?xb(s,i):s.dispatchEvent(i)}var px=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function yO(t=()=>{}){const e=Zn(t);cn(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function vO(t){return t.nodeType===t.ELEMENT_NODE}function _O(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function dm(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var wO=Cb,Lb=Rb,Fb=Pb,Ub=kb,Bb=Nb,zb=Ob,$b=Bv;function Wb(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=Wb(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Hb(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=Wb(t))&&(r&&(r+=" "),r+=e);return r}const mx=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,gx=Hb,Uf=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return gx(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(c=>{const d=n==null?void 0:n[c],m=i==null?void 0:i[c];if(d===null)return null;const h=mx(d)||mx(m);return s[c][h]}),a=n&&Object.entries(n).reduce((c,d)=>{let[m,h]=d;return h===void 0||(c[m]=h),c},{}),u=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,d)=>{let{class:m,className:h,..._}=d;return Object.entries(_).every(S=>{let[v,E]=S;return Array.isArray(E)?E.includes({...i,...a}[v]):{...i,...a}[v]===E})?[...c,m,h]:c},[]);return gx(t,o,u,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xO=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),qb=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var EO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TO=T.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},u)=>T.createElement("svg",{ref:u,...EO,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:qb("lucide",s),...a},[...o.map(([c,d])=>T.createElement(c,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bt=(t,e)=>{const n=T.forwardRef(({className:r,...s},i)=>T.createElement(TO,{ref:i,iconNode:e,className:qb(`lucide-${xO(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SO=bt("Bird",[["path",{d:"M16 7h.01",key:"1kdx03"}],["path",{d:"M3.4 18H12a8 8 0 0 0 8-8V7a4 4 0 0 0-7.28-2.3L2 20",key:"oj1oa8"}],["path",{d:"m20 7 2 .5-2 .5",key:"12nv4d"}],["path",{d:"M10 18v3",key:"1yea0a"}],["path",{d:"M14 17.75V21",key:"1pymcb"}],["path",{d:"M7 18a6 6 0 0 0 3.84-10.61",key:"1npnn0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bO=bt("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CO=bt("Cat",[["path",{d:"M12 5c.67 0 1.35.09 2 .26 1.78-2 5.03-2.84 6.42-2.26 1.4.58-.42 7-.42 7 .57 1.07 1 2.24 1 3.44C21 17.9 16.97 21 12 21s-9-3-9-7.56c0-1.25.5-2.4 1-3.44 0 0-1.89-6.42-.5-7 1.39-.58 4.72.23 6.5 2.23A9.04 9.04 0 0 1 12 5Z",key:"x6xyqk"}],["path",{d:"M8 14v.5",key:"1nzgdb"}],["path",{d:"M16 14v.5",key:"1lajdz"}],["path",{d:"M11.25 16.25h1.5L12 17l-.75-.75Z",key:"12kq1m"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AO=bt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qb=bt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RO=bt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IO=bt("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PO=bt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yx=bt("Dog",[["path",{d:"M11.25 16.25h1.5L12 17z",key:"w7jh35"}],["path",{d:"M16 14v.5",key:"1lajdz"}],["path",{d:"M4.42 11.247A13.152 13.152 0 0 0 4 14.556C4 18.728 7.582 21 12 21s8-2.272 8-6.444a11.702 11.702 0 0 0-.493-3.309",key:"u7s9ue"}],["path",{d:"M8 14v.5",key:"1nzgdb"}],["path",{d:"M8.5 8.5c-.384 1.05-1.083 2.028-2.344 2.5-1.931.722-3.576-.297-3.656-1-.113-.994 1.177-6.53 4-7 1.923-.321 3.651.845 3.651 2.235A7.497 7.497 0 0 1 14 5.277c0-1.39 1.844-2.598 3.767-2.277 2.823.47 4.113 6.006 4 7-.08.703-1.725 1.722-3.656 1-1.261-.472-1.855-1.45-2.239-2.5",key:"v8hric"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kO=bt("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zv=bt("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ya=bt("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NO=bt("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DO=bt("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OO=bt("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VO=bt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MO=bt("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fr=bt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jO=bt("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zs=bt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kb=bt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),$v="-",LO=t=>{const e=UO(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split($v);return a[0]===""&&a.length!==1&&a.shift(),Gb(a,e)||FO(o)},getConflictingClassGroupIds:(o,a)=>{const u=n[o]||[];return a&&r[o]?[...u,...r[o]]:u}}},Gb=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?Gb(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join($v);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},vx=/^\[(.+)\]$/,FO=t=>{if(vx.test(t)){const e=vx.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},UO=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return zO(Object.entries(t.classGroups),n).forEach(([i,o])=>{Kg(o,r,i,e)}),r},Kg=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:_x(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(BO(s)){Kg(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{Kg(o,_x(e,i),n,r)})})},_x=(t,e)=>{let n=t;return e.split($v).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},BO=t=>t.isThemeGetter,zO=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,$O=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},Zb="!",WO=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const u=[];let c=0,d=0,m;for(let E=0;E<a.length;E++){let w=a[E];if(c===0){if(w===s&&(r||a.slice(E,E+i)===e)){u.push(a.slice(d,E)),d=E+i;continue}if(w==="/"){m=E;continue}}w==="["?c++:w==="]"&&c--}const h=u.length===0?a:a.substring(d),_=h.startsWith(Zb),S=_?h.substring(1):h,v=m&&m>d?m-d:void 0;return{modifiers:u,hasImportantModifier:_,baseClassName:S,maybePostfixModifierPosition:v}};return n?a=>n({className:a,parseClassName:o}):o},HO=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},qO=t=>({cache:$O(t.cacheSize),parseClassName:WO(t),...LO(t)}),QO=/\s+/,KO=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(QO);let a="";for(let u=o.length-1;u>=0;u-=1){const c=o[u],{modifiers:d,hasImportantModifier:m,baseClassName:h,maybePostfixModifierPosition:_}=n(c);let S=!!_,v=r(S?h.substring(0,_):h);if(!v){if(!S){a=c+(a.length>0?" "+a:a);continue}if(v=r(h),!v){a=c+(a.length>0?" "+a:a);continue}S=!1}const E=HO(d).join(":"),w=m?E+Zb:E,y=w+v;if(i.includes(y))continue;i.push(y);const x=s(v,S);for(let k=0;k<x.length;++k){const V=x[k];i.push(w+V)}a=c+(a.length>0?" "+a:a)}return a};function GO(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=Xb(e))&&(r&&(r+=" "),r+=n);return r}const Xb=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=Xb(t[r]))&&(n&&(n+=" "),n+=e);return n};function ZO(t,...e){let n,r,s,i=o;function o(u){const c=e.reduce((d,m)=>m(d),t());return n=qO(c),r=n.cache.get,s=n.cache.set,i=a,a(u)}function a(u){const c=r(u);if(c)return c;const d=KO(u,n);return s(u,d),d}return function(){return i(GO.apply(null,arguments))}}const et=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},Yb=/^\[(?:([a-z-]+):)?(.+)\]$/i,XO=/^\d+\/\d+$/,YO=new Set(["px","full","screen"]),JO=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,eV=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,tV=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,nV=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,rV=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,as=t=>va(t)||YO.has(t)||XO.test(t),Os=t=>dl(t,"length",dV),va=t=>!!t&&!Number.isNaN(Number(t)),hm=t=>dl(t,"number",va),Wl=t=>!!t&&Number.isInteger(Number(t)),sV=t=>t.endsWith("%")&&va(t.slice(0,-1)),Te=t=>Yb.test(t),Vs=t=>JO.test(t),iV=new Set(["length","size","percentage"]),oV=t=>dl(t,iV,Jb),aV=t=>dl(t,"position",Jb),lV=new Set(["image","url"]),uV=t=>dl(t,lV,fV),cV=t=>dl(t,"",hV),Hl=()=>!0,dl=(t,e,n)=>{const r=Yb.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},dV=t=>eV.test(t)&&!tV.test(t),Jb=()=>!1,hV=t=>nV.test(t),fV=t=>rV.test(t),pV=()=>{const t=et("colors"),e=et("spacing"),n=et("blur"),r=et("brightness"),s=et("borderColor"),i=et("borderRadius"),o=et("borderSpacing"),a=et("borderWidth"),u=et("contrast"),c=et("grayscale"),d=et("hueRotate"),m=et("invert"),h=et("gap"),_=et("gradientColorStops"),S=et("gradientColorStopPositions"),v=et("inset"),E=et("margin"),w=et("opacity"),y=et("padding"),x=et("saturate"),k=et("scale"),V=et("sepia"),L=et("skew"),C=et("space"),b=et("translate"),A=()=>["auto","contain","none"],P=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto",Te,e],N=()=>[Te,e],I=()=>["",as,Os],H=()=>["auto",va,Te],ue=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ie=()=>["solid","dashed","dotted","double","none"],de=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],B=()=>["start","end","center","between","around","evenly","stretch"],Z=()=>["","0",Te],ae=()=>["auto","avoid","all","avoid-page","page","left","right","column"],me=()=>[va,Te];return{cacheSize:500,separator:":",theme:{colors:[Hl],spacing:[as,Os],blur:["none","",Vs,Te],brightness:me(),borderColor:[t],borderRadius:["none","","full",Vs,Te],borderSpacing:N(),borderWidth:I(),contrast:me(),grayscale:Z(),hueRotate:me(),invert:Z(),gap:N(),gradientColorStops:[t],gradientColorStopPositions:[sV,Os],inset:D(),margin:D(),opacity:me(),padding:N(),saturate:me(),scale:me(),sepia:Z(),skew:me(),space:N(),translate:N()},classGroups:{aspect:[{aspect:["auto","square","video",Te]}],container:["container"],columns:[{columns:[Vs]}],"break-after":[{"break-after":ae()}],"break-before":[{"break-before":ae()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ue(),Te]}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Wl,Te]}],basis:[{basis:D()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Te]}],grow:[{grow:Z()}],shrink:[{shrink:Z()}],order:[{order:["first","last","none",Wl,Te]}],"grid-cols":[{"grid-cols":[Hl]}],"col-start-end":[{col:["auto",{span:["full",Wl,Te]},Te]}],"col-start":[{"col-start":H()}],"col-end":[{"col-end":H()}],"grid-rows":[{"grid-rows":[Hl]}],"row-start-end":[{row:["auto",{span:[Wl,Te]},Te]}],"row-start":[{"row-start":H()}],"row-end":[{"row-end":H()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Te]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Te]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...B()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...B(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...B(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[E]}],mx:[{mx:[E]}],my:[{my:[E]}],ms:[{ms:[E]}],me:[{me:[E]}],mt:[{mt:[E]}],mr:[{mr:[E]}],mb:[{mb:[E]}],ml:[{ml:[E]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Te,e]}],"min-w":[{"min-w":[Te,e,"min","max","fit"]}],"max-w":[{"max-w":[Te,e,"none","full","min","max","fit","prose",{screen:[Vs]},Vs]}],h:[{h:[Te,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Te,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Te,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Te,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Vs,Os]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",hm]}],"font-family":[{font:[Hl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Te]}],"line-clamp":[{"line-clamp":["none",va,hm]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",as,Te]}],"list-image":[{"list-image":["none",Te]}],"list-style-type":[{list:["none","disc","decimal",Te]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ie(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",as,Os]}],"underline-offset":[{"underline-offset":["auto",as,Te]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:N()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Te]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Te]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ue(),aV]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",oV]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},uV]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[S]}],"gradient-via-pos":[{via:[S]}],"gradient-to-pos":[{to:[S]}],"gradient-from":[{from:[_]}],"gradient-via":[{via:[_]}],"gradient-to":[{to:[_]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...ie(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:ie()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...ie()]}],"outline-offset":[{"outline-offset":[as,Te]}],"outline-w":[{outline:[as,Os]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:I()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[as,Os]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Vs,cV]}],"shadow-color":[{shadow:[Hl]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...de(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":de()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[u]}],"drop-shadow":[{"drop-shadow":["","none",Vs,Te]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[m]}],saturate:[{saturate:[x]}],sepia:[{sepia:[V]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[u]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[m]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[V]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Te]}],duration:[{duration:me()}],ease:[{ease:["linear","in","out","in-out",Te]}],delay:[{delay:me()}],animate:[{animate:["none","spin","ping","pulse","bounce",Te]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[k]}],"scale-x":[{"scale-x":[k]}],"scale-y":[{"scale-y":[k]}],rotate:[{rotate:[Wl,Te]}],"translate-x":[{"translate-x":[b]}],"translate-y":[{"translate-y":[b]}],"skew-x":[{"skew-x":[L]}],"skew-y":[{"skew-y":[L]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Te]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Te]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":N()}],"scroll-mx":[{"scroll-mx":N()}],"scroll-my":[{"scroll-my":N()}],"scroll-ms":[{"scroll-ms":N()}],"scroll-me":[{"scroll-me":N()}],"scroll-mt":[{"scroll-mt":N()}],"scroll-mr":[{"scroll-mr":N()}],"scroll-mb":[{"scroll-mb":N()}],"scroll-ml":[{"scroll-ml":N()}],"scroll-p":[{"scroll-p":N()}],"scroll-px":[{"scroll-px":N()}],"scroll-py":[{"scroll-py":N()}],"scroll-ps":[{"scroll-ps":N()}],"scroll-pe":[{"scroll-pe":N()}],"scroll-pt":[{"scroll-pt":N()}],"scroll-pr":[{"scroll-pr":N()}],"scroll-pb":[{"scroll-pb":N()}],"scroll-pl":[{"scroll-pl":N()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Te]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[as,Os,hm]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},mV=ZO(pV);function $e(...t){return mV(Hb(t))}const gV=wO,eC=T.forwardRef(({className:t,...e},n)=>p.jsx(Lb,{ref:n,className:$e("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));eC.displayName=Lb.displayName;const yV=Uf("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),tC=T.forwardRef(({className:t,variant:e,...n},r)=>p.jsx(Fb,{ref:r,className:$e(yV({variant:e}),t),...n}));tC.displayName=Fb.displayName;const vV=T.forwardRef(({className:t,...e},n)=>p.jsx(zb,{ref:n,className:$e("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));vV.displayName=zb.displayName;const nC=T.forwardRef(({className:t,...e},n)=>p.jsx($b,{ref:n,className:$e("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:p.jsx(Kb,{className:"h-4 w-4"})}));nC.displayName=$b.displayName;const rC=T.forwardRef(({className:t,...e},n)=>p.jsx(Ub,{ref:n,className:$e("text-sm font-semibold",t),...e}));rC.displayName=Ub.displayName;const sC=T.forwardRef(({className:t,...e},n)=>p.jsx(Bb,{ref:n,className:$e("text-sm opacity-90",t),...e}));sC.displayName=Bb.displayName;function _V(){const{toasts:t}=Mv();return p.jsxs(gV,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return p.jsxs(tC,{...i,children:[p.jsxs("div",{className:"grid gap-1",children:[n&&p.jsx(rC,{children:n}),r&&p.jsx(sC,{children:r})]}),s,p.jsx(nC,{})]},e)}),p.jsx(eC,{})]})}var wV=BE[" useId ".trim().toString()]||(()=>{}),xV=0;function Wv(t){const[e,n]=T.useState(wV());return cn(()=>{n(r=>r??String(xV++))},[t]),e?`radix-${e}`:""}const EV=["top","right","bottom","left"],_i=Math.min,zn=Math.max,Lh=Math.round,Sd=Math.floor,qr=t=>({x:t,y:t}),TV={left:"right",right:"left",bottom:"top",top:"bottom"},SV={start:"end",end:"start"};function Gg(t,e,n){return zn(t,_i(e,n))}function Ts(t,e){return typeof t=="function"?t(e):t}function Ss(t){return t.split("-")[0]}function hl(t){return t.split("-")[1]}function Hv(t){return t==="x"?"y":"x"}function qv(t){return t==="y"?"height":"width"}function wi(t){return["top","bottom"].includes(Ss(t))?"y":"x"}function Qv(t){return Hv(wi(t))}function bV(t,e,n){n===void 0&&(n=!1);const r=hl(t),s=Qv(t),i=qv(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=Fh(o)),[o,Fh(o)]}function CV(t){const e=Fh(t);return[Zg(t),e,Zg(e)]}function Zg(t){return t.replace(/start|end/g,e=>SV[e])}function AV(t,e,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?i:o;default:return[]}}function RV(t,e,n,r){const s=hl(t);let i=AV(Ss(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(Zg)))),i}function Fh(t){return t.replace(/left|right|bottom|top/g,e=>TV[e])}function IV(t){return{top:0,right:0,bottom:0,left:0,...t}}function iC(t){return typeof t!="number"?IV(t):{top:t,right:t,bottom:t,left:t}}function Uh(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function wx(t,e,n){let{reference:r,floating:s}=t;const i=wi(e),o=Qv(e),a=qv(o),u=Ss(e),c=i==="y",d=r.x+r.width/2-s.width/2,m=r.y+r.height/2-s.height/2,h=r[a]/2-s[a]/2;let _;switch(u){case"top":_={x:d,y:r.y-s.height};break;case"bottom":_={x:d,y:r.y+r.height};break;case"right":_={x:r.x+r.width,y:m};break;case"left":_={x:r.x-s.width,y:m};break;default:_={x:r.x,y:r.y}}switch(hl(e)){case"start":_[o]-=h*(n&&c?-1:1);break;case"end":_[o]+=h*(n&&c?-1:1);break}return _}const PV=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),u=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:d,y:m}=wx(c,r,u),h=r,_={},S=0;for(let v=0;v<a.length;v++){const{name:E,fn:w}=a[v],{x:y,y:x,data:k,reset:V}=await w({x:d,y:m,initialPlacement:r,placement:h,strategy:s,middlewareData:_,rects:c,platform:o,elements:{reference:t,floating:e}});d=y??d,m=x??m,_={..._,[E]:{..._[E],...k}},V&&S<=50&&(S++,typeof V=="object"&&(V.placement&&(h=V.placement),V.rects&&(c=V.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):V.rects),{x:d,y:m}=wx(c,h,u)),v=-1)}return{x:d,y:m,placement:h,strategy:s,middlewareData:_}};async function Hu(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:u}=t,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:m="floating",altBoundary:h=!1,padding:_=0}=Ts(e,t),S=iC(_),E=a[h?m==="floating"?"reference":"floating":m],w=Uh(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(E)))==null||n?E:E.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:u})),y=m==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,x=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),k=await(i.isElement==null?void 0:i.isElement(x))?await(i.getScale==null?void 0:i.getScale(x))||{x:1,y:1}:{x:1,y:1},V=Uh(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:y,offsetParent:x,strategy:u}):y);return{top:(w.top-V.top+S.top)/k.y,bottom:(V.bottom-w.bottom+S.bottom)/k.y,left:(w.left-V.left+S.left)/k.x,right:(V.right-w.right+S.right)/k.x}}const kV=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:u}=e,{element:c,padding:d=0}=Ts(t,e)||{};if(c==null)return{};const m=iC(d),h={x:n,y:r},_=Qv(s),S=qv(_),v=await o.getDimensions(c),E=_==="y",w=E?"top":"left",y=E?"bottom":"right",x=E?"clientHeight":"clientWidth",k=i.reference[S]+i.reference[_]-h[_]-i.floating[S],V=h[_]-i.reference[_],L=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let C=L?L[x]:0;(!C||!await(o.isElement==null?void 0:o.isElement(L)))&&(C=a.floating[x]||i.floating[S]);const b=k/2-V/2,A=C/2-v[S]/2-1,P=_i(m[w],A),D=_i(m[y],A),N=P,I=C-v[S]-D,H=C/2-v[S]/2+b,ue=Gg(N,H,I),ie=!u.arrow&&hl(s)!=null&&H!==ue&&i.reference[S]/2-(H<N?P:D)-v[S]/2<0,de=ie?H<N?H-N:H-I:0;return{[_]:h[_]+de,data:{[_]:ue,centerOffset:H-ue-de,...ie&&{alignmentOffset:de}},reset:ie}}}),NV=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:u,elements:c}=e,{mainAxis:d=!0,crossAxis:m=!0,fallbackPlacements:h,fallbackStrategy:_="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:v=!0,...E}=Ts(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const w=Ss(s),y=wi(a),x=Ss(a)===a,k=await(u.isRTL==null?void 0:u.isRTL(c.floating)),V=h||(x||!v?[Fh(a)]:CV(a)),L=S!=="none";!h&&L&&V.push(...RV(a,v,S,k));const C=[a,...V],b=await Hu(e,E),A=[];let P=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&A.push(b[w]),m){const H=bV(s,o,k);A.push(b[H[0]],b[H[1]])}if(P=[...P,{placement:s,overflows:A}],!A.every(H=>H<=0)){var D,N;const H=(((D=i.flip)==null?void 0:D.index)||0)+1,ue=C[H];if(ue)return{data:{index:H,overflows:P},reset:{placement:ue}};let ie=(N=P.filter(de=>de.overflows[0]<=0).sort((de,B)=>de.overflows[1]-B.overflows[1])[0])==null?void 0:N.placement;if(!ie)switch(_){case"bestFit":{var I;const de=(I=P.filter(B=>{if(L){const Z=wi(B.placement);return Z===y||Z==="y"}return!0}).map(B=>[B.placement,B.overflows.filter(Z=>Z>0).reduce((Z,ae)=>Z+ae,0)]).sort((B,Z)=>B[1]-Z[1])[0])==null?void 0:I[0];de&&(ie=de);break}case"initialPlacement":ie=a;break}if(s!==ie)return{reset:{placement:ie}}}return{}}}};function xx(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Ex(t){return EV.some(e=>t[e]>=0)}const DV=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Ts(t,e);switch(r){case"referenceHidden":{const i=await Hu(e,{...s,elementContext:"reference"}),o=xx(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Ex(o)}}}case"escaped":{const i=await Hu(e,{...s,altBoundary:!0}),o=xx(i,n.floating);return{data:{escapedOffsets:o,escaped:Ex(o)}}}default:return{}}}}};async function OV(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Ss(n),a=hl(n),u=wi(n)==="y",c=["left","top"].includes(o)?-1:1,d=i&&u?-1:1,m=Ts(e,t);let{mainAxis:h,crossAxis:_,alignmentAxis:S}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return a&&typeof S=="number"&&(_=a==="end"?S*-1:S),u?{x:_*d,y:h*c}:{x:h*c,y:_*d}}const VV=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,u=await OV(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+u.x,y:i+u.y,data:{...u,placement:o}}}}},MV=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:E=>{let{x:w,y}=E;return{x:w,y}}},...u}=Ts(t,e),c={x:n,y:r},d=await Hu(e,u),m=wi(Ss(s)),h=Hv(m);let _=c[h],S=c[m];if(i){const E=h==="y"?"top":"left",w=h==="y"?"bottom":"right",y=_+d[E],x=_-d[w];_=Gg(y,_,x)}if(o){const E=m==="y"?"top":"left",w=m==="y"?"bottom":"right",y=S+d[E],x=S-d[w];S=Gg(y,S,x)}const v=a.fn({...e,[h]:_,[m]:S});return{...v,data:{x:v.x-n,y:v.y-r,enabled:{[h]:i,[m]:o}}}}}},jV=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:u=!0,crossAxis:c=!0}=Ts(t,e),d={x:n,y:r},m=wi(s),h=Hv(m);let _=d[h],S=d[m];const v=Ts(a,e),E=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(u){const x=h==="y"?"height":"width",k=i.reference[h]-i.floating[x]+E.mainAxis,V=i.reference[h]+i.reference[x]-E.mainAxis;_<k?_=k:_>V&&(_=V)}if(c){var w,y;const x=h==="y"?"width":"height",k=["top","left"].includes(Ss(s)),V=i.reference[m]-i.floating[x]+(k&&((w=o.offset)==null?void 0:w[m])||0)+(k?0:E.crossAxis),L=i.reference[m]+i.reference[x]+(k?0:((y=o.offset)==null?void 0:y[m])||0)-(k?E.crossAxis:0);S<V?S=V:S>L&&(S=L)}return{[h]:_,[m]:S}}}},LV=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:u=()=>{},...c}=Ts(t,e),d=await Hu(e,c),m=Ss(s),h=hl(s),_=wi(s)==="y",{width:S,height:v}=i.floating;let E,w;m==="top"||m==="bottom"?(E=m,w=h===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(w=m,E=h==="end"?"top":"bottom");const y=v-d.top-d.bottom,x=S-d.left-d.right,k=_i(v-d[E],y),V=_i(S-d[w],x),L=!e.middlewareData.shift;let C=k,b=V;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(b=x),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(C=y),L&&!h){const P=zn(d.left,0),D=zn(d.right,0),N=zn(d.top,0),I=zn(d.bottom,0);_?b=S-2*(P!==0||D!==0?P+D:zn(d.left,d.right)):C=v-2*(N!==0||I!==0?N+I:zn(d.top,d.bottom))}await u({...e,availableWidth:b,availableHeight:C});const A=await o.getDimensions(a.floating);return S!==A.width||v!==A.height?{reset:{rects:!0}}:{}}}};function Bf(){return typeof window<"u"}function fl(t){return oC(t)?(t.nodeName||"").toLowerCase():"#document"}function Qn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function rs(t){var e;return(e=(oC(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function oC(t){return Bf()?t instanceof Node||t instanceof Qn(t).Node:!1}function Cr(t){return Bf()?t instanceof Element||t instanceof Qn(t).Element:!1}function Jr(t){return Bf()?t instanceof HTMLElement||t instanceof Qn(t).HTMLElement:!1}function Tx(t){return!Bf()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Qn(t).ShadowRoot}function Ic(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Ar(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function FV(t){return["table","td","th"].includes(fl(t))}function zf(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function Kv(t){const e=Gv(),n=Cr(t)?Ar(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function UV(t){let e=xi(t);for(;Jr(e)&&!Ka(e);){if(Kv(e))return e;if(zf(e))return null;e=xi(e)}return null}function Gv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Ka(t){return["html","body","#document"].includes(fl(t))}function Ar(t){return Qn(t).getComputedStyle(t)}function $f(t){return Cr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function xi(t){if(fl(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Tx(t)&&t.host||rs(t);return Tx(e)?e.host:e}function aC(t){const e=xi(t);return Ka(e)?t.ownerDocument?t.ownerDocument.body:t.body:Jr(e)&&Ic(e)?e:aC(e)}function qu(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=aC(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=Qn(s);if(i){const a=Xg(o);return e.concat(o,o.visualViewport||[],Ic(s)?s:[],a&&n?qu(a):[])}return e.concat(s,qu(s,[],n))}function Xg(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function lC(t){const e=Ar(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Jr(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=Lh(n)!==i||Lh(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function Zv(t){return Cr(t)?t:t.contextElement}function _a(t){const e=Zv(t);if(!Jr(e))return qr(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=lC(e);let o=(i?Lh(n.width):n.width)/r,a=(i?Lh(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const BV=qr(0);function uC(t){const e=Qn(t);return!Gv()||!e.visualViewport?BV:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function zV(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Qn(t)?!1:e}function wo(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=Zv(t);let o=qr(1);e&&(r?Cr(r)&&(o=_a(r)):o=_a(t));const a=zV(i,n,r)?uC(i):qr(0);let u=(s.left+a.x)/o.x,c=(s.top+a.y)/o.y,d=s.width/o.x,m=s.height/o.y;if(i){const h=Qn(i),_=r&&Cr(r)?Qn(r):r;let S=h,v=Xg(S);for(;v&&r&&_!==S;){const E=_a(v),w=v.getBoundingClientRect(),y=Ar(v),x=w.left+(v.clientLeft+parseFloat(y.paddingLeft))*E.x,k=w.top+(v.clientTop+parseFloat(y.paddingTop))*E.y;u*=E.x,c*=E.y,d*=E.x,m*=E.y,u+=x,c+=k,S=Qn(v),v=Xg(S)}}return Uh({width:d,height:m,x:u,y:c})}function Xv(t,e){const n=$f(t).scrollLeft;return e?e.left+n:wo(rs(t)).left+n}function cC(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:Xv(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function $V(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=rs(r),a=e?zf(e.floating):!1;if(r===o||a&&i)return n;let u={scrollLeft:0,scrollTop:0},c=qr(1);const d=qr(0),m=Jr(r);if((m||!m&&!i)&&((fl(r)!=="body"||Ic(o))&&(u=$f(r)),Jr(r))){const _=wo(r);c=_a(r),d.x=_.x+r.clientLeft,d.y=_.y+r.clientTop}const h=o&&!m&&!i?cC(o,u,!0):qr(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-u.scrollLeft*c.x+d.x+h.x,y:n.y*c.y-u.scrollTop*c.y+d.y+h.y}}function WV(t){return Array.from(t.getClientRects())}function HV(t){const e=rs(t),n=$f(t),r=t.ownerDocument.body,s=zn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=zn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Xv(t);const a=-n.scrollTop;return Ar(r).direction==="rtl"&&(o+=zn(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function qV(t,e){const n=Qn(t),r=rs(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,u=0;if(s){i=s.width,o=s.height;const c=Gv();(!c||c&&e==="fixed")&&(a=s.offsetLeft,u=s.offsetTop)}return{width:i,height:o,x:a,y:u}}function QV(t,e){const n=wo(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=Jr(t)?_a(t):qr(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,u=s*i.x,c=r*i.y;return{width:o,height:a,x:u,y:c}}function Sx(t,e,n){let r;if(e==="viewport")r=qV(t,n);else if(e==="document")r=HV(rs(t));else if(Cr(e))r=QV(e,n);else{const s=uC(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Uh(r)}function dC(t,e){const n=xi(t);return n===e||!Cr(n)||Ka(n)?!1:Ar(n).position==="fixed"||dC(n,e)}function KV(t,e){const n=e.get(t);if(n)return n;let r=qu(t,[],!1).filter(a=>Cr(a)&&fl(a)!=="body"),s=null;const i=Ar(t).position==="fixed";let o=i?xi(t):t;for(;Cr(o)&&!Ka(o);){const a=Ar(o),u=Kv(o);!u&&a.position==="fixed"&&(s=null),(i?!u&&!s:!u&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Ic(o)&&!u&&dC(t,o))?r=r.filter(d=>d!==o):s=a,o=xi(o)}return e.set(t,r),r}function GV(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?zf(e)?[]:KV(e,this._c):[].concat(n),r],a=o[0],u=o.reduce((c,d)=>{const m=Sx(e,d,s);return c.top=zn(m.top,c.top),c.right=_i(m.right,c.right),c.bottom=_i(m.bottom,c.bottom),c.left=zn(m.left,c.left),c},Sx(e,a,s));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function ZV(t){const{width:e,height:n}=lC(t);return{width:e,height:n}}function XV(t,e,n){const r=Jr(e),s=rs(e),i=n==="fixed",o=wo(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const u=qr(0);if(r||!r&&!i)if((fl(e)!=="body"||Ic(s))&&(a=$f(e)),r){const h=wo(e,!0,i,e);u.x=h.x+e.clientLeft,u.y=h.y+e.clientTop}else s&&(u.x=Xv(s));const c=s&&!r&&!i?cC(s,a):qr(0),d=o.left+a.scrollLeft-u.x-c.x,m=o.top+a.scrollTop-u.y-c.y;return{x:d,y:m,width:o.width,height:o.height}}function fm(t){return Ar(t).position==="static"}function bx(t,e){if(!Jr(t)||Ar(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return rs(t)===n&&(n=n.ownerDocument.body),n}function hC(t,e){const n=Qn(t);if(zf(t))return n;if(!Jr(t)){let s=xi(t);for(;s&&!Ka(s);){if(Cr(s)&&!fm(s))return s;s=xi(s)}return n}let r=bx(t,e);for(;r&&FV(r)&&fm(r);)r=bx(r,e);return r&&Ka(r)&&fm(r)&&!Kv(r)?n:r||UV(t)||n}const YV=async function(t){const e=this.getOffsetParent||hC,n=this.getDimensions,r=await n(t.floating);return{reference:XV(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function JV(t){return Ar(t).direction==="rtl"}const eM={convertOffsetParentRelativeRectToViewportRelativeRect:$V,getDocumentElement:rs,getClippingRect:GV,getOffsetParent:hC,getElementRects:YV,getClientRects:WV,getDimensions:ZV,getScale:_a,isElement:Cr,isRTL:JV};function fC(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function tM(t,e){let n=null,r;const s=rs(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,u){a===void 0&&(a=!1),u===void 0&&(u=1),i();const c=t.getBoundingClientRect(),{left:d,top:m,width:h,height:_}=c;if(a||e(),!h||!_)return;const S=Sd(m),v=Sd(s.clientWidth-(d+h)),E=Sd(s.clientHeight-(m+_)),w=Sd(d),x={rootMargin:-S+"px "+-v+"px "+-E+"px "+-w+"px",threshold:zn(0,_i(1,u))||1};let k=!0;function V(L){const C=L[0].intersectionRatio;if(C!==u){if(!k)return o();C?o(!1,C):r=setTimeout(()=>{o(!1,1e-7)},1e3)}C===1&&!fC(c,t.getBoundingClientRect())&&o(),k=!1}try{n=new IntersectionObserver(V,{...x,root:s.ownerDocument})}catch{n=new IntersectionObserver(V,x)}n.observe(t)}return o(!0),i}function nM(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:u=!1}=r,c=Zv(t),d=s||i?[...c?qu(c):[],...qu(e)]:[];d.forEach(w=>{s&&w.addEventListener("scroll",n,{passive:!0}),i&&w.addEventListener("resize",n)});const m=c&&a?tM(c,n):null;let h=-1,_=null;o&&(_=new ResizeObserver(w=>{let[y]=w;y&&y.target===c&&_&&(_.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var x;(x=_)==null||x.observe(e)})),n()}),c&&!u&&_.observe(c),_.observe(e));let S,v=u?wo(t):null;u&&E();function E(){const w=wo(t);v&&!fC(v,w)&&n(),v=w,S=requestAnimationFrame(E)}return n(),()=>{var w;d.forEach(y=>{s&&y.removeEventListener("scroll",n),i&&y.removeEventListener("resize",n)}),m==null||m(),(w=_)==null||w.disconnect(),_=null,u&&cancelAnimationFrame(S)}}const rM=VV,sM=MV,iM=NV,oM=LV,aM=DV,Cx=kV,lM=jV,uM=(t,e,n)=>{const r=new Map,s={platform:eM,...n},i={...s.platform,_c:r};return PV(t,e,{...s,platform:i})};var eh=typeof document<"u"?T.useLayoutEffect:T.useEffect;function Bh(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Bh(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!Bh(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function pC(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Ax(t,e){const n=pC(t);return Math.round(e*n)/n}function pm(t){const e=T.useRef(t);return eh(()=>{e.current=t}),e}function cM(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:u,open:c}=t,[d,m]=T.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[h,_]=T.useState(r);Bh(h,r)||_(r);const[S,v]=T.useState(null),[E,w]=T.useState(null),y=T.useCallback(B=>{B!==L.current&&(L.current=B,v(B))},[]),x=T.useCallback(B=>{B!==C.current&&(C.current=B,w(B))},[]),k=i||S,V=o||E,L=T.useRef(null),C=T.useRef(null),b=T.useRef(d),A=u!=null,P=pm(u),D=pm(s),N=pm(c),I=T.useCallback(()=>{if(!L.current||!C.current)return;const B={placement:e,strategy:n,middleware:h};D.current&&(B.platform=D.current),uM(L.current,C.current,B).then(Z=>{const ae={...Z,isPositioned:N.current!==!1};H.current&&!Bh(b.current,ae)&&(b.current=ae,Po.flushSync(()=>{m(ae)}))})},[h,e,n,D,N]);eh(()=>{c===!1&&b.current.isPositioned&&(b.current.isPositioned=!1,m(B=>({...B,isPositioned:!1})))},[c]);const H=T.useRef(!1);eh(()=>(H.current=!0,()=>{H.current=!1}),[]),eh(()=>{if(k&&(L.current=k),V&&(C.current=V),k&&V){if(P.current)return P.current(k,V,I);I()}},[k,V,I,P,A]);const ue=T.useMemo(()=>({reference:L,floating:C,setReference:y,setFloating:x}),[y,x]),ie=T.useMemo(()=>({reference:k,floating:V}),[k,V]),de=T.useMemo(()=>{const B={position:n,left:0,top:0};if(!ie.floating)return B;const Z=Ax(ie.floating,d.x),ae=Ax(ie.floating,d.y);return a?{...B,transform:"translate("+Z+"px, "+ae+"px)",...pC(ie.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:Z,top:ae}},[n,a,ie.floating,d.x,d.y]);return T.useMemo(()=>({...d,update:I,refs:ue,elements:ie,floatingStyles:de}),[d,I,ue,ie,de])}const dM=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?Cx({element:r.current,padding:s}).fn(n):{}:r?Cx({element:r,padding:s}).fn(n):{}}}},hM=(t,e)=>({...rM(t),options:[t,e]}),fM=(t,e)=>({...sM(t),options:[t,e]}),pM=(t,e)=>({...lM(t),options:[t,e]}),mM=(t,e)=>({...iM(t),options:[t,e]}),gM=(t,e)=>({...oM(t),options:[t,e]}),yM=(t,e)=>({...aM(t),options:[t,e]}),vM=(t,e)=>({...dM(t),options:[t,e]});var _M="Arrow",mC=T.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return p.jsx(Ge.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:p.jsx("polygon",{points:"0,0 30,0 15,10"})})});mC.displayName=_M;var wM=mC;function xM(t){const[e,n]=T.useState(void 0);return cn(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const u=i.borderBoxSize,c=Array.isArray(u)?u[0]:u;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Yv="Popper",[gC,Wf]=Ac(Yv),[EM,yC]=gC(Yv),vC=t=>{const{__scopePopper:e,children:n}=t,[r,s]=T.useState(null);return p.jsx(EM,{scope:e,anchor:r,onAnchorChange:s,children:n})};vC.displayName=Yv;var _C="PopperAnchor",wC=T.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=yC(_C,n),o=T.useRef(null),a=vt(e,o);return T.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:p.jsx(Ge.div,{...s,ref:a})});wC.displayName=_C;var Jv="PopperContent",[TM,SM]=gC(Jv),xC=T.forwardRef((t,e)=>{var he,Qe,pt,Me,Ae,De;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:u=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:m="partial",hideWhenDetached:h=!1,updatePositionStrategy:_="optimized",onPlaced:S,...v}=t,E=yC(Jv,n),[w,y]=T.useState(null),x=vt(e,Nt=>y(Nt)),[k,V]=T.useState(null),L=xM(k),C=(L==null?void 0:L.width)??0,b=(L==null?void 0:L.height)??0,A=r+(i!=="center"?"-"+i:""),P=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},D=Array.isArray(c)?c:[c],N=D.length>0,I={padding:P,boundary:D.filter(CM),altBoundary:N},{refs:H,floatingStyles:ue,placement:ie,isPositioned:de,middlewareData:B}=cM({strategy:"fixed",placement:A,whileElementsMounted:(...Nt)=>nM(...Nt,{animationFrame:_==="always"}),elements:{reference:E.anchor},middleware:[hM({mainAxis:s+b,alignmentAxis:o}),u&&fM({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?pM():void 0,...I}),u&&mM({...I}),gM({...I,apply:({elements:Nt,rects:$t,availableWidth:ur,availableHeight:cr})=>{const{width:Pr,height:wl}=$t.reference,ss=Nt.floating.style;ss.setProperty("--radix-popper-available-width",`${ur}px`),ss.setProperty("--radix-popper-available-height",`${cr}px`),ss.setProperty("--radix-popper-anchor-width",`${Pr}px`),ss.setProperty("--radix-popper-anchor-height",`${wl}px`)}}),k&&vM({element:k,padding:a}),AM({arrowWidth:C,arrowHeight:b}),h&&yM({strategy:"referenceHidden",...I})]}),[Z,ae]=SC(ie),me=Zn(S);cn(()=>{de&&(me==null||me())},[de,me]);const Se=(he=B.arrow)==null?void 0:he.x,Ne=(Qe=B.arrow)==null?void 0:Qe.y,at=((pt=B.arrow)==null?void 0:pt.centerOffset)!==0,[Pt,kt]=T.useState();return cn(()=>{w&&kt(window.getComputedStyle(w).zIndex)},[w]),p.jsx("div",{ref:H.setFloating,"data-radix-popper-content-wrapper":"",style:{...ue,transform:de?ue.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Pt,"--radix-popper-transform-origin":[(Me=B.transformOrigin)==null?void 0:Me.x,(Ae=B.transformOrigin)==null?void 0:Ae.y].join(" "),...((De=B.hide)==null?void 0:De.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:p.jsx(TM,{scope:n,placedSide:Z,onArrowChange:V,arrowX:Se,arrowY:Ne,shouldHideArrow:at,children:p.jsx(Ge.div,{"data-side":Z,"data-align":ae,...v,ref:x,style:{...v.style,animation:de?void 0:"none"}})})})});xC.displayName=Jv;var EC="PopperArrow",bM={top:"bottom",right:"left",bottom:"top",left:"right"},TC=T.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=SM(EC,r),o=bM[i.placedSide];return p.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:p.jsx(wM,{...s,ref:n,style:{...s.style,display:"block"}})})});TC.displayName=EC;function CM(t){return t!==null}var AM=t=>({name:"transformOrigin",options:t,fn(e){var E,w,y;const{placement:n,rects:r,middlewareData:s}=e,o=((E=s.arrow)==null?void 0:E.centerOffset)!==0,a=o?0:t.arrowWidth,u=o?0:t.arrowHeight,[c,d]=SC(n),m={start:"0%",center:"50%",end:"100%"}[d],h=(((w=s.arrow)==null?void 0:w.x)??0)+a/2,_=(((y=s.arrow)==null?void 0:y.y)??0)+u/2;let S="",v="";return c==="bottom"?(S=o?m:`${h}px`,v=`${-u}px`):c==="top"?(S=o?m:`${h}px`,v=`${r.floating.height+u}px`):c==="right"?(S=`${-u}px`,v=o?m:`${_}px`):c==="left"&&(S=`${r.floating.width+u}px`,v=o?m:`${_}px`),{data:{x:S,y:v}}}});function SC(t){const[e,n="center"]=t.split("-");return[e,n]}var RM=vC,bC=wC,CC=xC,AC=TC,[Hf,Fz]=Ac("Tooltip",[Wf]),e_=Wf(),RC="TooltipProvider",IM=700,Rx="tooltip.open",[PM,IC]=Hf(RC),PC=t=>{const{__scopeTooltip:e,delayDuration:n=IM,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,o=T.useRef(!0),a=T.useRef(!1),u=T.useRef(0);return T.useEffect(()=>{const c=u.current;return()=>window.clearTimeout(c)},[]),p.jsx(PM,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:T.useCallback(()=>{window.clearTimeout(u.current),o.current=!1},[]),onClose:T.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:T.useCallback(c=>{a.current=c},[]),disableHoverableContent:s,children:i})};PC.displayName=RC;var kC="Tooltip",[Uz,qf]=Hf(kC),Yg="TooltipTrigger",kM=T.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=qf(Yg,n),i=IC(Yg,n),o=e_(n),a=T.useRef(null),u=vt(e,a,s.onTriggerChange),c=T.useRef(!1),d=T.useRef(!1),m=T.useCallback(()=>c.current=!1,[]);return T.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),p.jsx(bC,{asChild:!0,...o,children:p.jsx(Ge.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:u,onPointerMove:Ie(t.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:Ie(t.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:Ie(t.onPointerDown,()=>{s.open&&s.onClose(),c.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:Ie(t.onFocus,()=>{c.current||s.onOpen()}),onBlur:Ie(t.onBlur,s.onClose),onClick:Ie(t.onClick,s.onClose)})})});kM.displayName=Yg;var NM="TooltipPortal",[Bz,DM]=Hf(NM,{forceMount:void 0}),Ga="TooltipContent",NC=T.forwardRef((t,e)=>{const n=DM(Ga,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=qf(Ga,t.__scopeTooltip);return p.jsx(Lv,{present:r||o.open,children:o.disableHoverableContent?p.jsx(DC,{side:s,...i,ref:e}):p.jsx(OM,{side:s,...i,ref:e})})}),OM=T.forwardRef((t,e)=>{const n=qf(Ga,t.__scopeTooltip),r=IC(Ga,t.__scopeTooltip),s=T.useRef(null),i=vt(e,s),[o,a]=T.useState(null),{trigger:u,onClose:c}=n,d=s.current,{onPointerInTransitChange:m}=r,h=T.useCallback(()=>{a(null),m(!1)},[m]),_=T.useCallback((S,v)=>{const E=S.currentTarget,w={x:S.clientX,y:S.clientY},y=FM(w,E.getBoundingClientRect()),x=UM(w,y),k=BM(v.getBoundingClientRect()),V=$M([...x,...k]);a(V),m(!0)},[m]);return T.useEffect(()=>()=>h(),[h]),T.useEffect(()=>{if(u&&d){const S=E=>_(E,d),v=E=>_(E,u);return u.addEventListener("pointerleave",S),d.addEventListener("pointerleave",v),()=>{u.removeEventListener("pointerleave",S),d.removeEventListener("pointerleave",v)}}},[u,d,_,h]),T.useEffect(()=>{if(o){const S=v=>{const E=v.target,w={x:v.clientX,y:v.clientY},y=(u==null?void 0:u.contains(E))||(d==null?void 0:d.contains(E)),x=!zM(w,o);y?h():x&&(h(),c())};return document.addEventListener("pointermove",S),()=>document.removeEventListener("pointermove",S)}},[u,d,o,c,h]),p.jsx(DC,{...t,ref:i})}),[VM,MM]=Hf(kC,{isInside:!1}),jM=MD("TooltipContent"),DC=T.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,u=qf(Ga,n),c=e_(n),{onClose:d}=u;return T.useEffect(()=>(document.addEventListener(Rx,d),()=>document.removeEventListener(Rx,d)),[d]),T.useEffect(()=>{if(u.trigger){const m=h=>{const _=h.target;_!=null&&_.contains(u.trigger)&&d()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[u.trigger,d]),p.jsx(jf,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:m=>m.preventDefault(),onDismiss:d,children:p.jsxs(CC,{"data-state":u.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[p.jsx(jM,{children:r}),p.jsx(VM,{scope:n,isInside:!0,children:p.jsx(nO,{id:u.contentId,role:"tooltip",children:s||r})})]})})});NC.displayName=Ga;var OC="TooltipArrow",LM=T.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=e_(n);return MM(OC,n).isInside?null:p.jsx(AC,{...s,...r,ref:e})});LM.displayName=OC;function FM(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function UM(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function BM(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function zM(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i].x,u=e[i].y,c=e[o].x,d=e[o].y;u>r!=d>r&&n<(c-a)*(r-u)/(d-u)+a&&(s=!s)}return s}function $M(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),WM(e)}function WM(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var HM=PC,VC=NC;const qM=HM,QM=T.forwardRef(({className:t,sideOffset:e=4,...n},r)=>p.jsx(VC,{ref:r,sideOffset:e,className:$e("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...n}));QM.displayName=VC.displayName;const KM=Uf("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),nt=T.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?vb:"button";return p.jsx(o,{className:$e(KM({variant:e,size:n,className:t})),ref:i,...s})});nt.displayName="Button";function GM(){const[t]=eb(),[e,n]=T.useState(!1),r=[{path:"/",label:"Home",id:"home"},{path:"/report",label:"Report Pet",id:"report"},{path:"/missing",label:"Missing Pets",id:"missing"},{path:"/found",label:"Found Pets",id:"found"}],s=i=>!!(i==="/"&&t==="/"||i!=="/"&&t.startsWith(i));return p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"bg-red-600 text-white py-2 px-4",children:p.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-center text-sm font-medium",children:[p.jsx("i",{className:"fas fa-exclamation-triangle mr-2"}),"Active Wildfire Emergency in Cyprus - 14 villages evacuated, pets urgently need help"]})}),p.jsxs("nav",{className:"bg-white shadow-lg border-b-2 border-orange-500 sticky top-0 z-50",children:[p.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:p.jsxs("div",{className:"flex justify-between h-16",children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx(ya,{className:"text-orange-500 h-6 w-6 mr-3"}),p.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Cyprus Pet Rescue"})]}),p.jsx("div",{className:"hidden md:flex items-center space-x-8",children:r.map(i=>p.jsx(In,{href:i.path,children:p.jsx(nt,{variant:"ghost",className:`px-3 py-2 text-sm font-medium transition-colors ${s(i.path)?"text-orange-500 border-b-2 border-orange-500 rounded-none":"text-gray-600 hover:text-orange-500"}`,children:i.label})},i.id))}),p.jsx("div",{className:"md:hidden flex items-center",children:p.jsx(nt,{variant:"ghost",size:"sm",onClick:()=>n(!e),className:"text-gray-600",children:e?p.jsx(Kb,{className:"h-6 w-6"}):p.jsx(VO,{className:"h-6 w-6"})})})]})}),e&&p.jsx("div",{className:"md:hidden bg-white border-t",children:p.jsx("div",{className:"px-2 pt-2 pb-3 space-y-1",children:r.map(i=>p.jsx(In,{href:i.path,children:p.jsx(nt,{variant:"ghost",className:`block w-full text-left px-3 py-2 text-base font-medium ${s(i.path)?"text-orange-500":"text-gray-600"}`,onClick:()=>n(!1),children:i.label})},i.id))})})]})]})}const Qu=T.forwardRef(({className:t,...e},n)=>p.jsx("div",{ref:n,className:$e("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Qu.displayName="Card";const ZM=T.forwardRef(({className:t,...e},n)=>p.jsx("div",{ref:n,className:$e("flex flex-col space-y-1.5 p-6",t),...e}));ZM.displayName="CardHeader";const XM=T.forwardRef(({className:t,...e},n)=>p.jsx("div",{ref:n,className:$e("text-2xl font-semibold leading-none tracking-tight",t),...e}));XM.displayName="CardTitle";const YM=T.forwardRef(({className:t,...e},n)=>p.jsx("div",{ref:n,className:$e("text-sm text-muted-foreground",t),...e}));YM.displayName="CardDescription";const Ku=T.forwardRef(({className:t,...e},n)=>p.jsx("div",{ref:n,className:$e("p-6 pt-0",t),...e}));Ku.displayName="CardContent";const JM=T.forwardRef(({className:t,...e},n)=>p.jsx("div",{ref:n,className:$e("flex items-center p-6 pt-0",t),...e}));JM.displayName="CardFooter";const e4={red:{border:"border-l-red-500",bg:"bg-red-100",icon:"text-red-600"},green:{border:"border-l-green-500",bg:"bg-green-100",icon:"text-green-600"},amber:{border:"border-l-amber-500",bg:"bg-amber-100",icon:"text-amber-600"},blue:{border:"border-l-blue-500",bg:"bg-blue-100",icon:"text-blue-600"}};function bd({icon:t,value:e,label:n,color:r}){const s=e4[r];return p.jsx("div",{className:`bg-white rounded-xl p-6 shadow-lg border-l-4 ${s.border}`,children:p.jsxs("div",{className:"flex items-center",children:[p.jsx("div",{className:`${s.bg} p-3 rounded-full`,children:p.jsx(t,{className:`${s.icon} h-6 w-6`})}),p.jsxs("div",{className:"ml-4",children:[p.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e}),p.jsx("p",{className:"text-gray-600 font-medium",children:n})]})]})})}const t4=Uf("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function mm({className:t,variant:e,...n}){return p.jsx("div",{className:$e(t4({variant:e}),t),...n})}function Gt(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function n4(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const Cd=43200,Ix=1440;let r4={};function s4(){return r4}function Px(t){const e=Gt(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function th(t,e){const n=Gt(t),r=Gt(e),s=n.getTime()-r.getTime();return s<0?-1:s>0?1:s}function i4(t){return n4(t,Date.now())}function o4(t,e){const n=Gt(t),r=Gt(e),s=n.getFullYear()-r.getFullYear(),i=n.getMonth()-r.getMonth();return s*12+i}function a4(t){return e=>{const r=(t?Math[t]:Math.trunc)(e);return r===0?0:r}}function l4(t,e){return+Gt(t)-+Gt(e)}function u4(t){const e=Gt(t);return e.setHours(23,59,59,999),e}function c4(t){const e=Gt(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function d4(t){const e=Gt(t);return+u4(e)==+c4(e)}function h4(t,e){const n=Gt(t),r=Gt(e),s=th(n,r),i=Math.abs(o4(n,r));let o;if(i<1)o=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-s*i);let a=th(n,r)===-s;d4(Gt(t))&&i===1&&th(t,r)===1&&(a=!1),o=s*(i-Number(a))}return o===0?0:o}function f4(t,e,n){const r=l4(t,e)/1e3;return a4(n==null?void 0:n.roundingMethod)(r)}const p4={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},m4=(t,e,n)=>{let r;const s=p4[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function gm(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const g4={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},y4={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},v4={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},_4={date:gm({formats:g4,defaultWidth:"full"}),time:gm({formats:y4,defaultWidth:"full"}),dateTime:gm({formats:v4,defaultWidth:"full"})},w4={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},x4=(t,e,n,r)=>w4[t];function ql(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):o;s=t.formattingValues[a]||t.formattingValues[o]}else{const o=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[a]||t.values[o]}const i=t.argumentCallback?t.argumentCallback(e):e;return s[i]}}const E4={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},T4={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},S4={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},b4={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},C4={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},A4={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},R4=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},I4={ordinalNumber:R4,era:ql({values:E4,defaultWidth:"wide"}),quarter:ql({values:T4,defaultWidth:"wide",argumentCallback:t=>t-1}),month:ql({values:S4,defaultWidth:"wide"}),day:ql({values:b4,defaultWidth:"wide"}),dayPeriod:ql({values:C4,defaultWidth:"wide",formattingValues:A4,defaultFormattingWidth:"wide"})};function Ql(t){return(e,n={})=>{const r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;const o=i[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],u=Array.isArray(a)?k4(a,m=>m.test(o)):P4(a,m=>m.test(o));let c;c=t.valueCallback?t.valueCallback(u):u,c=n.valueCallback?n.valueCallback(c):c;const d=e.slice(o.length);return{value:c,rest:d}}}function P4(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function k4(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function N4(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const s=r[0],i=e.match(t.parsePattern);if(!i)return null;let o=t.valueCallback?t.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;const a=e.slice(s.length);return{value:o,rest:a}}}const D4=/^(\d+)(th|st|nd|rd)?/i,O4=/\d+/i,V4={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},M4={any:[/^b/i,/^(a|c)/i]},j4={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},L4={any:[/1/i,/2/i,/3/i,/4/i]},F4={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},U4={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},B4={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},z4={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},$4={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},W4={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},H4={ordinalNumber:N4({matchPattern:D4,parsePattern:O4,valueCallback:t=>parseInt(t,10)}),era:Ql({matchPatterns:V4,defaultMatchWidth:"wide",parsePatterns:M4,defaultParseWidth:"any"}),quarter:Ql({matchPatterns:j4,defaultMatchWidth:"wide",parsePatterns:L4,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Ql({matchPatterns:F4,defaultMatchWidth:"wide",parsePatterns:U4,defaultParseWidth:"any"}),day:Ql({matchPatterns:B4,defaultMatchWidth:"wide",parsePatterns:z4,defaultParseWidth:"any"}),dayPeriod:Ql({matchPatterns:$4,defaultMatchWidth:"any",parsePatterns:W4,defaultParseWidth:"any"})},q4={code:"en-US",formatDistance:m4,formatLong:_4,formatRelative:x4,localize:I4,match:H4,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Q4(t,e,n){const r=s4(),s=(n==null?void 0:n.locale)??r.locale??q4,i=2520,o=th(t,e);if(isNaN(o))throw new RangeError("Invalid time value");const a=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:o});let u,c;o>0?(u=Gt(e),c=Gt(t)):(u=Gt(t),c=Gt(e));const d=f4(c,u),m=(Px(c)-Px(u))/1e3,h=Math.round((d-m)/60);let _;if(h<2)return n!=null&&n.includeSeconds?d<5?s.formatDistance("lessThanXSeconds",5,a):d<10?s.formatDistance("lessThanXSeconds",10,a):d<20?s.formatDistance("lessThanXSeconds",20,a):d<40?s.formatDistance("halfAMinute",0,a):d<60?s.formatDistance("lessThanXMinutes",1,a):s.formatDistance("xMinutes",1,a):h===0?s.formatDistance("lessThanXMinutes",1,a):s.formatDistance("xMinutes",h,a);if(h<45)return s.formatDistance("xMinutes",h,a);if(h<90)return s.formatDistance("aboutXHours",1,a);if(h<Ix){const S=Math.round(h/60);return s.formatDistance("aboutXHours",S,a)}else{if(h<i)return s.formatDistance("xDays",1,a);if(h<Cd){const S=Math.round(h/Ix);return s.formatDistance("xDays",S,a)}else if(h<Cd*2)return _=Math.round(h/Cd),s.formatDistance("aboutXMonths",_,a)}if(_=h4(c,u),_<12){const S=Math.round(h/Cd);return s.formatDistance("xMonths",S,a)}else{const S=_%12,v=Math.trunc(_/12);return S<3?s.formatDistance("aboutXYears",v,a):S<9?s.formatDistance("overXYears",v,a):s.formatDistance("almostXYears",v+1,a)}}function K4(t,e){return Q4(t,i4(t),e)}const G4=t=>{switch(t){case"dog":return yx;case"cat":return CO;case"bird":return SO;default:return yx}},Z4=(t,e)=>e==="reunited"?"bg-blue-100 text-blue-800":t==="missing"?"bg-red-600 text-white":"bg-green-600 text-white",X4=(t,e)=>e==="reunited"?"Reunited":t==="missing"?"Missing":"Found";function t_({pet:t,onMarkFound:e,showMarkFound:n=!1}){const r=G4(t.petType),s=K4(new Date(t.createdAt),{addSuffix:!0});return p.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden hover:shadow-xl transition-shadow",children:[p.jsxs("div",{className:"relative",children:[t.photoUrl?p.jsx("img",{src:t.photoUrl,alt:`${t.petName||"Unknown"} - ${t.petType}`,className:"w-full h-48 object-cover"}):p.jsx("div",{className:"w-full h-48 bg-gray-200 flex items-center justify-center",children:p.jsx(r,{className:"h-16 w-16 text-gray-400"})}),p.jsx("div",{className:"absolute top-4 left-4",children:p.jsx(mm,{className:Z4(t.reportType,t.status),children:X4(t.reportType,t.status)})}),p.jsx("div",{className:"absolute top-4 right-4",children:p.jsx(mm,{variant:"secondary",className:"bg-black bg-opacity-50 text-white text-xs",children:s.replace("about ","")})})]}),p.jsxs("div",{className:"p-6",children:[p.jsxs("div",{className:"flex justify-between items-start mb-3",children:[p.jsx("h3",{className:"text-xl font-bold text-gray-900",children:t.petName||`Unknown ${t.petType}`}),n&&t.status==="active"&&e&&p.jsx(nt,{size:"sm",onClick:()=>e(t.id),className:"bg-green-600 hover:bg-green-700 text-white text-xs px-3 py-1 rounded-full",children:"Mark Found"}),t.status==="reunited"&&p.jsx(mm,{className:"bg-blue-100 text-blue-800 text-xs px-2 py-1",children:"Safe"})]}),p.jsxs("div",{className:"space-y-2 text-sm text-gray-600 mb-4",children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx(r,{className:"h-4 w-4 mr-2"}),p.jsxs("span",{children:[t.breed?`${t.breed}, `:"",t.age?t.age.replace("-","/"):"unknown age"]})]}),p.jsxs("div",{className:"flex items-center",children:[p.jsx(OO,{className:"h-4 w-4 mr-2"}),p.jsxs("span",{children:[t.reportType==="missing"?"Last seen: ":"Found in: ",t.location]})]}),p.jsxs("div",{className:"flex items-center",children:[p.jsx(PO,{className:"h-4 w-4 mr-2"}),p.jsxs("span",{children:[t.reportType==="missing"?"Missing since: ":"Found: ",new Date(t.dateTime).toLocaleDateString()," - ",new Date(t.dateTime).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]}),t.color&&p.jsxs("div",{className:"flex items-center",children:[p.jsx(MO,{className:"h-4 w-4 mr-2"}),p.jsx("span",{children:t.color})]})]}),t.description&&p.jsx("div",{className:"border-t pt-4 mb-4",children:p.jsx("p",{className:"text-sm text-gray-700 line-clamp-3",children:t.description})}),p.jsx("div",{className:"border-t pt-4",children:p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsxs("div",{className:"text-xs text-gray-500",children:[p.jsxs("p",{children:["Contact: ",t.contactName]}),p.jsxs("p",{children:["Phone: ",t.contactPhone]})]}),p.jsxs(nt,{variant:"ghost",size:"sm",className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:[t.reportType==="missing"?"Full Details":"Is This Your Pet?",p.jsx("span",{className:"ml-1",children:"→"})]})]})})]})]})}const Y4=()=>{};var kx={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MC=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},J4=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],u=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},jC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,u=s+2<t.length,c=u?t[s+2]:0,d=i>>2,m=(i&3)<<4|a>>4;let h=(a&15)<<2|c>>6,_=c&63;u||(_=64,o||(h=64)),r.push(n[d],n[m],n[h],n[_])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(MC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):J4(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const m=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||m==null)throw new ej;const h=i<<2|a>>4;if(r.push(h),c!==64){const _=a<<4&240|c>>2;if(r.push(_),m!==64){const S=c<<6&192|m;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class ej extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const tj=function(t){const e=MC(t);return jC.encodeByteArray(e,!0)},zh=function(t){return tj(t).replace(/\./g,"")},nj=function(t){try{return jC.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rj(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sj=()=>rj().__FIREBASE_DEFAULTS__,ij=()=>{if(typeof process>"u"||typeof kx>"u")return;const t=kx.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},oj=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&nj(t[1]);return e&&JSON.parse(e)},n_=()=>{try{return Y4()||sj()||ij()||oj()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},aj=t=>{var e,n;return(n=(e=n_())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},LC=t=>{const e=aj(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},FC=()=>{var t;return(t=n_())==null?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lj{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pc(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function UC(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BC(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[zh(JSON.stringify(n)),zh(JSON.stringify(o)),""].join(".")}const vu={};function uj(){const t={prod:[],emulator:[]};for(const e of Object.keys(vu))vu[e]?t.emulator.push(e):t.prod.push(e);return t}function cj(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Nx=!1;function zC(t,e){if(typeof window>"u"||typeof document>"u"||!Pc(window.location.host)||vu[t]===e||vu[t]||Nx)return;vu[t]=e;function n(h){return`__firebase__banner__${h}`}const r="__firebase__banner",i=uj().prod.length>0;function o(){const h=document.getElementById(r);h&&h.remove()}function a(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function u(h,_){h.setAttribute("width","24"),h.setAttribute("id",_),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function c(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{Nx=!0,o()},h}function d(h,_){h.setAttribute("id",_),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function m(){const h=cj(r),_=n("text"),S=document.getElementById(_)||document.createElement("span"),v=n("learnmore"),E=document.getElementById(v)||document.createElement("a"),w=n("preprendIcon"),y=document.getElementById(w)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const x=h.element;a(x),d(E,v);const k=c();u(y,w),x.append(y,S,E,k),document.body.appendChild(x)}i?(S.innerText="Preview backend disconnected.",y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",_)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dj(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function hj(){var e;const t=(e=n_())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function fj(){return!hj()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function pj(){try{return typeof indexedDB=="object"}catch{return!1}}function mj(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gj="FirebaseError";class ko extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=gj,Object.setPrototypeOf(this,ko.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$C.prototype.create)}}class $C{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?yj(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new ko(s,a,r)}}function yj(t,e){return t.replace(vj,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const vj=/\{\$([^}]+)}/g;function $h(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(Dx(i)&&Dx(o)){if(!$h(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Dx(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xn(t){return t&&t._delegate?t._delegate:t}class Za{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _j{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new lj;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(xj(e))try{this.getOrInitializeService({instanceIdentifier:Qi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Qi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Qi){return this.instances.has(e)}getOptions(e=Qi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:wj(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Qi){return this.component?this.component.multipleInstances?e:Qi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function wj(t){return t===Qi?void 0:t}function xj(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ej{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new _j(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Le;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Le||(Le={}));const Tj={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},Sj=Le.INFO,bj={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},Cj=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=bj[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class WC{constructor(e){this.name=e,this._logLevel=Sj,this._logHandler=Cj,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Tj[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const Aj=(t,e)=>e.some(n=>t instanceof n);let Ox,Vx;function Rj(){return Ox||(Ox=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Ij(){return Vx||(Vx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const HC=new WeakMap,Jg=new WeakMap,qC=new WeakMap,ym=new WeakMap,r_=new WeakMap;function Pj(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(di(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&HC.set(n,t)}).catch(()=>{}),r_.set(e,t),e}function kj(t){if(Jg.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Jg.set(t,e)}let ey={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Jg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||qC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return di(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Nj(t){ey=t(ey)}function Dj(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(vm(this),e,...n);return qC.set(r,e.sort?e.sort():[e]),di(r)}:Ij().includes(t)?function(...e){return t.apply(vm(this),e),di(HC.get(this))}:function(...e){return di(t.apply(vm(this),e))}}function Oj(t){return typeof t=="function"?Dj(t):(t instanceof IDBTransaction&&kj(t),Aj(t,Rj())?new Proxy(t,ey):t)}function di(t){if(t instanceof IDBRequest)return Pj(t);if(ym.has(t))return ym.get(t);const e=Oj(t);return e!==t&&(ym.set(t,e),r_.set(e,t)),e}const vm=t=>r_.get(t);function Vj(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=di(o);return r&&o.addEventListener("upgradeneeded",u=>{r(di(o.result),u.oldVersion,u.newVersion,di(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{i&&u.addEventListener("close",()=>i()),s&&u.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const Mj=["get","getKey","getAll","getAllKeys","count"],jj=["put","add","delete","clear"],_m=new Map;function Mx(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(_m.get(e))return _m.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=jj.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||Mj.includes(n)))return;const i=async function(o,...a){const u=this.transaction(o,s?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&u.done]))[0]};return _m.set(e,i),i}Nj(t=>({...t,get:(e,n,r)=>Mx(e,n)||t.get(e,n,r),has:(e,n)=>!!Mx(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lj{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Fj(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Fj(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ty="@firebase/app",jx="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bs=new WC("@firebase/app"),Uj="@firebase/app-compat",Bj="@firebase/analytics-compat",zj="@firebase/analytics",$j="@firebase/app-check-compat",Wj="@firebase/app-check",Hj="@firebase/auth",qj="@firebase/auth-compat",Qj="@firebase/database",Kj="@firebase/data-connect",Gj="@firebase/database-compat",Zj="@firebase/functions",Xj="@firebase/functions-compat",Yj="@firebase/installations",Jj="@firebase/installations-compat",eL="@firebase/messaging",tL="@firebase/messaging-compat",nL="@firebase/performance",rL="@firebase/performance-compat",sL="@firebase/remote-config",iL="@firebase/remote-config-compat",oL="@firebase/storage",aL="@firebase/storage-compat",lL="@firebase/firestore",uL="@firebase/ai",cL="@firebase/firestore-compat",dL="firebase",hL="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ny="[DEFAULT]",fL={[ty]:"fire-core",[Uj]:"fire-core-compat",[zj]:"fire-analytics",[Bj]:"fire-analytics-compat",[Wj]:"fire-app-check",[$j]:"fire-app-check-compat",[Hj]:"fire-auth",[qj]:"fire-auth-compat",[Qj]:"fire-rtdb",[Kj]:"fire-data-connect",[Gj]:"fire-rtdb-compat",[Zj]:"fire-fn",[Xj]:"fire-fn-compat",[Yj]:"fire-iid",[Jj]:"fire-iid-compat",[eL]:"fire-fcm",[tL]:"fire-fcm-compat",[nL]:"fire-perf",[rL]:"fire-perf-compat",[sL]:"fire-rc",[iL]:"fire-rc-compat",[oL]:"fire-gcs",[aL]:"fire-gcs-compat",[lL]:"fire-fst",[cL]:"fire-fst-compat",[uL]:"fire-vertex","fire-js":"fire-js",[dL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wh=new Map,pL=new Map,ry=new Map;function Lx(t,e){try{t.container.addComponent(e)}catch(n){bs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Gu(t){const e=t.name;if(ry.has(e))return bs.debug(`There were multiple attempts to register component ${e}.`),!1;ry.set(e,t);for(const n of Wh.values())Lx(n,t);for(const n of pL.values())Lx(n,t);return!0}function QC(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function KC(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},hi=new $C("app","Firebase",mL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gL{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Za("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw hi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GC=hL;function sy(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:ny,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw hi.create("bad-app-name",{appName:String(s)});if(n||(n=FC()),!n)throw hi.create("no-options");const i=Wh.get(s);if(i){if($h(n,i.options)&&$h(r,i.config))return i;throw hi.create("duplicate-app",{appName:s})}const o=new Ej(s);for(const u of ry.values())o.addComponent(u);const a=new gL(n,r,o);return Wh.set(s,a),a}function ZC(t=ny){const e=Wh.get(t);if(!e&&t===ny&&FC())return sy();if(!e)throw hi.create("no-app",{appName:t});return e}function fi(t,e,n){let r=fL[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),bs.warn(o.join(" "));return}Gu(new Za(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yL="firebase-heartbeat-database",vL=1,Zu="firebase-heartbeat-store";let wm=null;function XC(){return wm||(wm=Vj(yL,vL,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Zu)}catch(n){console.warn(n)}}}}).catch(t=>{throw hi.create("idb-open",{originalErrorMessage:t.message})})),wm}async function _L(t){try{const n=(await XC()).transaction(Zu),r=await n.objectStore(Zu).get(YC(t));return await n.done,r}catch(e){if(e instanceof ko)bs.warn(e.message);else{const n=hi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});bs.warn(n.message)}}}async function Fx(t,e){try{const r=(await XC()).transaction(Zu,"readwrite");await r.objectStore(Zu).put(e,YC(t)),await r.done}catch(n){if(n instanceof ko)bs.warn(n.message);else{const r=hi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});bs.warn(r.message)}}}function YC(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wL=1024,xL=30;class EL{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new SL(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Ux();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>xL){const o=bL(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){bs.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Ux(),{heartbeatsToSend:r,unsentEntries:s}=TL(this._heartbeatsCache.heartbeats),i=zh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return bs.warn(n),""}}}function Ux(){return new Date().toISOString().substring(0,10)}function TL(t,e=wL){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),Bx(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Bx(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class SL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return pj()?mj().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await _L(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Fx(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Fx(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Bx(t){return zh(JSON.stringify({version:2,heartbeats:t})).length}function bL(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CL(t){Gu(new Za("platform-logger",e=>new Lj(e),"PRIVATE")),Gu(new Za("heartbeat",e=>new EL(e),"PRIVATE")),fi(ty,jx,t),fi(ty,jx,"esm2020"),fi("fire-js","")}CL("");var AL="firebase",RL="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fi(AL,RL,"app");var zx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var pi,JC;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,b){function A(){}A.prototype=b.prototype,C.D=b.prototype,C.prototype=new A,C.prototype.constructor=C,C.C=function(P,D,N){for(var I=Array(arguments.length-2),H=2;H<arguments.length;H++)I[H-2]=arguments[H];return b.prototype[D].apply(P,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(C,b,A){A||(A=0);var P=Array(16);if(typeof b=="string")for(var D=0;16>D;++D)P[D]=b.charCodeAt(A++)|b.charCodeAt(A++)<<8|b.charCodeAt(A++)<<16|b.charCodeAt(A++)<<24;else for(D=0;16>D;++D)P[D]=b[A++]|b[A++]<<8|b[A++]<<16|b[A++]<<24;b=C.g[0],A=C.g[1],D=C.g[2];var N=C.g[3],I=b+(N^A&(D^N))+P[0]+3614090360&4294967295;b=A+(I<<7&4294967295|I>>>25),I=N+(D^b&(A^D))+P[1]+3905402710&4294967295,N=b+(I<<12&4294967295|I>>>20),I=D+(A^N&(b^A))+P[2]+606105819&4294967295,D=N+(I<<17&4294967295|I>>>15),I=A+(b^D&(N^b))+P[3]+3250441966&4294967295,A=D+(I<<22&4294967295|I>>>10),I=b+(N^A&(D^N))+P[4]+4118548399&4294967295,b=A+(I<<7&4294967295|I>>>25),I=N+(D^b&(A^D))+P[5]+1200080426&4294967295,N=b+(I<<12&4294967295|I>>>20),I=D+(A^N&(b^A))+P[6]+2821735955&4294967295,D=N+(I<<17&4294967295|I>>>15),I=A+(b^D&(N^b))+P[7]+4249261313&4294967295,A=D+(I<<22&4294967295|I>>>10),I=b+(N^A&(D^N))+P[8]+1770035416&4294967295,b=A+(I<<7&4294967295|I>>>25),I=N+(D^b&(A^D))+P[9]+2336552879&4294967295,N=b+(I<<12&4294967295|I>>>20),I=D+(A^N&(b^A))+P[10]+4294925233&4294967295,D=N+(I<<17&4294967295|I>>>15),I=A+(b^D&(N^b))+P[11]+2304563134&4294967295,A=D+(I<<22&4294967295|I>>>10),I=b+(N^A&(D^N))+P[12]+1804603682&4294967295,b=A+(I<<7&4294967295|I>>>25),I=N+(D^b&(A^D))+P[13]+4254626195&4294967295,N=b+(I<<12&4294967295|I>>>20),I=D+(A^N&(b^A))+P[14]+2792965006&4294967295,D=N+(I<<17&4294967295|I>>>15),I=A+(b^D&(N^b))+P[15]+1236535329&4294967295,A=D+(I<<22&4294967295|I>>>10),I=b+(D^N&(A^D))+P[1]+4129170786&4294967295,b=A+(I<<5&4294967295|I>>>27),I=N+(A^D&(b^A))+P[6]+3225465664&4294967295,N=b+(I<<9&4294967295|I>>>23),I=D+(b^A&(N^b))+P[11]+643717713&4294967295,D=N+(I<<14&4294967295|I>>>18),I=A+(N^b&(D^N))+P[0]+3921069994&4294967295,A=D+(I<<20&4294967295|I>>>12),I=b+(D^N&(A^D))+P[5]+3593408605&4294967295,b=A+(I<<5&4294967295|I>>>27),I=N+(A^D&(b^A))+P[10]+38016083&4294967295,N=b+(I<<9&4294967295|I>>>23),I=D+(b^A&(N^b))+P[15]+3634488961&4294967295,D=N+(I<<14&4294967295|I>>>18),I=A+(N^b&(D^N))+P[4]+3889429448&4294967295,A=D+(I<<20&4294967295|I>>>12),I=b+(D^N&(A^D))+P[9]+568446438&4294967295,b=A+(I<<5&4294967295|I>>>27),I=N+(A^D&(b^A))+P[14]+3275163606&4294967295,N=b+(I<<9&4294967295|I>>>23),I=D+(b^A&(N^b))+P[3]+4107603335&4294967295,D=N+(I<<14&4294967295|I>>>18),I=A+(N^b&(D^N))+P[8]+1163531501&4294967295,A=D+(I<<20&4294967295|I>>>12),I=b+(D^N&(A^D))+P[13]+2850285829&4294967295,b=A+(I<<5&4294967295|I>>>27),I=N+(A^D&(b^A))+P[2]+4243563512&4294967295,N=b+(I<<9&4294967295|I>>>23),I=D+(b^A&(N^b))+P[7]+1735328473&4294967295,D=N+(I<<14&4294967295|I>>>18),I=A+(N^b&(D^N))+P[12]+2368359562&4294967295,A=D+(I<<20&4294967295|I>>>12),I=b+(A^D^N)+P[5]+4294588738&4294967295,b=A+(I<<4&4294967295|I>>>28),I=N+(b^A^D)+P[8]+2272392833&4294967295,N=b+(I<<11&4294967295|I>>>21),I=D+(N^b^A)+P[11]+1839030562&4294967295,D=N+(I<<16&4294967295|I>>>16),I=A+(D^N^b)+P[14]+4259657740&4294967295,A=D+(I<<23&4294967295|I>>>9),I=b+(A^D^N)+P[1]+2763975236&4294967295,b=A+(I<<4&4294967295|I>>>28),I=N+(b^A^D)+P[4]+1272893353&4294967295,N=b+(I<<11&4294967295|I>>>21),I=D+(N^b^A)+P[7]+4139469664&4294967295,D=N+(I<<16&4294967295|I>>>16),I=A+(D^N^b)+P[10]+3200236656&4294967295,A=D+(I<<23&4294967295|I>>>9),I=b+(A^D^N)+P[13]+681279174&4294967295,b=A+(I<<4&4294967295|I>>>28),I=N+(b^A^D)+P[0]+3936430074&4294967295,N=b+(I<<11&4294967295|I>>>21),I=D+(N^b^A)+P[3]+3572445317&4294967295,D=N+(I<<16&4294967295|I>>>16),I=A+(D^N^b)+P[6]+76029189&4294967295,A=D+(I<<23&4294967295|I>>>9),I=b+(A^D^N)+P[9]+3654602809&4294967295,b=A+(I<<4&4294967295|I>>>28),I=N+(b^A^D)+P[12]+3873151461&4294967295,N=b+(I<<11&4294967295|I>>>21),I=D+(N^b^A)+P[15]+530742520&4294967295,D=N+(I<<16&4294967295|I>>>16),I=A+(D^N^b)+P[2]+3299628645&4294967295,A=D+(I<<23&4294967295|I>>>9),I=b+(D^(A|~N))+P[0]+4096336452&4294967295,b=A+(I<<6&4294967295|I>>>26),I=N+(A^(b|~D))+P[7]+1126891415&4294967295,N=b+(I<<10&4294967295|I>>>22),I=D+(b^(N|~A))+P[14]+2878612391&4294967295,D=N+(I<<15&4294967295|I>>>17),I=A+(N^(D|~b))+P[5]+4237533241&4294967295,A=D+(I<<21&4294967295|I>>>11),I=b+(D^(A|~N))+P[12]+1700485571&4294967295,b=A+(I<<6&4294967295|I>>>26),I=N+(A^(b|~D))+P[3]+2399980690&4294967295,N=b+(I<<10&4294967295|I>>>22),I=D+(b^(N|~A))+P[10]+4293915773&4294967295,D=N+(I<<15&4294967295|I>>>17),I=A+(N^(D|~b))+P[1]+2240044497&4294967295,A=D+(I<<21&4294967295|I>>>11),I=b+(D^(A|~N))+P[8]+1873313359&4294967295,b=A+(I<<6&4294967295|I>>>26),I=N+(A^(b|~D))+P[15]+4264355552&4294967295,N=b+(I<<10&4294967295|I>>>22),I=D+(b^(N|~A))+P[6]+2734768916&4294967295,D=N+(I<<15&4294967295|I>>>17),I=A+(N^(D|~b))+P[13]+1309151649&4294967295,A=D+(I<<21&4294967295|I>>>11),I=b+(D^(A|~N))+P[4]+4149444226&4294967295,b=A+(I<<6&4294967295|I>>>26),I=N+(A^(b|~D))+P[11]+3174756917&4294967295,N=b+(I<<10&4294967295|I>>>22),I=D+(b^(N|~A))+P[2]+718787259&4294967295,D=N+(I<<15&4294967295|I>>>17),I=A+(N^(D|~b))+P[9]+3951481745&4294967295,C.g[0]=C.g[0]+b&4294967295,C.g[1]=C.g[1]+(D+(I<<21&4294967295|I>>>11))&4294967295,C.g[2]=C.g[2]+D&4294967295,C.g[3]=C.g[3]+N&4294967295}r.prototype.u=function(C,b){b===void 0&&(b=C.length);for(var A=b-this.blockSize,P=this.B,D=this.h,N=0;N<b;){if(D==0)for(;N<=A;)s(this,C,N),N+=this.blockSize;if(typeof C=="string"){for(;N<b;)if(P[D++]=C.charCodeAt(N++),D==this.blockSize){s(this,P),D=0;break}}else for(;N<b;)if(P[D++]=C[N++],D==this.blockSize){s(this,P),D=0;break}}this.h=D,this.o+=b},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var b=1;b<C.length-8;++b)C[b]=0;var A=8*this.o;for(b=C.length-8;b<C.length;++b)C[b]=A&255,A/=256;for(this.u(C),C=Array(16),b=A=0;4>b;++b)for(var P=0;32>P;P+=8)C[A++]=this.g[b]>>>P&255;return C};function i(C,b){var A=a;return Object.prototype.hasOwnProperty.call(A,C)?A[C]:A[C]=b(C)}function o(C,b){this.h=b;for(var A=[],P=!0,D=C.length-1;0<=D;D--){var N=C[D]|0;P&&N==b||(A[D]=N,P=!1)}this.g=A}var a={};function u(C){return-128<=C&&128>C?i(C,function(b){return new o([b|0],0>b?-1:0)}):new o([C|0],0>C?-1:0)}function c(C){if(isNaN(C)||!isFinite(C))return m;if(0>C)return E(c(-C));for(var b=[],A=1,P=0;C>=A;P++)b[P]=C/A|0,A*=4294967296;return new o(b,0)}function d(C,b){if(C.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(C.charAt(0)=="-")return E(d(C.substring(1),b));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=c(Math.pow(b,8)),P=m,D=0;D<C.length;D+=8){var N=Math.min(8,C.length-D),I=parseInt(C.substring(D,D+N),b);8>N?(N=c(Math.pow(b,N)),P=P.j(N).add(c(I))):(P=P.j(A),P=P.add(c(I)))}return P}var m=u(0),h=u(1),_=u(16777216);t=o.prototype,t.m=function(){if(v(this))return-E(this).m();for(var C=0,b=1,A=0;A<this.g.length;A++){var P=this.i(A);C+=(0<=P?P:4294967296+P)*b,b*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(S(this))return"0";if(v(this))return"-"+E(this).toString(C);for(var b=c(Math.pow(C,6)),A=this,P="";;){var D=k(A,b).g;A=w(A,D.j(b));var N=((0<A.g.length?A.g[0]:A.h)>>>0).toString(C);if(A=D,S(A))return N+P;for(;6>N.length;)N="0"+N;P=N+P}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function S(C){if(C.h!=0)return!1;for(var b=0;b<C.g.length;b++)if(C.g[b]!=0)return!1;return!0}function v(C){return C.h==-1}t.l=function(C){return C=w(this,C),v(C)?-1:S(C)?0:1};function E(C){for(var b=C.g.length,A=[],P=0;P<b;P++)A[P]=~C.g[P];return new o(A,~C.h).add(h)}t.abs=function(){return v(this)?E(this):this},t.add=function(C){for(var b=Math.max(this.g.length,C.g.length),A=[],P=0,D=0;D<=b;D++){var N=P+(this.i(D)&65535)+(C.i(D)&65535),I=(N>>>16)+(this.i(D)>>>16)+(C.i(D)>>>16);P=I>>>16,N&=65535,I&=65535,A[D]=I<<16|N}return new o(A,A[A.length-1]&-2147483648?-1:0)};function w(C,b){return C.add(E(b))}t.j=function(C){if(S(this)||S(C))return m;if(v(this))return v(C)?E(this).j(E(C)):E(E(this).j(C));if(v(C))return E(this.j(E(C)));if(0>this.l(_)&&0>C.l(_))return c(this.m()*C.m());for(var b=this.g.length+C.g.length,A=[],P=0;P<2*b;P++)A[P]=0;for(P=0;P<this.g.length;P++)for(var D=0;D<C.g.length;D++){var N=this.i(P)>>>16,I=this.i(P)&65535,H=C.i(D)>>>16,ue=C.i(D)&65535;A[2*P+2*D]+=I*ue,y(A,2*P+2*D),A[2*P+2*D+1]+=N*ue,y(A,2*P+2*D+1),A[2*P+2*D+1]+=I*H,y(A,2*P+2*D+1),A[2*P+2*D+2]+=N*H,y(A,2*P+2*D+2)}for(P=0;P<b;P++)A[P]=A[2*P+1]<<16|A[2*P];for(P=b;P<2*b;P++)A[P]=0;return new o(A,0)};function y(C,b){for(;(C[b]&65535)!=C[b];)C[b+1]+=C[b]>>>16,C[b]&=65535,b++}function x(C,b){this.g=C,this.h=b}function k(C,b){if(S(b))throw Error("division by zero");if(S(C))return new x(m,m);if(v(C))return b=k(E(C),b),new x(E(b.g),E(b.h));if(v(b))return b=k(C,E(b)),new x(E(b.g),b.h);if(30<C.g.length){if(v(C)||v(b))throw Error("slowDivide_ only works with positive integers.");for(var A=h,P=b;0>=P.l(C);)A=V(A),P=V(P);var D=L(A,1),N=L(P,1);for(P=L(P,2),A=L(A,2);!S(P);){var I=N.add(P);0>=I.l(C)&&(D=D.add(A),N=I),P=L(P,1),A=L(A,1)}return b=w(C,D.j(b)),new x(D,b)}for(D=m;0<=C.l(b);){for(A=Math.max(1,Math.floor(C.m()/b.m())),P=Math.ceil(Math.log(A)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),N=c(A),I=N.j(b);v(I)||0<I.l(C);)A-=P,N=c(A),I=N.j(b);S(N)&&(N=h),D=D.add(N),C=w(C,I)}return new x(D,C)}t.A=function(C){return k(this,C).h},t.and=function(C){for(var b=Math.max(this.g.length,C.g.length),A=[],P=0;P<b;P++)A[P]=this.i(P)&C.i(P);return new o(A,this.h&C.h)},t.or=function(C){for(var b=Math.max(this.g.length,C.g.length),A=[],P=0;P<b;P++)A[P]=this.i(P)|C.i(P);return new o(A,this.h|C.h)},t.xor=function(C){for(var b=Math.max(this.g.length,C.g.length),A=[],P=0;P<b;P++)A[P]=this.i(P)^C.i(P);return new o(A,this.h^C.h)};function V(C){for(var b=C.g.length+1,A=[],P=0;P<b;P++)A[P]=C.i(P)<<1|C.i(P-1)>>>31;return new o(A,C.h)}function L(C,b){var A=b>>5;b%=32;for(var P=C.g.length-A,D=[],N=0;N<P;N++)D[N]=0<b?C.i(N+A)>>>b|C.i(N+A+1)<<32-b:C.i(N+A);return new o(D,C.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,JC=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,pi=o}).apply(typeof zx<"u"?zx:typeof self<"u"?self:typeof window<"u"?window:{});var Ad=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var eA,nu,tA,nh,iy,nA,rA,sA;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,f,g){return l==Array.prototype||l==Object.prototype||(l[f]=g.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ad=="object"&&Ad];for(var f=0;f<l.length;++f){var g=l[f];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=n(this);function s(l,f){if(f)e:{var g=r;l=l.split(".");for(var R=0;R<l.length-1;R++){var j=l[R];if(!(j in g))break e;g=g[j]}l=l[l.length-1],R=g[l],f=f(R),f!=R&&f!=null&&e(g,l,{configurable:!0,writable:!0,value:f})}}function i(l,f){l instanceof String&&(l+="");var g=0,R=!1,j={next:function(){if(!R&&g<l.length){var U=g++;return{value:f(U,l[U]),done:!1}}return R=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}s("Array.prototype.values",function(l){return l||function(){return i(this,function(f,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function u(l){var f=typeof l;return f=f!="object"?f:l?Array.isArray(l)?"array":f:"null",f=="array"||f=="object"&&typeof l.length=="number"}function c(l){var f=typeof l;return f=="object"&&l!=null||f=="function"}function d(l,f,g){return l.call.apply(l.bind,arguments)}function m(l,f,g){if(!l)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,R),l.apply(f,j)}}return function(){return l.apply(f,arguments)}}function h(l,f,g){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:m,h.apply(null,arguments)}function _(l,f){var g=Array.prototype.slice.call(arguments,1);return function(){var R=g.slice();return R.push.apply(R,arguments),l.apply(this,R)}}function S(l,f){function g(){}g.prototype=f.prototype,l.aa=f.prototype,l.prototype=new g,l.prototype.constructor=l,l.Qb=function(R,j,U){for(var X=Array(arguments.length-2),Ze=2;Ze<arguments.length;Ze++)X[Ze-2]=arguments[Ze];return f.prototype[j].apply(R,X)}}function v(l){const f=l.length;if(0<f){const g=Array(f);for(let R=0;R<f;R++)g[R]=l[R];return g}return[]}function E(l,f){for(let g=1;g<arguments.length;g++){const R=arguments[g];if(u(R)){const j=l.length||0,U=R.length||0;l.length=j+U;for(let X=0;X<U;X++)l[j+X]=R[X]}else l.push(R)}}class w{constructor(f,g){this.i=f,this.j=g,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function y(l){return/^[\s\xa0]*$/.test(l)}function x(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function k(l){return k[" "](l),l}k[" "]=function(){};var V=x().indexOf("Gecko")!=-1&&!(x().toLowerCase().indexOf("webkit")!=-1&&x().indexOf("Edge")==-1)&&!(x().indexOf("Trident")!=-1||x().indexOf("MSIE")!=-1)&&x().indexOf("Edge")==-1;function L(l,f,g){for(const R in l)f.call(g,l[R],R,l)}function C(l,f){for(const g in l)f.call(void 0,l[g],g,l)}function b(l){const f={};for(const g in l)f[g]=l[g];return f}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(l,f){let g,R;for(let j=1;j<arguments.length;j++){R=arguments[j];for(g in R)l[g]=R[g];for(let U=0;U<A.length;U++)g=A[U],Object.prototype.hasOwnProperty.call(R,g)&&(l[g]=R[g])}}function D(l){var f=1;l=l.split(":");const g=[];for(;0<f&&l.length;)g.push(l.shift()),f--;return l.length&&g.push(l.join(":")),g}function N(l){a.setTimeout(()=>{throw l},0)}function I(){var l=Z;let f=null;return l.g&&(f=l.g,l.g=l.g.next,l.g||(l.h=null),f.next=null),f}class H{constructor(){this.h=this.g=null}add(f,g){const R=ue.get();R.set(f,g),this.h?this.h.next=R:this.g=R,this.h=R}}var ue=new w(()=>new ie,l=>l.reset());class ie{constructor(){this.next=this.g=this.h=null}set(f,g){this.h=f,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let de,B=!1,Z=new H,ae=()=>{const l=a.Promise.resolve(void 0);de=()=>{l.then(me)}};var me=()=>{for(var l;l=I();){try{l.h.call(l.g)}catch(g){N(g)}var f=ue;f.j(l),100>f.h&&(f.h++,l.next=f.g,f.g=l)}B=!1};function Se(){this.s=this.s,this.C=this.C}Se.prototype.s=!1,Se.prototype.ma=function(){this.s||(this.s=!0,this.N())},Se.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ne(l,f){this.type=l,this.g=this.target=f,this.defaultPrevented=!1}Ne.prototype.h=function(){this.defaultPrevented=!0};var at=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,f=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const g=()=>{};a.addEventListener("test",g,f),a.removeEventListener("test",g,f)}catch{}return l}();function Pt(l,f){if(Ne.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var g=this.type=l.type,R=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=f,f=l.relatedTarget){if(V){e:{try{k(f.nodeName);var j=!0;break e}catch{}j=!1}j||(f=null)}}else g=="mouseover"?f=l.fromElement:g=="mouseout"&&(f=l.toElement);this.relatedTarget=f,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:kt[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Pt.aa.h.call(this)}}S(Pt,Ne);var kt={2:"touch",3:"pen",4:"mouse"};Pt.prototype.h=function(){Pt.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var he="closure_listenable_"+(1e6*Math.random()|0),Qe=0;function pt(l,f,g,R,j){this.listener=l,this.proxy=null,this.src=f,this.type=g,this.capture=!!R,this.ha=j,this.key=++Qe,this.da=this.fa=!1}function Me(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function Ae(l){this.src=l,this.g={},this.h=0}Ae.prototype.add=function(l,f,g,R,j){var U=l.toString();l=this.g[U],l||(l=this.g[U]=[],this.h++);var X=Nt(l,f,R,j);return-1<X?(f=l[X],g||(f.fa=!1)):(f=new pt(f,this.src,U,!!R,j),f.fa=g,l.push(f)),f};function De(l,f){var g=f.type;if(g in l.g){var R=l.g[g],j=Array.prototype.indexOf.call(R,f,void 0),U;(U=0<=j)&&Array.prototype.splice.call(R,j,1),U&&(Me(f),l.g[g].length==0&&(delete l.g[g],l.h--))}}function Nt(l,f,g,R){for(var j=0;j<l.length;++j){var U=l[j];if(!U.da&&U.listener==f&&U.capture==!!g&&U.ha==R)return j}return-1}var $t="closure_lm_"+(1e6*Math.random()|0),ur={};function cr(l,f,g,R,j){if(Array.isArray(f)){for(var U=0;U<f.length;U++)cr(l,f[U],g,R,j);return null}return g=te(g),l&&l[he]?l.K(f,g,c(R)?!!R.capture:!!R,j):Pr(l,f,g,!1,R,j)}function Pr(l,f,g,R,j,U){if(!f)throw Error("Invalid event type");var X=c(j)?!!j.capture:!!j,Ze=F(l);if(Ze||(l[$t]=Ze=new Ae(l)),g=Ze.add(f,g,R,X,U),g.proxy)return g;if(R=wl(),g.proxy=R,R.src=l,R.listener=g,l.addEventListener)at||(j=X),j===void 0&&(j=!1),l.addEventListener(f.toString(),R,j);else if(l.attachEvent)l.attachEvent(xl(f.toString()),R);else if(l.addListener&&l.removeListener)l.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return g}function wl(){function l(g){return f.call(l.src,l.listener,g)}const f=O;return l}function ss(l,f,g,R,j){if(Array.isArray(f))for(var U=0;U<f.length;U++)ss(l,f[U],g,R,j);else R=c(R)?!!R.capture:!!R,g=te(g),l&&l[he]?(l=l.i,f=String(f).toString(),f in l.g&&(U=l.g[f],g=Nt(U,g,R,j),-1<g&&(Me(U[g]),Array.prototype.splice.call(U,g,1),U.length==0&&(delete l.g[f],l.h--)))):l&&(l=F(l))&&(f=l.g[f.toString()],l=-1,f&&(l=Nt(f,g,R,j)),(g=-1<l?f[l]:null)&&Uc(g))}function Uc(l){if(typeof l!="number"&&l&&!l.da){var f=l.src;if(f&&f[he])De(f.i,l);else{var g=l.type,R=l.proxy;f.removeEventListener?f.removeEventListener(g,R,l.capture):f.detachEvent?f.detachEvent(xl(g),R):f.addListener&&f.removeListener&&f.removeListener(R),(g=F(f))?(De(g,l),g.h==0&&(g.src=null,f[$t]=null)):Me(l)}}}function xl(l){return l in ur?ur[l]:ur[l]="on"+l}function O(l,f){if(l.da)l=!0;else{f=new Pt(f,this);var g=l.listener,R=l.ha||l.src;l.fa&&Uc(l),l=g.call(R,f)}return l}function F(l){return l=l[$t],l instanceof Ae?l:null}var z="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(l){return typeof l=="function"?l:(l[z]||(l[z]=function(f){return l.handleEvent(f)}),l[z])}function K(){Se.call(this),this.i=new Ae(this),this.M=this,this.F=null}S(K,Se),K.prototype[he]=!0,K.prototype.removeEventListener=function(l,f,g,R){ss(this,l,f,g,R)};function q(l,f){var g,R=l.F;if(R)for(g=[];R;R=R.F)g.push(R);if(l=l.M,R=f.type||f,typeof f=="string")f=new Ne(f,l);else if(f instanceof Ne)f.target=f.target||l;else{var j=f;f=new Ne(R,l),P(f,j)}if(j=!0,g)for(var U=g.length-1;0<=U;U--){var X=f.g=g[U];j=oe(X,R,!0,f)&&j}if(X=f.g=l,j=oe(X,R,!0,f)&&j,j=oe(X,R,!1,f)&&j,g)for(U=0;U<g.length;U++)X=f.g=g[U],j=oe(X,R,!1,f)&&j}K.prototype.N=function(){if(K.aa.N.call(this),this.i){var l=this.i,f;for(f in l.g){for(var g=l.g[f],R=0;R<g.length;R++)Me(g[R]);delete l.g[f],l.h--}}this.F=null},K.prototype.K=function(l,f,g,R){return this.i.add(String(l),f,!1,g,R)},K.prototype.L=function(l,f,g,R){return this.i.add(String(l),f,!0,g,R)};function oe(l,f,g,R){if(f=l.i.g[String(f)],!f)return!0;f=f.concat();for(var j=!0,U=0;U<f.length;++U){var X=f[U];if(X&&!X.da&&X.capture==g){var Ze=X.listener,Wt=X.ha||X.src;X.fa&&De(l.i,X),j=Ze.call(Wt,R)!==!1&&j}}return j&&!R.defaultPrevented}function Oe(l,f,g){if(typeof l=="function")g&&(l=h(l,g));else if(l&&typeof l.handleEvent=="function")l=h(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:a.setTimeout(l,f||0)}function lt(l){l.g=Oe(()=>{l.g=null,l.i&&(l.i=!1,lt(l))},l.l);const f=l.h;l.h=null,l.m.apply(null,f)}class Ft extends Se{constructor(f,g){super(),this.m=f,this.l=g,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:lt(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ui(l){Se.call(this),this.h=l,this.g={}}S(Ui,Se);var Oo=[];function Vo(l){L(l.g,function(f,g){this.g.hasOwnProperty(g)&&Uc(f)},l),l.g={}}Ui.prototype.N=function(){Ui.aa.N.call(this),Vo(this)},Ui.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var El=a.JSON.stringify,Bc=a.JSON.parse,_p=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function Mo(){}Mo.prototype.h=null;function G_(l){return l.h||(l.h=l.i())}function Z_(){}var Tl={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function wp(){Ne.call(this,"d")}S(wp,Ne);function xp(){Ne.call(this,"c")}S(xp,Ne);var Bi={},X_=null;function zc(){return X_=X_||new K}Bi.La="serverreachability";function Y_(l){Ne.call(this,Bi.La,l)}S(Y_,Ne);function Sl(l){const f=zc();q(f,new Y_(f))}Bi.STAT_EVENT="statevent";function J_(l,f){Ne.call(this,Bi.STAT_EVENT,l),this.stat=f}S(J_,Ne);function hn(l){const f=zc();q(f,new J_(f,l))}Bi.Ma="timingevent";function e0(l,f){Ne.call(this,Bi.Ma,l),this.size=f}S(e0,Ne);function bl(l,f){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},f)}function Cl(){this.g=!0}Cl.prototype.xa=function(){this.g=!1};function TP(l,f,g,R,j,U){l.info(function(){if(l.g)if(U)for(var X="",Ze=U.split("&"),Wt=0;Wt<Ze.length;Wt++){var Be=Ze[Wt].split("=");if(1<Be.length){var Jt=Be[0];Be=Be[1];var en=Jt.split("_");X=2<=en.length&&en[1]=="type"?X+(Jt+"="+Be+"&"):X+(Jt+"=redacted&")}}else X=null;else X=U;return"XMLHTTP REQ ("+R+") [attempt "+j+"]: "+f+`
`+g+`
`+X})}function SP(l,f,g,R,j,U,X){l.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+j+"]: "+f+`
`+g+`
`+U+" "+X})}function jo(l,f,g,R){l.info(function(){return"XMLHTTP TEXT ("+f+"): "+CP(l,g)+(R?" "+R:"")})}function bP(l,f){l.info(function(){return"TIMEOUT: "+f})}Cl.prototype.info=function(){};function CP(l,f){if(!l.g)return f;if(!f)return null;try{var g=JSON.parse(f);if(g){for(l=0;l<g.length;l++)if(Array.isArray(g[l])){var R=g[l];if(!(2>R.length)){var j=R[1];if(Array.isArray(j)&&!(1>j.length)){var U=j[0];if(U!="noop"&&U!="stop"&&U!="close")for(var X=1;X<j.length;X++)j[X]=""}}}}return El(g)}catch{return f}}var $c={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},t0={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ep;function Wc(){}S(Wc,Mo),Wc.prototype.g=function(){return new XMLHttpRequest},Wc.prototype.i=function(){return{}},Ep=new Wc;function Ps(l,f,g,R){this.j=l,this.i=f,this.l=g,this.R=R||1,this.U=new Ui(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new n0}function n0(){this.i=null,this.g="",this.h=!1}var r0={},Tp={};function Sp(l,f,g){l.L=1,l.v=Kc(is(f)),l.m=g,l.P=!0,s0(l,null)}function s0(l,f){l.F=Date.now(),Hc(l),l.A=is(l.v);var g=l.A,R=l.R;Array.isArray(R)||(R=[String(R)]),v0(g.i,"t",R),l.C=0,g=l.j.J,l.h=new n0,l.g=M0(l.j,g?f:null,!l.m),0<l.O&&(l.M=new Ft(h(l.Y,l,l.g),l.O)),f=l.U,g=l.g,R=l.ca;var j="readystatechange";Array.isArray(j)||(j&&(Oo[0]=j.toString()),j=Oo);for(var U=0;U<j.length;U++){var X=cr(g,j[U],R||f.handleEvent,!1,f.h||f);if(!X)break;f.g[X.key]=X}f=l.H?b(l.H):{},l.m?(l.u||(l.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,f)):(l.u="GET",l.g.ea(l.A,l.u,null,f)),Sl(),TP(l.i,l.u,l.A,l.l,l.R,l.m)}Ps.prototype.ca=function(l){l=l.target;const f=this.M;f&&os(l)==3?f.j():this.Y(l)},Ps.prototype.Y=function(l){try{if(l==this.g)e:{const en=os(this.g);var f=this.g.Ba();const Uo=this.g.Z();if(!(3>en)&&(en!=3||this.g&&(this.h.h||this.g.oa()||b0(this.g)))){this.J||en!=4||f==7||(f==8||0>=Uo?Sl(3):Sl(2)),bp(this);var g=this.g.Z();this.X=g;t:if(i0(this)){var R=b0(this.g);l="";var j=R.length,U=os(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){zi(this),Al(this);var X="";break t}this.h.i=new a.TextDecoder}for(f=0;f<j;f++)this.h.h=!0,l+=this.h.i.decode(R[f],{stream:!(U&&f==j-1)});R.length=0,this.h.g+=l,this.C=0,X=this.h.g}else X=this.g.oa();if(this.o=g==200,SP(this.i,this.u,this.A,this.l,this.R,en,g),this.o){if(this.T&&!this.K){t:{if(this.g){var Ze,Wt=this.g;if((Ze=Wt.g?Wt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(Ze)){var Be=Ze;break t}}Be=null}if(g=Be)jo(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Cp(this,g);else{this.o=!1,this.s=3,hn(12),zi(this),Al(this);break e}}if(this.P){g=!0;let dr;for(;!this.J&&this.C<X.length;)if(dr=AP(this,X),dr==Tp){en==4&&(this.s=4,hn(14),g=!1),jo(this.i,this.l,null,"[Incomplete Response]");break}else if(dr==r0){this.s=4,hn(15),jo(this.i,this.l,X,"[Invalid Chunk]"),g=!1;break}else jo(this.i,this.l,dr,null),Cp(this,dr);if(i0(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),en!=4||X.length!=0||this.h.h||(this.s=1,hn(16),g=!1),this.o=this.o&&g,!g)jo(this.i,this.l,X,"[Invalid Chunked Response]"),zi(this),Al(this);else if(0<X.length&&!this.W){this.W=!0;var Jt=this.j;Jt.g==this&&Jt.ba&&!Jt.M&&(Jt.j.info("Great, no buffering proxy detected. Bytes received: "+X.length),Np(Jt),Jt.M=!0,hn(11))}}else jo(this.i,this.l,X,null),Cp(this,X);en==4&&zi(this),this.o&&!this.J&&(en==4?N0(this.j,this):(this.o=!1,Hc(this)))}else WP(this.g),g==400&&0<X.indexOf("Unknown SID")?(this.s=3,hn(12)):(this.s=0,hn(13)),zi(this),Al(this)}}}catch{}finally{}};function i0(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function AP(l,f){var g=l.C,R=f.indexOf(`
`,g);return R==-1?Tp:(g=Number(f.substring(g,R)),isNaN(g)?r0:(R+=1,R+g>f.length?Tp:(f=f.slice(R,R+g),l.C=R+g,f)))}Ps.prototype.cancel=function(){this.J=!0,zi(this)};function Hc(l){l.S=Date.now()+l.I,o0(l,l.I)}function o0(l,f){if(l.B!=null)throw Error("WatchDog timer not null");l.B=bl(h(l.ba,l),f)}function bp(l){l.B&&(a.clearTimeout(l.B),l.B=null)}Ps.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(bP(this.i,this.A),this.L!=2&&(Sl(),hn(17)),zi(this),this.s=2,Al(this)):o0(this,this.S-l)};function Al(l){l.j.G==0||l.J||N0(l.j,l)}function zi(l){bp(l);var f=l.M;f&&typeof f.ma=="function"&&f.ma(),l.M=null,Vo(l.U),l.g&&(f=l.g,l.g=null,f.abort(),f.ma())}function Cp(l,f){try{var g=l.j;if(g.G!=0&&(g.g==l||Ap(g.h,l))){if(!l.K&&Ap(g.h,l)&&g.G==3){try{var R=g.Da.g.parse(f)}catch{R=null}if(Array.isArray(R)&&R.length==3){var j=R;if(j[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<l.F)ed(g),Yc(g);else break e;kp(g),hn(18)}}else g.za=j[1],0<g.za-g.T&&37500>j[2]&&g.F&&g.v==0&&!g.C&&(g.C=bl(h(g.Za,g),6e3));if(1>=u0(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else Wi(g,11)}else if((l.K||g.g==l)&&ed(g),!y(f))for(j=g.Da.g.parse(f),f=0;f<j.length;f++){let Be=j[f];if(g.T=Be[0],Be=Be[1],g.G==2)if(Be[0]=="c"){g.K=Be[1],g.ia=Be[2];const Jt=Be[3];Jt!=null&&(g.la=Jt,g.j.info("VER="+g.la));const en=Be[4];en!=null&&(g.Aa=en,g.j.info("SVER="+g.Aa));const Uo=Be[5];Uo!=null&&typeof Uo=="number"&&0<Uo&&(R=1.5*Uo,g.L=R,g.j.info("backChannelRequestTimeoutMs_="+R)),R=g;const dr=l.g;if(dr){const nd=dr.g?dr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(nd){var U=R.h;U.g||nd.indexOf("spdy")==-1&&nd.indexOf("quic")==-1&&nd.indexOf("h2")==-1||(U.j=U.l,U.g=new Set,U.h&&(Rp(U,U.h),U.h=null))}if(R.D){const Dp=dr.g?dr.g.getResponseHeader("X-HTTP-Session-Id"):null;Dp&&(R.ya=Dp,Je(R.I,R.D,Dp))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-l.F,g.j.info("Handshake RTT: "+g.R+"ms")),R=g;var X=l;if(R.qa=V0(R,R.J?R.ia:null,R.W),X.K){c0(R.h,X);var Ze=X,Wt=R.L;Wt&&(Ze.I=Wt),Ze.B&&(bp(Ze),Hc(Ze)),R.g=X}else P0(R);0<g.i.length&&Jc(g)}else Be[0]!="stop"&&Be[0]!="close"||Wi(g,7);else g.G==3&&(Be[0]=="stop"||Be[0]=="close"?Be[0]=="stop"?Wi(g,7):Pp(g):Be[0]!="noop"&&g.l&&g.l.ta(Be),g.v=0)}}Sl(4)}catch{}}var RP=class{constructor(l,f){this.g=l,this.map=f}};function a0(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function l0(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function u0(l){return l.h?1:l.g?l.g.size:0}function Ap(l,f){return l.h?l.h==f:l.g?l.g.has(f):!1}function Rp(l,f){l.g?l.g.add(f):l.h=f}function c0(l,f){l.h&&l.h==f?l.h=null:l.g&&l.g.has(f)&&l.g.delete(f)}a0.prototype.cancel=function(){if(this.i=d0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function d0(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let f=l.i;for(const g of l.g.values())f=f.concat(g.D);return f}return v(l.i)}function IP(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(u(l)){for(var f=[],g=l.length,R=0;R<g;R++)f.push(l[R]);return f}f=[],g=0;for(R in l)f[g++]=l[R];return f}function PP(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(u(l)||typeof l=="string"){var f=[];l=l.length;for(var g=0;g<l;g++)f.push(g);return f}f=[],g=0;for(const R in l)f[g++]=R;return f}}}function h0(l,f){if(l.forEach&&typeof l.forEach=="function")l.forEach(f,void 0);else if(u(l)||typeof l=="string")Array.prototype.forEach.call(l,f,void 0);else for(var g=PP(l),R=IP(l),j=R.length,U=0;U<j;U++)f.call(void 0,R[U],g&&g[U],l)}var f0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function kP(l,f){if(l){l=l.split("&");for(var g=0;g<l.length;g++){var R=l[g].indexOf("="),j=null;if(0<=R){var U=l[g].substring(0,R);j=l[g].substring(R+1)}else U=l[g];f(U,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function $i(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof $i){this.h=l.h,qc(this,l.j),this.o=l.o,this.g=l.g,Qc(this,l.s),this.l=l.l;var f=l.i,g=new Pl;g.i=f.i,f.g&&(g.g=new Map(f.g),g.h=f.h),p0(this,g),this.m=l.m}else l&&(f=String(l).match(f0))?(this.h=!1,qc(this,f[1]||"",!0),this.o=Rl(f[2]||""),this.g=Rl(f[3]||"",!0),Qc(this,f[4]),this.l=Rl(f[5]||"",!0),p0(this,f[6]||"",!0),this.m=Rl(f[7]||"")):(this.h=!1,this.i=new Pl(null,this.h))}$i.prototype.toString=function(){var l=[],f=this.j;f&&l.push(Il(f,m0,!0),":");var g=this.g;return(g||f=="file")&&(l.push("//"),(f=this.o)&&l.push(Il(f,m0,!0),"@"),l.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&l.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&l.push("/"),l.push(Il(g,g.charAt(0)=="/"?OP:DP,!0))),(g=this.i.toString())&&l.push("?",g),(g=this.m)&&l.push("#",Il(g,MP)),l.join("")};function is(l){return new $i(l)}function qc(l,f,g){l.j=g?Rl(f,!0):f,l.j&&(l.j=l.j.replace(/:$/,""))}function Qc(l,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);l.s=f}else l.s=null}function p0(l,f,g){f instanceof Pl?(l.i=f,jP(l.i,l.h)):(g||(f=Il(f,VP)),l.i=new Pl(f,l.h))}function Je(l,f,g){l.i.set(f,g)}function Kc(l){return Je(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Rl(l,f){return l?f?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Il(l,f,g){return typeof l=="string"?(l=encodeURI(l).replace(f,NP),g&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function NP(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var m0=/[#\/\?@]/g,DP=/[#\?:]/g,OP=/[#\?]/g,VP=/[#\?@]/g,MP=/#/g;function Pl(l,f){this.h=this.g=null,this.i=l||null,this.j=!!f}function ks(l){l.g||(l.g=new Map,l.h=0,l.i&&kP(l.i,function(f,g){l.add(decodeURIComponent(f.replace(/\+/g," ")),g)}))}t=Pl.prototype,t.add=function(l,f){ks(this),this.i=null,l=Lo(this,l);var g=this.g.get(l);return g||this.g.set(l,g=[]),g.push(f),this.h+=1,this};function g0(l,f){ks(l),f=Lo(l,f),l.g.has(f)&&(l.i=null,l.h-=l.g.get(f).length,l.g.delete(f))}function y0(l,f){return ks(l),f=Lo(l,f),l.g.has(f)}t.forEach=function(l,f){ks(this),this.g.forEach(function(g,R){g.forEach(function(j){l.call(f,j,R,this)},this)},this)},t.na=function(){ks(this);const l=Array.from(this.g.values()),f=Array.from(this.g.keys()),g=[];for(let R=0;R<f.length;R++){const j=l[R];for(let U=0;U<j.length;U++)g.push(f[R])}return g},t.V=function(l){ks(this);let f=[];if(typeof l=="string")y0(this,l)&&(f=f.concat(this.g.get(Lo(this,l))));else{l=Array.from(this.g.values());for(let g=0;g<l.length;g++)f=f.concat(l[g])}return f},t.set=function(l,f){return ks(this),this.i=null,l=Lo(this,l),y0(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[f]),this.h+=1,this},t.get=function(l,f){return l?(l=this.V(l),0<l.length?String(l[0]):f):f};function v0(l,f,g){g0(l,f),0<g.length&&(l.i=null,l.g.set(Lo(l,f),v(g)),l.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],f=Array.from(this.g.keys());for(var g=0;g<f.length;g++){var R=f[g];const U=encodeURIComponent(String(R)),X=this.V(R);for(R=0;R<X.length;R++){var j=U;X[R]!==""&&(j+="="+encodeURIComponent(String(X[R]))),l.push(j)}}return this.i=l.join("&")};function Lo(l,f){return f=String(f),l.j&&(f=f.toLowerCase()),f}function jP(l,f){f&&!l.j&&(ks(l),l.i=null,l.g.forEach(function(g,R){var j=R.toLowerCase();R!=j&&(g0(this,R),v0(this,j,g))},l)),l.j=f}function LP(l,f){const g=new Cl;if(a.Image){const R=new Image;R.onload=_(Ns,g,"TestLoadImage: loaded",!0,f,R),R.onerror=_(Ns,g,"TestLoadImage: error",!1,f,R),R.onabort=_(Ns,g,"TestLoadImage: abort",!1,f,R),R.ontimeout=_(Ns,g,"TestLoadImage: timeout",!1,f,R),a.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=l}else f(!1)}function FP(l,f){const g=new Cl,R=new AbortController,j=setTimeout(()=>{R.abort(),Ns(g,"TestPingServer: timeout",!1,f)},1e4);fetch(l,{signal:R.signal}).then(U=>{clearTimeout(j),U.ok?Ns(g,"TestPingServer: ok",!0,f):Ns(g,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(j),Ns(g,"TestPingServer: error",!1,f)})}function Ns(l,f,g,R,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),R(g)}catch{}}function UP(){this.g=new _p}function BP(l,f,g){const R=g||"";try{h0(l,function(j,U){let X=j;c(j)&&(X=El(j)),f.push(R+U+"="+encodeURIComponent(X))})}catch(j){throw f.push(R+"type="+encodeURIComponent("_badmap")),j}}function Gc(l){this.l=l.Ub||null,this.j=l.eb||!1}S(Gc,Mo),Gc.prototype.g=function(){return new Zc(this.l,this.j)},Gc.prototype.i=function(l){return function(){return l}}({});function Zc(l,f){K.call(this),this.D=l,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(Zc,K),t=Zc.prototype,t.open=function(l,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=f,this.readyState=1,Nl(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(f.body=l),(this.D||a).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,kl(this)),this.readyState=0},t.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Nl(this)),this.g&&(this.readyState=3,Nl(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;_0(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function _0(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}t.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var f=l.value?l.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!l.done}))&&(this.response=this.responseText+=f)}l.done?kl(this):Nl(this),this.readyState==3&&_0(this)}},t.Ra=function(l){this.g&&(this.response=this.responseText=l,kl(this))},t.Qa=function(l){this.g&&(this.response=l,kl(this))},t.ga=function(){this.g&&kl(this)};function kl(l){l.readyState=4,l.l=null,l.j=null,l.v=null,Nl(l)}t.setRequestHeader=function(l,f){this.u.append(l,f)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],f=this.h.entries();for(var g=f.next();!g.done;)g=g.value,l.push(g[0]+": "+g[1]),g=f.next();return l.join(`\r
`)};function Nl(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Zc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function w0(l){let f="";return L(l,function(g,R){f+=R,f+=":",f+=g,f+=`\r
`}),f}function Ip(l,f,g){e:{for(R in g){var R=!1;break e}R=!0}R||(g=w0(g),typeof l=="string"?g!=null&&encodeURIComponent(String(g)):Je(l,f,g))}function mt(l){K.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(mt,K);var zP=/^https?$/i,$P=["POST","PUT"];t=mt.prototype,t.Ha=function(l){this.J=l},t.ea=function(l,f,g,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);f=f?f.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ep.g(),this.v=this.o?G_(this.o):G_(Ep),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(f,String(l),!0),this.B=!1}catch(U){x0(this,U);return}if(l=g||"",g=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var j in R)g.set(j,R[j]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const U of R.keys())g.set(U,R.get(U));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(g.keys()).find(U=>U.toLowerCase()=="content-type"),j=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call($P,f,void 0))||R||j||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[U,X]of g)this.g.setRequestHeader(U,X);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{S0(this),this.u=!0,this.g.send(l),this.u=!1}catch(U){x0(this,U)}};function x0(l,f){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=f,l.m=5,E0(l),Xc(l)}function E0(l){l.A||(l.A=!0,q(l,"complete"),q(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,q(this,"complete"),q(this,"abort"),Xc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xc(this,!0)),mt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?T0(this):this.bb())},t.bb=function(){T0(this)};function T0(l){if(l.h&&typeof o<"u"&&(!l.v[1]||os(l)!=4||l.Z()!=2)){if(l.u&&os(l)==4)Oe(l.Ea,0,l);else if(q(l,"readystatechange"),os(l)==4){l.h=!1;try{const X=l.Z();e:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var g;if(!(g=f)){var R;if(R=X===0){var j=String(l.D).match(f0)[1]||null;!j&&a.self&&a.self.location&&(j=a.self.location.protocol.slice(0,-1)),R=!zP.test(j?j.toLowerCase():"")}g=R}if(g)q(l,"complete"),q(l,"success");else{l.m=6;try{var U=2<os(l)?l.g.statusText:""}catch{U=""}l.l=U+" ["+l.Z()+"]",E0(l)}}finally{Xc(l)}}}}function Xc(l,f){if(l.g){S0(l);const g=l.g,R=l.v[0]?()=>{}:null;l.g=null,l.v=null,f||q(l,"ready");try{g.onreadystatechange=R}catch{}}}function S0(l){l.I&&(a.clearTimeout(l.I),l.I=null)}t.isActive=function(){return!!this.g};function os(l){return l.g?l.g.readyState:0}t.Z=function(){try{return 2<os(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(l){if(this.g){var f=this.g.responseText;return l&&f.indexOf(l)==0&&(f=f.substring(l.length)),Bc(f)}};function b0(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function WP(l){const f={};l=(l.g&&2<=os(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<l.length;R++){if(y(l[R]))continue;var g=D(l[R]);const j=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const U=f[j]||[];f[j]=U,U.push(g)}C(f,function(R){return R.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Dl(l,f,g){return g&&g.internalChannelParams&&g.internalChannelParams[l]||f}function C0(l){this.Aa=0,this.i=[],this.j=new Cl,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Dl("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Dl("baseRetryDelayMs",5e3,l),this.cb=Dl("retryDelaySeedMs",1e4,l),this.Wa=Dl("forwardChannelMaxRetries",2,l),this.wa=Dl("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new a0(l&&l.concurrentRequestLimit),this.Da=new UP,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=C0.prototype,t.la=8,t.G=1,t.connect=function(l,f,g,R){hn(0),this.W=l,this.H=f||{},g&&R!==void 0&&(this.H.OSID=g,this.H.OAID=R),this.F=this.X,this.I=V0(this,null,this.W),Jc(this)};function Pp(l){if(A0(l),l.G==3){var f=l.U++,g=is(l.I);if(Je(g,"SID",l.K),Je(g,"RID",f),Je(g,"TYPE","terminate"),Ol(l,g),f=new Ps(l,l.j,f),f.L=2,f.v=Kc(is(g)),g=!1,a.navigator&&a.navigator.sendBeacon)try{g=a.navigator.sendBeacon(f.v.toString(),"")}catch{}!g&&a.Image&&(new Image().src=f.v,g=!0),g||(f.g=M0(f.j,null),f.g.ea(f.v)),f.F=Date.now(),Hc(f)}O0(l)}function Yc(l){l.g&&(Np(l),l.g.cancel(),l.g=null)}function A0(l){Yc(l),l.u&&(a.clearTimeout(l.u),l.u=null),ed(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function Jc(l){if(!l0(l.h)&&!l.s){l.s=!0;var f=l.Ga;de||ae(),B||(de(),B=!0),Z.add(f,l),l.B=0}}function HP(l,f){return u0(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=f.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=bl(h(l.Ga,l,f),D0(l,l.B)),l.B++,!0)}t.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const j=new Ps(this,this.j,l);let U=this.o;if(this.S&&(U?(U=b(U),P(U,this.S)):U=this.S),this.m!==null||this.O||(j.H=U,U=null),this.P)e:{for(var f=0,g=0;g<this.i.length;g++){t:{var R=this.i[g];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(f+=R,4096<f){f=g;break e}if(f===4096||g===this.i.length-1){f=g+1;break e}}f=1e3}else f=1e3;f=I0(this,j,f),g=is(this.I),Je(g,"RID",l),Je(g,"CVER",22),this.D&&Je(g,"X-HTTP-Session-Id",this.D),Ol(this,g),U&&(this.O?f="headers="+encodeURIComponent(String(w0(U)))+"&"+f:this.m&&Ip(g,this.m,U)),Rp(this.h,j),this.Ua&&Je(g,"TYPE","init"),this.P?(Je(g,"$req",f),Je(g,"SID","null"),j.T=!0,Sp(j,g,null)):Sp(j,g,f),this.G=2}}else this.G==3&&(l?R0(this,l):this.i.length==0||l0(this.h)||R0(this))};function R0(l,f){var g;f?g=f.l:g=l.U++;const R=is(l.I);Je(R,"SID",l.K),Je(R,"RID",g),Je(R,"AID",l.T),Ol(l,R),l.m&&l.o&&Ip(R,l.m,l.o),g=new Ps(l,l.j,g,l.B+1),l.m===null&&(g.H=l.o),f&&(l.i=f.D.concat(l.i)),f=I0(l,g,1e3),g.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),Rp(l.h,g),Sp(g,R,f)}function Ol(l,f){l.H&&L(l.H,function(g,R){Je(f,R,g)}),l.l&&h0({},function(g,R){Je(f,R,g)})}function I0(l,f,g){g=Math.min(l.i.length,g);var R=l.l?h(l.l.Na,l.l,l):null;e:{var j=l.i;let U=-1;for(;;){const X=["count="+g];U==-1?0<g?(U=j[0].g,X.push("ofs="+U)):U=0:X.push("ofs="+U);let Ze=!0;for(let Wt=0;Wt<g;Wt++){let Be=j[Wt].g;const Jt=j[Wt].map;if(Be-=U,0>Be)U=Math.max(0,j[Wt].g-100),Ze=!1;else try{BP(Jt,X,"req"+Be+"_")}catch{R&&R(Jt)}}if(Ze){R=X.join("&");break e}}}return l=l.i.splice(0,g),f.D=l,R}function P0(l){if(!l.g&&!l.u){l.Y=1;var f=l.Fa;de||ae(),B||(de(),B=!0),Z.add(f,l),l.v=0}}function kp(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=bl(h(l.Fa,l),D0(l,l.v)),l.v++,!0)}t.Fa=function(){if(this.u=null,k0(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=bl(h(this.ab,this),l)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,hn(10),Yc(this),k0(this))};function Np(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function k0(l){l.g=new Ps(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var f=is(l.qa);Je(f,"RID","rpc"),Je(f,"SID",l.K),Je(f,"AID",l.T),Je(f,"CI",l.F?"0":"1"),!l.F&&l.ja&&Je(f,"TO",l.ja),Je(f,"TYPE","xmlhttp"),Ol(l,f),l.m&&l.o&&Ip(f,l.m,l.o),l.L&&(l.g.I=l.L);var g=l.g;l=l.ia,g.L=1,g.v=Kc(is(f)),g.m=null,g.P=!0,s0(g,l)}t.Za=function(){this.C!=null&&(this.C=null,Yc(this),kp(this),hn(19))};function ed(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function N0(l,f){var g=null;if(l.g==f){ed(l),Np(l),l.g=null;var R=2}else if(Ap(l.h,f))g=f.D,c0(l.h,f),R=1;else return;if(l.G!=0){if(f.o)if(R==1){g=f.m?f.m.length:0,f=Date.now()-f.F;var j=l.B;R=zc(),q(R,new e0(R,g)),Jc(l)}else P0(l);else if(j=f.s,j==3||j==0&&0<f.X||!(R==1&&HP(l,f)||R==2&&kp(l)))switch(g&&0<g.length&&(f=l.h,f.i=f.i.concat(g)),j){case 1:Wi(l,5);break;case 4:Wi(l,10);break;case 3:Wi(l,6);break;default:Wi(l,2)}}}function D0(l,f){let g=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(g*=2),g*f}function Wi(l,f){if(l.j.info("Error code "+f),f==2){var g=h(l.fb,l),R=l.Xa;const j=!R;R=new $i(R||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||qc(R,"https"),Kc(R),j?LP(R.toString(),g):FP(R.toString(),g)}else hn(2);l.G=0,l.l&&l.l.sa(f),O0(l),A0(l)}t.fb=function(l){l?(this.j.info("Successfully pinged google.com"),hn(2)):(this.j.info("Failed to ping google.com"),hn(1))};function O0(l){if(l.G=0,l.ka=[],l.l){const f=d0(l.h);(f.length!=0||l.i.length!=0)&&(E(l.ka,f),E(l.ka,l.i),l.h.i.length=0,v(l.i),l.i.length=0),l.l.ra()}}function V0(l,f,g){var R=g instanceof $i?is(g):new $i(g);if(R.g!="")f&&(R.g=f+"."+R.g),Qc(R,R.s);else{var j=a.location;R=j.protocol,f=f?f+"."+j.hostname:j.hostname,j=+j.port;var U=new $i(null);R&&qc(U,R),f&&(U.g=f),j&&Qc(U,j),g&&(U.l=g),R=U}return g=l.D,f=l.ya,g&&f&&Je(R,g,f),Je(R,"VER",l.la),Ol(l,R),R}function M0(l,f,g){if(f&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=l.Ca&&!l.pa?new mt(new Gc({eb:g})):new mt(l.pa),f.Ha(l.J),f}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function j0(){}t=j0.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function td(){}td.prototype.g=function(l,f){return new jn(l,f)};function jn(l,f){K.call(this),this.g=new C0(f),this.l=l,this.h=f&&f.messageUrlParams||null,l=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(l?l["X-WebChannel-Content-Type"]=f.messageContentType:l={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(l?l["X-WebChannel-Client-Profile"]=f.va:l={"X-WebChannel-Client-Profile":f.va}),this.g.S=l,(l=f&&f.Sb)&&!y(l)&&(this.g.m=l),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!y(f)&&(this.g.D=f,l=this.h,l!==null&&f in l&&(l=this.h,f in l&&delete l[f])),this.j=new Fo(this)}S(jn,K),jn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},jn.prototype.close=function(){Pp(this.g)},jn.prototype.o=function(l){var f=this.g;if(typeof l=="string"){var g={};g.__data__=l,l=g}else this.u&&(g={},g.__data__=El(l),l=g);f.i.push(new RP(f.Ya++,l)),f.G==3&&Jc(f)},jn.prototype.N=function(){this.g.l=null,delete this.j,Pp(this.g),delete this.g,jn.aa.N.call(this)};function L0(l){wp.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var f=l.__sm__;if(f){e:{for(const g in f){l=g;break e}l=void 0}(this.i=l)&&(l=this.i,f=f!==null&&l in f?f[l]:void 0),this.data=f}else this.data=l}S(L0,wp);function F0(){xp.call(this),this.status=1}S(F0,xp);function Fo(l){this.g=l}S(Fo,j0),Fo.prototype.ua=function(){q(this.g,"a")},Fo.prototype.ta=function(l){q(this.g,new L0(l))},Fo.prototype.sa=function(l){q(this.g,new F0)},Fo.prototype.ra=function(){q(this.g,"b")},td.prototype.createWebChannel=td.prototype.g,jn.prototype.send=jn.prototype.o,jn.prototype.open=jn.prototype.m,jn.prototype.close=jn.prototype.close,sA=function(){return new td},rA=function(){return zc()},nA=Bi,iy={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},$c.NO_ERROR=0,$c.TIMEOUT=8,$c.HTTP_ERROR=6,nh=$c,t0.COMPLETE="complete",tA=t0,Z_.EventType=Tl,Tl.OPEN="a",Tl.CLOSE="b",Tl.ERROR="c",Tl.MESSAGE="d",K.prototype.listen=K.prototype.K,nu=Z_,mt.prototype.listenOnce=mt.prototype.L,mt.prototype.getLastError=mt.prototype.Ka,mt.prototype.getLastErrorCode=mt.prototype.Ba,mt.prototype.getStatus=mt.prototype.Z,mt.prototype.getResponseJson=mt.prototype.Oa,mt.prototype.getResponseText=mt.prototype.oa,mt.prototype.send=mt.prototype.ea,mt.prototype.setWithCredentials=mt.prototype.Ha,eA=mt}).apply(typeof Ad<"u"?Ad:typeof self<"u"?self:typeof window<"u"?window:{});const $x="@firebase/firestore",Wx="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}on.UNAUTHENTICATED=new on(null),on.GOOGLE_CREDENTIALS=new on("google-credentials-uid"),on.FIRST_PARTY=new on("first-party-uid"),on.MOCK_USER=new on("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pl="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xo=new WC("@firebase/firestore");function qo(){return xo.logLevel}function se(t,...e){if(xo.logLevel<=Le.DEBUG){const n=e.map(s_);xo.debug(`Firestore (${pl}): ${t}`,...n)}}function Cs(t,...e){if(xo.logLevel<=Le.ERROR){const n=e.map(s_);xo.error(`Firestore (${pl}): ${t}`,...n)}}function Xa(t,...e){if(xo.logLevel<=Le.WARN){const n=e.map(s_);xo.warn(`Firestore (${pl}): ${t}`,...n)}}function s_(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ge(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,iA(t,r,n)}function iA(t,e,n){let r=`FIRESTORE (${pl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Cs(r),new Error(r)}function qe(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||iA(e,s,r)}function we(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ee extends ko{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class IL{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(on.UNAUTHENTICATED))}shutdown(){}}class PL{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class kL{constructor(e){this.t=e,this.currentUser=on.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){qe(this.o===void 0,42304);let r=this.i;const s=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let i=new mi;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new mi,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const u=i;e.enqueueRetryable(async()=>{await u.promise,await s(this.currentUser)})},a=u=>{se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(se("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new mi)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(qe(typeof r.accessToken=="string",31837,{l:r}),new oA(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return qe(e===null||typeof e=="string",2055,{h:e}),new on(e)}}class NL{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=on.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class DL{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new NL(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(on.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Hx{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class OL{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,KC(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){qe(this.o===void 0,3512);const r=i=>{i.error!=null&&se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,se("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Hx(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(qe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Hx(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VL(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=VL(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function Pe(t,e){return t<e?-1:t>e?1:0}function oy(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return xm(s)===xm(i)?Pe(s,i):xm(s)?1:-1}return Pe(t.length,e.length)}const ML=55296,jL=57343;function xm(t){const e=t.charCodeAt(0);return e>=ML&&e<=jL}function Ya(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qx="__name__";class Or{constructor(e,n,r){n===void 0?n=0:n>e.length&&ge(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ge(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Or.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Or?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=Or.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return Pe(e.length,n.length)}static compareSegments(e,n){const r=Or.isNumericId(e),s=Or.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Or.extractNumericId(e).compare(Or.extractNumericId(n)):oy(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return pi.fromString(e.substring(4,e.length-2))}}class Xe extends Or{construct(e,n,r){return new Xe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ee($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Xe(n)}static emptyPath(){return new Xe([])}}const LL=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kt extends Or{construct(e,n,r){return new Kt(e,n,r)}static isValidIdentifier(e){return LL.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===qx}static keyField(){return new Kt([qx])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new ee($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new ee($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[s+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new ee($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new ee($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Kt(n)}static emptyPath(){return new Kt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e){this.path=e}static fromPath(e){return new fe(Xe.fromString(e))}static fromName(e){return new fe(Xe.fromString(e).popFirst(5))}static empty(){return new fe(Xe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Xe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Xe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new fe(new Xe(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aA(t,e,n){if(!n)throw new ee($.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function FL(t,e,n,r){if(e===!0&&r===!0)throw new ee($.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Qx(t){if(!fe.isDocumentKey(t))throw new ee($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Kx(t){if(fe.isDocumentKey(t))throw new ee($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function lA(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Qf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ge(12329,{type:typeof t})}function Ja(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ee($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Qf(t);throw new ee($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function UL(t,e){if(e<=0)throw new ee($.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function It(t,e){const n={typeString:t};return e&&(n.value=e),n}function kc(t,e){if(!lA(t))throw new ee($.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new ee($.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gx=-62135596800,Zx=1e6;class rt{static now(){return rt.fromMillis(Date.now())}static fromDate(e){return rt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Zx);return new rt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ee($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ee($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Gx)throw new ee($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ee($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Zx}_compareTo(e){return this.seconds===e.seconds?Pe(this.nanoseconds,e.nanoseconds):Pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:rt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(kc(e,rt._jsonSchema))return new rt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Gx;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}rt._jsonSchemaVersion="firestore/timestamp/1.0",rt._jsonSchema={type:It("string",rt._jsonSchemaVersion),seconds:It("number"),nanoseconds:It("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{static fromTimestamp(e){return new _e(e)}static min(){return new _e(new rt(0,0))}static max(){return new _e(new rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xu=-1;function BL(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=_e.fromTimestamp(r===1e9?new rt(n+1,0):new rt(n,r));return new Ei(s,fe.empty(),e)}function zL(t){return new Ei(t.readTime,t.key,Xu)}class Ei{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ei(_e.min(),fe.empty(),Xu)}static max(){return new Ei(_e.max(),fe.empty(),Xu)}}function $L(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=fe.comparator(t.documentKey,e.documentKey),n!==0?n:Pe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class HL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ml(t){if(t.code!==$.FAILED_PRECONDITION||t.message!==WL)throw t;se("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ge(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new W((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof W?n:W.resolve(n)}catch(n){return W.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):W.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):W.reject(n)}static resolve(e){return new W((n,r)=>{n(e)})}static reject(e){return new W((n,r)=>{r(e)})}static waitFor(e){return new W((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},u=>r(u))}),o=!0,i===s&&n()})}static or(e){let n=W.resolve(!1);for(const r of e)n=n.next(s=>s?W.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new W((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let u=0;u<i;u++){const c=u;n(e[c]).next(d=>{o[c]=d,++a,a===i&&r(o)},d=>s(d))}})}static doWhile(e,n){return new W((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function qL(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function gl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Kf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o_=-1;function Gf(t){return t==null}function Hh(t){return t===0&&1/t==-1/0}function QL(t){return typeof t=="number"&&Number.isInteger(t)&&!Hh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uA="";function KL(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Xx(e)),e=GL(t.get(n),e);return Xx(e)}function GL(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case uA:n+="";break;default:n+=i}}return n}function Xx(t){return t+uA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yx(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Vi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function cA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e,n){this.comparator=e,this.root=n||Qt.EMPTY}insert(e,n){return new ft(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Qt.BLACK,null,null))}remove(e){return new ft(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Rd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Rd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Rd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Rd(this.root,e,this.comparator,!0)}}class Rd{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Qt.RED,this.left=s??Qt.EMPTY,this.right=i??Qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Qt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Qt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ge(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ge(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ge(27949);return e+(this.isRed()?0:1)}}Qt.EMPTY=null,Qt.RED=!0,Qt.BLACK=!1;Qt.EMPTY=new class{constructor(){this.size=0}get key(){throw ge(57766)}get value(){throw ge(16141)}get color(){throw ge(16727)}get left(){throw ge(29726)}get right(){throw ge(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new Qt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.comparator=e,this.data=new ft(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Jx(this.data.getIterator())}getIteratorFrom(e){return new Jx(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Lt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Lt(this.comparator);return n.data=e,n}}class Jx{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this.fields=e,e.sort(Kt.comparator)}static empty(){return new Wn([])}unionWith(e){let n=new Lt(Kt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Wn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ya(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new dA("Invalid base64 string: "+i):i}}(e);return new Yt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new Yt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Yt.EMPTY_BYTE_STRING=new Yt("");const ZL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ti(t){if(qe(!!t,39018),typeof t=="string"){let e=0;const n=ZL.exec(t);if(qe(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:xt(t.seconds),nanos:xt(t.nanos)}}function xt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Si(t){return typeof t=="string"?Yt.fromBase64String(t):Yt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hA="server_timestamp",fA="__type__",pA="__previous_value__",mA="__local_write_time__";function a_(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[fA])==null?void 0:r.stringValue)===hA}function Zf(t){const e=t.mapValue.fields[pA];return a_(e)?Zf(e):e}function Yu(t){const e=Ti(t.mapValue.fields[mA].timestampValue);return new rt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XL{constructor(e,n,r,s,i,o,a,u,c,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c,this.isUsingEmulator=d}}const qh="(default)";class Ju{constructor(e,n){this.projectId=e,this.database=n||qh}static empty(){return new Ju("","")}get isDefaultDatabase(){return this.database===qh}isEqual(e){return e instanceof Ju&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gA="__type__",yA="__max__",Id={mapValue:{fields:{__type__:{stringValue:yA}}}},vA="__vector__",Qh="value";function bi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?a_(t)?4:JL(t)?9007199254740991:YL(t)?10:11:ge(28295,{value:t})}function es(t,e){if(t===e)return!0;const n=bi(t);if(n!==bi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Yu(t).isEqual(Yu(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Ti(s.timestampValue),a=Ti(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Si(s.bytesValue).isEqual(Si(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return xt(s.geoPointValue.latitude)===xt(i.geoPointValue.latitude)&&xt(s.geoPointValue.longitude)===xt(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return xt(s.integerValue)===xt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=xt(s.doubleValue),a=xt(i.doubleValue);return o===a?Hh(o)===Hh(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Ya(t.arrayValue.values||[],e.arrayValue.values||[],es);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(Yx(o)!==Yx(a))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!es(o[u],a[u])))return!1;return!0}(t,e);default:return ge(52216,{left:t})}}function ec(t,e){return(t.values||[]).find(n=>es(n,e))!==void 0}function el(t,e){if(t===e)return 0;const n=bi(t),r=bi(e);if(n!==r)return Pe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Pe(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=xt(i.integerValue||i.doubleValue),u=xt(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return e1(t.timestampValue,e.timestampValue);case 4:return e1(Yu(t),Yu(e));case 5:return oy(t.stringValue,e.stringValue);case 6:return function(i,o){const a=Si(i),u=Si(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),u=o.split("/");for(let c=0;c<a.length&&c<u.length;c++){const d=Pe(a[c],u[c]);if(d!==0)return d}return Pe(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=Pe(xt(i.latitude),xt(o.latitude));return a!==0?a:Pe(xt(i.longitude),xt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return t1(t.arrayValue,e.arrayValue);case 10:return function(i,o){var h,_,S,v;const a=i.fields||{},u=o.fields||{},c=(h=a[Qh])==null?void 0:h.arrayValue,d=(_=u[Qh])==null?void 0:_.arrayValue,m=Pe(((S=c==null?void 0:c.values)==null?void 0:S.length)||0,((v=d==null?void 0:d.values)==null?void 0:v.length)||0);return m!==0?m:t1(c,d)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===Id.mapValue&&o===Id.mapValue)return 0;if(i===Id.mapValue)return 1;if(o===Id.mapValue)return-1;const a=i.fields||{},u=Object.keys(a),c=o.fields||{},d=Object.keys(c);u.sort(),d.sort();for(let m=0;m<u.length&&m<d.length;++m){const h=oy(u[m],d[m]);if(h!==0)return h;const _=el(a[u[m]],c[d[m]]);if(_!==0)return _}return Pe(u.length,d.length)}(t.mapValue,e.mapValue);default:throw ge(23264,{he:n})}}function e1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Pe(t,e);const n=Ti(t),r=Ti(e),s=Pe(n.seconds,r.seconds);return s!==0?s:Pe(n.nanos,r.nanos)}function t1(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=el(n[s],r[s]);if(i)return i}return Pe(n.length,r.length)}function tl(t){return ay(t)}function ay(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ti(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Si(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return fe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=ay(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${ay(n.fields[o])}`;return s+"}"}(t.mapValue):ge(61005,{value:t})}function rh(t){switch(bi(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Zf(t);return e?16+rh(e):16;case 5:return 2*t.stringValue.length;case 6:return Si(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+rh(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return Vi(r.fields,(i,o)=>{s+=i.length+rh(o)}),s}(t.mapValue);default:throw ge(13486,{value:t})}}function n1(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function ly(t){return!!t&&"integerValue"in t}function l_(t){return!!t&&"arrayValue"in t}function r1(t){return!!t&&"nullValue"in t}function s1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function sh(t){return!!t&&"mapValue"in t}function YL(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[gA])==null?void 0:r.stringValue)===vA}function _u(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Vi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=_u(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=_u(t.arrayValue.values[n]);return e}return{...t}}function JL(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===yA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this.value=e}static empty(){return new Nn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!sh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=_u(n)}setAll(e){let n=Kt.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=_u(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());sh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return es(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];sh(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Vi(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Nn(_u(this.value))}}function _A(t){const e=[];return Vi(t.fields,(n,r)=>{const s=new Kt([n]);if(sh(r)){const i=_A(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new Wn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new ln(e,0,_e.min(),_e.min(),_e.min(),Nn.empty(),0)}static newFoundDocument(e,n,r,s){return new ln(e,1,n,_e.min(),r,s,0)}static newNoDocument(e,n){return new ln(e,2,n,_e.min(),_e.min(),Nn.empty(),0)}static newUnknownDocument(e,n){return new ln(e,3,n,_e.min(),_e.min(),Nn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(_e.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_e.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ln&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ln(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(e,n){this.position=e,this.inclusive=n}}function i1(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=fe.comparator(fe.fromName(o.referenceValue),n.key):r=el(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function o1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!es(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(e,n="asc"){this.field=e,this.dir=n}}function eF(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{}class Rt extends wA{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new nF(e,n,r):n==="array-contains"?new iF(e,r):n==="in"?new oF(e,r):n==="not-in"?new aF(e,r):n==="array-contains-any"?new lF(e,r):new Rt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new rF(e,r):new sF(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(el(n,this.value)):n!==null&&bi(this.value)===bi(n)&&this.matchesComparison(el(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ge(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Rr extends wA{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Rr(e,n)}matches(e){return xA(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function xA(t){return t.op==="and"}function EA(t){return tF(t)&&xA(t)}function tF(t){for(const e of t.filters)if(e instanceof Rr)return!1;return!0}function uy(t){if(t instanceof Rt)return t.field.canonicalString()+t.op.toString()+tl(t.value);if(EA(t))return t.filters.map(e=>uy(e)).join(",");{const e=t.filters.map(n=>uy(n)).join(",");return`${t.op}(${e})`}}function TA(t,e){return t instanceof Rt?function(r,s){return s instanceof Rt&&r.op===s.op&&r.field.isEqual(s.field)&&es(r.value,s.value)}(t,e):t instanceof Rr?function(r,s){return s instanceof Rr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&TA(o,s.filters[a]),!0):!1}(t,e):void ge(19439)}function SA(t){return t instanceof Rt?function(n){return`${n.field.canonicalString()} ${n.op} ${tl(n.value)}`}(t):t instanceof Rr?function(n){return n.op.toString()+" {"+n.getFilters().map(SA).join(" ,")+"}"}(t):"Filter"}class nF extends Rt{constructor(e,n,r){super(e,n,r),this.key=fe.fromName(r.referenceValue)}matches(e){const n=fe.comparator(e.key,this.key);return this.matchesComparison(n)}}class rF extends Rt{constructor(e,n){super(e,"in",n),this.keys=bA("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class sF extends Rt{constructor(e,n){super(e,"not-in",n),this.keys=bA("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function bA(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>fe.fromName(r.referenceValue))}class iF extends Rt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return l_(n)&&ec(n.arrayValue,this.value)}}class oF extends Rt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ec(this.value.arrayValue,n)}}class aF extends Rt{constructor(e,n){super(e,"not-in",n)}matches(e){if(ec(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ec(this.value.arrayValue,n)}}class lF extends Rt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!l_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ec(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uF{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.Te=null}}function a1(t,e=null,n=[],r=[],s=null,i=null,o=null){return new uF(t,e,n,r,s,i,o)}function u_(t){const e=we(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>uy(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Gf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>tl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>tl(r)).join(",")),e.Te=n}return e.Te}function c_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!eF(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!TA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!o1(t.startAt,e.startAt)&&o1(t.endAt,e.endAt)}function cy(t){return fe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=u,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function cF(t,e,n,r,s,i,o,a){return new yl(t,e,n,r,s,i,o,a)}function CA(t){return new yl(t)}function l1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function AA(t){return t.collectionGroup!==null}function wu(t){const e=we(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Lt(Kt.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new tc(i,r))}),n.has(Kt.keyField().canonicalString())||e.Ie.push(new tc(Kt.keyField(),r))}return e.Ie}function Qr(t){const e=we(t);return e.Ee||(e.Ee=dF(e,wu(t))),e.Ee}function dF(t,e){if(t.limitType==="F")return a1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new tc(s.field,i)});const n=t.endAt?new Kh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Kh(t.startAt.position,t.startAt.inclusive):null;return a1(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function dy(t,e){const n=t.filters.concat([e]);return new yl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Gh(t,e,n){return new yl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Xf(t,e){return c_(Qr(t),Qr(e))&&t.limitType===e.limitType}function RA(t){return`${u_(Qr(t))}|lt:${t.limitType}`}function Qo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>SA(s)).join(", ")}]`),Gf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>tl(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>tl(s)).join(",")),`Target(${r})`}(Qr(t))}; limitType=${t.limitType})`}function Yf(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):fe.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of wu(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,u){const c=i1(o,a,u);return o.inclusive?c<=0:c<0}(r.startAt,wu(r),s)||r.endAt&&!function(o,a,u){const c=i1(o,a,u);return o.inclusive?c>=0:c>0}(r.endAt,wu(r),s))}(t,e)}function hF(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function IA(t){return(e,n)=>{let r=!1;for(const s of wu(t)){const i=fF(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function fF(t,e,n){const r=t.field.isKeyField()?fe.comparator(e.key,n.key):function(i,o,a){const u=o.data.field(i),c=a.data.field(i);return u!==null&&c!==null?el(u,c):ge(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ge(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Vi(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return cA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pF=new ft(fe.comparator);function As(){return pF}const PA=new ft(fe.comparator);function ru(...t){let e=PA;for(const n of t)e=e.insert(n.key,n);return e}function kA(t){let e=PA;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Xi(){return xu()}function NA(){return xu()}function xu(){return new No(t=>t.toString(),(t,e)=>t.isEqual(e))}const mF=new ft(fe.comparator),gF=new Lt(fe.comparator);function ke(...t){let e=gF;for(const n of t)e=e.add(n);return e}const yF=new Lt(Pe);function vF(){return yF}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hh(e)?"-0":e}}function DA(t){return{integerValue:""+t}}function _F(t,e){return QL(e)?DA(e):d_(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf{constructor(){this._=void 0}}function wF(t,e,n){return t instanceof Zh?function(s,i){const o={fields:{[fA]:{stringValue:hA},[mA]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&a_(i)&&(i=Zf(i)),i&&(o.fields[pA]=i),{mapValue:o}}(n,e):t instanceof nc?VA(t,e):t instanceof rc?MA(t,e):function(s,i){const o=OA(s,i),a=u1(o)+u1(s.Ae);return ly(o)&&ly(s.Ae)?DA(a):d_(s.serializer,a)}(t,e)}function xF(t,e,n){return t instanceof nc?VA(t,e):t instanceof rc?MA(t,e):n}function OA(t,e){return t instanceof Xh?function(r){return ly(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Zh extends Jf{}class nc extends Jf{constructor(e){super(),this.elements=e}}function VA(t,e){const n=jA(e);for(const r of t.elements)n.some(s=>es(s,r))||n.push(r);return{arrayValue:{values:n}}}class rc extends Jf{constructor(e){super(),this.elements=e}}function MA(t,e){let n=jA(e);for(const r of t.elements)n=n.filter(s=>!es(s,r));return{arrayValue:{values:n}}}class Xh extends Jf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function u1(t){return xt(t.integerValue||t.doubleValue)}function jA(t){return l_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function EF(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof nc&&s instanceof nc||r instanceof rc&&s instanceof rc?Ya(r.elements,s.elements,es):r instanceof Xh&&s instanceof Xh?es(r.Ae,s.Ae):r instanceof Zh&&s instanceof Zh}(t.transform,e.transform)}class TF{constructor(e,n){this.version=e,this.transformResults=n}}class Kr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Kr}static exists(e){return new Kr(void 0,e)}static updateTime(e){return new Kr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ih(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class ep{}function LA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new UA(t.key,Kr.none()):new Nc(t.key,t.data,Kr.none());{const n=t.data,r=Nn.empty();let s=new Lt(Kt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Mi(t.key,r,new Wn(s.toArray()),Kr.none())}}function SF(t,e,n){t instanceof Nc?function(s,i,o){const a=s.value.clone(),u=d1(s.fieldTransforms,i,o.transformResults);a.setAll(u),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Mi?function(s,i,o){if(!ih(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=d1(s.fieldTransforms,i,o.transformResults),u=i.data;u.setAll(FA(s)),u.setAll(a),i.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Eu(t,e,n,r){return t instanceof Nc?function(i,o,a,u){if(!ih(i.precondition,o))return a;const c=i.value.clone(),d=h1(i.fieldTransforms,u,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Mi?function(i,o,a,u){if(!ih(i.precondition,o))return a;const c=h1(i.fieldTransforms,u,o),d=o.data;return d.setAll(FA(i)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(m=>m.field))}(t,e,n,r):function(i,o,a){return ih(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function bF(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=OA(r.transform,s||null);i!=null&&(n===null&&(n=Nn.empty()),n.set(r.field,i))}return n||null}function c1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Ya(r,s,(i,o)=>EF(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Nc extends ep{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Mi extends ep{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function FA(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function d1(t,e,n){const r=new Map;qe(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,xF(o,a,n[s]))}return r}function h1(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,wF(i,o,e))}return r}class UA extends ep{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class CF extends ep{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AF{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&SF(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Eu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Eu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=NA();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const u=LA(o,a);u!==null&&r.set(s.key,u),o.isValidDocument()||o.convertToNoDocument(_e.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ke())}isEqual(e){return this.batchId===e.batchId&&Ya(this.mutations,e.mutations,(n,r)=>c1(n,r))&&Ya(this.baseMutations,e.baseMutations,(n,r)=>c1(n,r))}}class h_{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){qe(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return mF}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new h_(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RF{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IF{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ct,je;function PF(t){switch(t){case $.OK:return ge(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return ge(15467,{code:t})}}function BA(t){if(t===void 0)return Cs("GRPC error has no .code"),$.UNKNOWN;switch(t){case Ct.OK:return $.OK;case Ct.CANCELLED:return $.CANCELLED;case Ct.UNKNOWN:return $.UNKNOWN;case Ct.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Ct.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Ct.INTERNAL:return $.INTERNAL;case Ct.UNAVAILABLE:return $.UNAVAILABLE;case Ct.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Ct.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Ct.NOT_FOUND:return $.NOT_FOUND;case Ct.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Ct.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Ct.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Ct.ABORTED:return $.ABORTED;case Ct.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Ct.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Ct.DATA_LOSS:return $.DATA_LOSS;default:return ge(39323,{code:t})}}(je=Ct||(Ct={}))[je.OK=0]="OK",je[je.CANCELLED=1]="CANCELLED",je[je.UNKNOWN=2]="UNKNOWN",je[je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",je[je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",je[je.NOT_FOUND=5]="NOT_FOUND",je[je.ALREADY_EXISTS=6]="ALREADY_EXISTS",je[je.PERMISSION_DENIED=7]="PERMISSION_DENIED",je[je.UNAUTHENTICATED=16]="UNAUTHENTICATED",je[je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",je[je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",je[je.ABORTED=10]="ABORTED",je[je.OUT_OF_RANGE=11]="OUT_OF_RANGE",je[je.UNIMPLEMENTED=12]="UNIMPLEMENTED",je[je.INTERNAL=13]="INTERNAL",je[je.UNAVAILABLE=14]="UNAVAILABLE",je[je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kF(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NF=new pi([4294967295,4294967295],0);function f1(t){const e=kF().encode(t),n=new JC;return n.update(e),new Uint8Array(n.digest())}function p1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new pi([n,r],0),new pi([s,i],0)]}class f_{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new su(`Invalid padding: ${n}`);if(r<0)throw new su(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new su(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new su(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=pi.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(pi.fromNumber(r)));return s.compare(NF)===1&&(s=new pi([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=f1(e),[r,s]=p1(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new f_(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;const n=f1(e),[r,s]=p1(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class su extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Dc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new tp(_e.min(),s,new ft(Pe),As(),ke())}}class Dc{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Dc(r,n,ke(),ke(),ke())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class zA{constructor(e,n){this.targetId=e,this.Ce=n}}class $A{constructor(e,n,r=Yt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class m1{constructor(){this.ve=0,this.Fe=g1(),this.Me=Yt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ke(),n=ke(),r=ke();return this.Fe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:ge(38017,{changeType:i})}}),new Dc(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=g1()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,qe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class DF{constructor(e){this.Ge=e,this.ze=new Map,this.je=As(),this.Je=Pd(),this.He=Pd(),this.Ye=new ft(Pe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:ge(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(cy(i))if(r===0){const o=new fe(i.path);this.et(n,o,ln.newNoDocument(o,_e.min()))}else qe(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(e),u=a?this.ct(a,e,o):1;if(u!==0){this.it(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,c)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=Si(r).toUint8Array()}catch(u){if(u instanceof dA)return Xa("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new f_(o,s,i)}catch(u){return Xa(u instanceof su?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.et(n,i,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((i,o)=>{const a=this.ot(o);if(a){if(i.current&&cy(a.target)){const u=new fe(a.target.path);this.It(u).has(o)||this.Et(o,u)||this.et(o,u,ln.newNoDocument(u,e))}i.Be&&(n.set(o,i.ke()),i.qe())}});let r=ke();this.He.forEach((i,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.ot(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.je.forEach((i,o)=>o.setReadTime(e));const s=new tp(e,n,this.Ye,this.je,r);return this.je=As(),this.Je=Pd(),this.He=Pd(),this.Ye=new ft(Pe),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new m1,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Lt(Pe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Lt(Pe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||se("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new m1),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Pd(){return new ft(fe.comparator)}function g1(){return new ft(fe.comparator)}const OF={asc:"ASCENDING",desc:"DESCENDING"},VF={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},MF={and:"AND",or:"OR"};class jF{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function hy(t,e){return t.useProto3Json||Gf(e)?e:{value:e}}function Yh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function WA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function LF(t,e){return Yh(t,e.toTimestamp())}function Gr(t){return qe(!!t,49232),_e.fromTimestamp(function(n){const r=Ti(n);return new rt(r.seconds,r.nanos)}(t))}function p_(t,e){return fy(t,e).canonicalString()}function fy(t,e){const n=function(s){return new Xe(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function HA(t){const e=Xe.fromString(t);return qe(ZA(e),10190,{key:e.toString()}),e}function py(t,e){return p_(t.databaseId,e.path)}function Em(t,e){const n=HA(e);if(n.get(1)!==t.databaseId.projectId)throw new ee($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ee($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new fe(QA(n))}function qA(t,e){return p_(t.databaseId,e)}function FF(t){const e=HA(t);return e.length===4?Xe.emptyPath():QA(e)}function my(t){return new Xe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function QA(t){return qe(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function y1(t,e,n){return{name:py(t,e),fields:n.value.mapValue.fields}}function UF(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ge(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(c,d){return c.useProto3Json?(qe(d===void 0||typeof d=="string",58123),Yt.fromBase64String(d||"")):(qe(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),Yt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const d=c.code===void 0?$.UNKNOWN:BA(c.code);return new ee(d,c.message||"")}(o);n=new $A(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Em(t,r.document.name),i=Gr(r.document.updateTime),o=r.document.createTime?Gr(r.document.createTime):_e.min(),a=new Nn({mapValue:{fields:r.document.fields}}),u=ln.newFoundDocument(s,i,o,a),c=r.targetIds||[],d=r.removedTargetIds||[];n=new oh(c,d,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Em(t,r.document),i=r.readTime?Gr(r.readTime):_e.min(),o=ln.newNoDocument(s,i),a=r.removedTargetIds||[];n=new oh([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Em(t,r.document),i=r.removedTargetIds||[];n=new oh([],i,s,null)}else{if(!("filter"in e))return ge(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new IF(s,i),a=r.targetId;n=new zA(a,o)}}return n}function BF(t,e){let n;if(e instanceof Nc)n={update:y1(t,e.key,e.value)};else if(e instanceof UA)n={delete:py(t,e.key)};else if(e instanceof Mi)n={update:y1(t,e.key,e.data),updateMask:ZF(e.fieldMask)};else{if(!(e instanceof CF))return ge(16599,{Vt:e.type});n={verify:py(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof Zh)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof nc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof rc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Xh)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw ge(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:LF(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ge(27497)}(t,e.precondition)),n}function zF(t,e){return t&&t.length>0?(qe(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?Gr(s.updateTime):Gr(i);return o.isEqual(_e.min())&&(o=Gr(i)),new TF(o,s.transformResults||[])}(n,e))):[]}function $F(t,e){return{documents:[qA(t,e.path)]}}function WF(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=qA(t,s);const i=function(c){if(c.length!==0)return GA(Rr.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(c){if(c.length!==0)return c.map(d=>function(h){return{field:Ko(h.field),direction:QF(h.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=hy(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ft:n,parent:s}}function HF(t){let e=FF(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){qe(r===1,65062);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=function(m){const h=KA(m);return h instanceof Rr&&EA(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(m){return m.map(h=>function(S){return new tc(Go(S.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(m){let h;return h=typeof m=="object"?m.value:m,Gf(h)?null:h}(n.limit));let u=null;n.startAt&&(u=function(m){const h=!!m.before,_=m.values||[];return new Kh(_,h)}(n.startAt));let c=null;return n.endAt&&(c=function(m){const h=!m.before,_=m.values||[];return new Kh(_,h)}(n.endAt)),cF(e,s,o,i,a,"F",u,c)}function qF(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ge(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function KA(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Go(n.unaryFilter.field);return Rt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Go(n.unaryFilter.field);return Rt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Go(n.unaryFilter.field);return Rt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Go(n.unaryFilter.field);return Rt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ge(61313);default:return ge(60726)}}(t):t.fieldFilter!==void 0?function(n){return Rt.create(Go(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ge(58110);default:return ge(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Rr.create(n.compositeFilter.filters.map(r=>KA(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ge(1026)}}(n.compositeFilter.op))}(t):ge(30097,{filter:t})}function QF(t){return OF[t]}function KF(t){return VF[t]}function GF(t){return MF[t]}function Ko(t){return{fieldPath:t.canonicalString()}}function Go(t){return Kt.fromServerFormat(t.fieldPath)}function GA(t){return t instanceof Rt?function(n){if(n.op==="=="){if(s1(n.value))return{unaryFilter:{field:Ko(n.field),op:"IS_NAN"}};if(r1(n.value))return{unaryFilter:{field:Ko(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(s1(n.value))return{unaryFilter:{field:Ko(n.field),op:"IS_NOT_NAN"}};if(r1(n.value))return{unaryFilter:{field:Ko(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ko(n.field),op:KF(n.op),value:n.value}}}(t):t instanceof Rr?function(n){const r=n.getFilters().map(s=>GA(s));return r.length===1?r[0]:{compositeFilter:{op:GF(n.op),filters:r}}}(t):ge(54877,{filter:t})}function ZF(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function ZA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(e,n,r,s,i=_e.min(),o=_e.min(),a=Yt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new ni(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ni(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ni(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ni(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XF{constructor(e){this.yt=e}}function YF(t){const e=HF({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Gh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JF{constructor(){this.Cn=new e6}addToCollectionParentIndex(e,n){return this.Cn.add(n),W.resolve()}getCollectionParents(e,n){return W.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return W.resolve()}deleteFieldIndex(e,n){return W.resolve()}deleteAllFieldIndexes(e){return W.resolve()}createTargetIndexes(e,n){return W.resolve()}getDocumentsMatchingTarget(e,n){return W.resolve(null)}getIndexType(e,n){return W.resolve(0)}getFieldIndexes(e,n){return W.resolve([])}getNextCollectionGroupToUpdate(e){return W.resolve(null)}getMinOffset(e,n){return W.resolve(Ei.min())}getMinOffsetFromCollectionGroup(e,n){return W.resolve(Ei.min())}updateCollectionGroup(e,n,r){return W.resolve()}updateIndexEntries(e,n){return W.resolve()}}class e6{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Lt(Xe.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Lt(Xe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},XA=41943040;class Pn{static withCacheSize(e){return new Pn(e,Pn.DEFAULT_COLLECTION_PERCENTILE,Pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pn.DEFAULT_COLLECTION_PERCENTILE=10,Pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Pn.DEFAULT=new Pn(XA,Pn.DEFAULT_COLLECTION_PERCENTILE,Pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Pn.DISABLED=new Pn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new nl(0)}static cr(){return new nl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _1="LruGarbageCollector",t6=1048576;function w1([t,e],[n,r]){const s=Pe(t,n);return s===0?Pe(e,r):s}class n6{constructor(e){this.Ir=e,this.buffer=new Lt(w1),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();w1(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class r6{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){se(_1,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){gl(n)?se(_1,"Ignoring IndexedDB error during garbage collection: ",n):await ml(n)}await this.Vr(3e5)})}}class s6{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return W.resolve(Kf.ce);const r=new n6(n);return this.mr.forEachTarget(e,s=>r.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>r.Ar(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(se("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(v1)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(se("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),v1):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,i,o,a,u,c;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(m=>(m>this.params.maximumSequenceNumbersToCollect?(se("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),s=this.params.maximumSequenceNumbersToCollect):s=m,o=Date.now(),this.nthSequenceNumber(e,s))).next(m=>(r=m,a=Date.now(),this.removeTargets(e,r,n))).next(m=>(i=m,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(m=>(c=Date.now(),qo()<=Le.DEBUG&&se("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(u-a)+`ms
	Removed ${m} documents in `+(c-u)+`ms
Total Duration: ${c-d}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:m})))}}function i6(t,e){return new s6(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o6{constructor(){this.changes=new No(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ln.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?W.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a6{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l6{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Eu(r.mutation,s,Wn.empty(),rt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ke()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ke()){const s=Xi();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=ru();return i.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Xi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ke()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=As();const o=xu(),a=function(){return xu()}();return n.forEach((u,c)=>{const d=r.get(c.key);s.has(c.key)&&(d===void 0||d.mutation instanceof Mi)?i=i.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),Eu(d.mutation,c,d.mutation.getFieldMask(),rt.now())):o.set(c.key,Wn.empty())}),this.recalculateAndSaveOverlays(e,i).next(u=>(u.forEach((c,d)=>o.set(c,d)),n.forEach((c,d)=>a.set(c,new a6(d,o.get(c)??null))),a))}recalculateAndSaveOverlays(e,n){const r=xu();let s=new ft((o,a)=>o-a),i=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let d=r.get(u)||Wn.empty();d=a.applyToLocalView(c,d),r.set(u,d);const m=(s.get(a.batchId)||ke()).add(u);s=s.insert(a.batchId,m)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,d=u.value,m=NA();d.forEach(h=>{if(!i.has(h)){const _=LA(n.get(h),r.get(h));_!==null&&m.set(h,_),i=i.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,m))}return W.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return fe.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):AA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):W.resolve(Xi());let a=Xu,u=i;return o.next(c=>W.forEach(c,(d,m)=>(a<m.largestBatchId&&(a=m.largestBatchId),i.get(d)?W.resolve():this.remoteDocumentCache.getEntry(e,d).next(h=>{u=u.insert(d,h)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,u,c,ke())).next(d=>({batchId:a,changes:kA(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new fe(n)).next(r=>{let s=ru();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=ru();return this.indexManager.getCollectionParents(e,i).next(a=>W.forEach(a,u=>{const c=function(m,h){return new yl(h,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,u.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,r,s).next(d=>{d.forEach((m,h)=>{o=o.insert(m,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((u,c)=>{const d=c.getKey();o.get(d)===null&&(o=o.insert(d,ln.newInvalidDocument(d)))});let a=ru();return o.forEach((u,c)=>{const d=i.get(u);d!==void 0&&Eu(d.mutation,c,Wn.empty(),rt.now()),Yf(n,c)&&(a=a.insert(u,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u6{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return W.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Gr(s.createTime)}}(n)),W.resolve()}getNamedQuery(e,n){return W.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(s){return{name:s.name,query:YF(s.bundledQuery),readTime:Gr(s.readTime)}}(n)),W.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c6{constructor(){this.overlays=new ft(fe.comparator),this.qr=new Map}getOverlay(e,n){return W.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Xi();return W.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.St(e,n,i)}),W.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.qr.delete(r)),W.resolve()}getOverlaysForCollection(e,n,r){const s=Xi(),i=n.length+1,o=new fe(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&u.largestBatchId>r&&s.set(u.getKey(),u)}return W.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new ft((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=i.get(c.largestBatchId);d===null&&(d=Xi(),i=i.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=Xi(),u=i.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=s)););return W.resolve(a)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new RF(n,r));let i=this.qr.get(n);i===void 0&&(i=ke(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d6{constructor(){this.sessionToken=Yt.EMPTY_BYTE_STRING}getSessionToken(e){return W.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,W.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m_{constructor(){this.Qr=new Lt(Ut.$r),this.Ur=new Lt(Ut.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Ut(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new Ut(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new fe(new Xe([])),r=new Ut(n,e),s=new Ut(n,e+1),i=[];return this.Ur.forEachInRange([r,s],o=>{this.Gr(o),i.push(o.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new fe(new Xe([])),r=new Ut(n,e),s=new Ut(n,e+1);let i=ke();return this.Ur.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new Ut(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ut{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return fe.comparator(e.key,n.key)||Pe(e.Yr,n.Yr)}static Kr(e,n){return Pe(e.Yr,n.Yr)||fe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h6{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Lt(Ut.$r)}checkEmpty(e){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new AF(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Zr=this.Zr.add(new Ut(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return W.resolve(o)}lookupMutationBatch(e,n){return W.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return W.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?o_:this.tr-1)}getAllMutationBatches(e){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ut(n,0),s=new Ut(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],o=>{const a=this.Xr(o.Yr);i.push(a)}),W.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Lt(Pe);return n.forEach(s=>{const i=new Ut(s,0),o=new Ut(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,o],a=>{r=r.add(a.Yr)})}),W.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;fe.isDocumentKey(i)||(i=i.child(""));const o=new Ut(new fe(i),0);let a=new Lt(Pe);return this.Zr.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(a=a.add(u.Yr)),!0)},o),W.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(r=>{const s=this.Xr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){qe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return W.forEach(n.mutations,s=>{const i=new Ut(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new Ut(n,0),s=this.Zr.firstAfterOrEqual(r);return W.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,W.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f6{constructor(e){this.ri=e,this.docs=function(){return new ft(fe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return W.resolve(r?r.document.mutableCopy():ln.newInvalidDocument(n))}getEntries(e,n){let r=As();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():ln.newInvalidDocument(s))}),W.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=As();const o=n.path,a=new fe(o.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:d}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||$L(zL(d),r)<=0||(s.has(d.key)||Yf(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return W.resolve(i)}getAllFromCollectionGroup(e,n,r,s){ge(9500)}ii(e,n){return W.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new p6(this)}getSize(e){return W.resolve(this.size)}}class p6 extends o6{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)}),W.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m6{constructor(e){this.persistence=e,this.si=new No(n=>u_(n),c_),this.lastRemoteSnapshotVersion=_e.min(),this.highestTargetId=0,this.oi=0,this._i=new m_,this.targetCount=0,this.ai=nl.ur()}forEachTarget(e,n){return this.si.forEach((r,s)=>n(s)),W.resolve()}getLastRemoteSnapshotVersion(e){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return W.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),W.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new nl(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,W.resolve()}updateTargetData(e,n){return this.Pr(n),W.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,W.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.si.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),W.waitFor(i).next(()=>s)}getTargetCount(e){return W.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return W.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),W.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),W.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),W.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return W.resolve(r)}containsKey(e,n){return W.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(e,n){this.ui={},this.overlays={},this.ci=new Kf(0),this.li=!1,this.li=!0,this.hi=new d6,this.referenceDelegate=e(this),this.Pi=new m6(this),this.indexManager=new JF,this.remoteDocumentCache=function(s){return new f6(s)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new XF(n),this.Ii=new u6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new c6,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new h6(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){se("MemoryPersistence","Starting transaction:",e);const s=new g6(this.ci.next());return this.referenceDelegate.Ei(),r(s).next(i=>this.referenceDelegate.di(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ai(e,n){return W.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class g6 extends HL{constructor(e){super(),this.currentSequenceNumber=e}}class g_{constructor(e){this.persistence=e,this.Ri=new m_,this.Vi=null}static mi(e){return new g_(e)}get fi(){if(this.Vi)return this.Vi;throw ge(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),W.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),W.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),W.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(s=>this.fi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.fi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.fi,r=>{const s=fe.fromPath(r);return this.gi(e,s).next(i=>{i||n.removeEntry(s,_e.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return W.or([()=>W.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Jh{constructor(e,n){this.persistence=e,this.pi=new No(r=>KL(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=i6(this,n)}static mi(e,n){return new Jh(e,n)}Ei(){}di(e){return W.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return W.forEach(this.pi,(r,s)=>this.br(e,r,s).next(i=>i?W.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,o=>this.br(e,o,n).next(a=>{a||(r++,i.removeEntry(o,_e.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),W.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),W.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),W.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),W.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=rh(e.data.value)),n}br(e,n,r){return W.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return W.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y_{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=ke(),s=ke();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new y_(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v6{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return fj()?8:qL(dj())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ys(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ws(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new y6;return this.Ss(e,n,o).next(a=>{if(i.result=a,this.Vs)return this.bs(e,n,o,a.size)})}).next(()=>i.result)}bs(e,n,r,s){return r.documentReadCount<this.fs?(qo()<=Le.DEBUG&&se("QueryEngine","SDK will not create cache indexes for query:",Qo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),W.resolve()):(qo()<=Le.DEBUG&&se("QueryEngine","Query:",Qo(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(qo()<=Le.DEBUG&&se("QueryEngine","The SDK decides to create cache indexes for query:",Qo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Qr(n))):W.resolve())}ys(e,n){if(l1(n))return W.resolve(null);let r=Qr(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Gh(n,null,"F"),r=Qr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=ke(...i);return this.ps.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.Ds(n,a);return this.Cs(n,c,o,u.readTime)?this.ys(e,Gh(n,null,"F")):this.vs(e,c,n,u)}))})))}ws(e,n,r,s){return l1(n)||s.isEqual(_e.min())?W.resolve(null):this.ps.getDocuments(e,r).next(i=>{const o=this.Ds(n,i);return this.Cs(n,o,r,s)?W.resolve(null):(qo()<=Le.DEBUG&&se("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Qo(n)),this.vs(e,o,n,BL(s,Xu)).next(a=>a))})}Ds(e,n){let r=new Lt(IA(e));return n.forEach((s,i)=>{Yf(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return qo()<=Le.DEBUG&&se("QueryEngine","Using full collection scan to execute query:",Qo(n)),this.ps.getDocumentsMatchingQuery(e,n,Ei.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v_="LocalStore",_6=3e8;class w6{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new ft(Pe),this.xs=new No(i=>u_(i),c_),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new l6(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function x6(t,e,n,r){return new w6(t,e,n,r)}async function JA(t,e){const n=we(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let u=ke();for(const c of s){o.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}for(const c of i){a.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}return n.localDocuments.getDocuments(r,u).next(c=>({Ls:c,removedBatchIds:o,addedBatchIds:a}))})})}function E6(t,e){const n=we(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,u,c,d){const m=c.batch,h=m.keys();let _=W.resolve();return h.forEach(S=>{_=_.next(()=>d.getEntry(u,S)).next(v=>{const E=c.docVersions.get(S);qe(E!==null,48541),v.version.compareTo(E)<0&&(m.applyToRemoteDocument(v,c),v.isValidDocument()&&(v.setReadTime(c.commitVersion),d.addEntry(v)))})}),_.next(()=>a.mutationQueue.removeMutationBatch(u,m))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=ke();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(u=u.add(a.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function eR(t){const e=we(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function T6(t,e){const n=we(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const a=[];e.targetChanges.forEach((d,m)=>{const h=s.get(m);if(!h)return;a.push(n.Pi.removeMatchingKeys(i,d.removedDocuments,m).next(()=>n.Pi.addMatchingKeys(i,d.addedDocuments,m)));let _=h.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(m)!==null?_=_.withResumeToken(Yt.EMPTY_BYTE_STRING,_e.min()).withLastLimboFreeSnapshotVersion(_e.min()):d.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(d.resumeToken,r)),s=s.insert(m,_),function(v,E,w){return v.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=_6?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(h,_,d)&&a.push(n.Pi.updateTargetData(i,_))});let u=As(),c=ke();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),a.push(S6(i,o,e.documentUpdates).next(d=>{u=d.ks,c=d.qs})),!r.isEqual(_e.min())){const d=n.Pi.getLastRemoteSnapshotVersion(i).next(m=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(d)}return W.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,u,c)).next(()=>u)}).then(i=>(n.Ms=s,i))}function S6(t,e,n){let r=ke(),s=ke();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=As();return n.forEach((a,u)=>{const c=i.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),u.isNoDocument()&&u.version.isEqual(_e.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):se(v_,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{ks:o,qs:s}})}function b6(t,e){const n=we(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=o_),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function C6(t,e){const n=we(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Pi.getTargetData(r,e).next(i=>i?(s=i,W.resolve(s)):n.Pi.allocateTargetId(r).next(o=>(s=new ni(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function gy(t,e,n){const r=we(t),s=r.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!gl(o))throw o;se(v_,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function x1(t,e,n){const r=we(t);let s=_e.min(),i=ke();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,c,d){const m=we(u),h=m.xs.get(d);return h!==void 0?W.resolve(m.Ms.get(h)):m.Pi.getTargetData(c,d)}(r,o,Qr(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,a.targetId).next(u=>{i=u})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,n?s:_e.min(),n?i:ke())).next(a=>(A6(r,hF(e),a),{documents:a,Qs:i})))}function A6(t,e,n){let r=t.Os.get(e)||_e.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Os.set(e,r)}class E1{constructor(){this.activeTargetIds=vF()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class R6{constructor(){this.Mo=new E1,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new E1,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I6{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T1="ConnectivityMonitor";class S1{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){se(T1,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){se(T1,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kd=null;function yy(){return kd===null?kd=function(){return 268435456+Math.round(2147483648*Math.random())}():kd++,"0x"+kd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tm="RestConnection",P6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class k6{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===qh?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,i){const o=yy(),a=this.zo(e,n.toUriEncodedString());se(Tm,`Sending RPC '${e}' ${o}:`,a,r);const u={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(u,s,i);const{host:c}=new URL(a),d=Pc(c);return this.Jo(e,a,u,r,d).then(m=>(se(Tm,`Received RPC '${e}' ${o}: `,m),m),m=>{throw Xa(Tm,`RPC '${e}' ${o} failed with error: `,m,"url: ",a,"request:",r),m})}Ho(e,n,r,s,i,o){return this.Go(e,n,r,s,i)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+pl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}zo(e,n){const r=P6[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N6{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rn="WebChannelConnection";class D6 extends k6{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const o=yy();return new Promise((a,u)=>{const c=new eA;c.setWithCredentials(!0),c.listenOnce(tA.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case nh.NO_ERROR:const m=c.getResponseJson();se(rn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(m)),a(m);break;case nh.TIMEOUT:se(rn,`RPC '${e}' ${o} timed out`),u(new ee($.DEADLINE_EXCEEDED,"Request time out"));break;case nh.HTTP_ERROR:const h=c.getStatus();if(se(rn,`RPC '${e}' ${o} failed with status:`,h,"response text:",c.getResponseText()),h>0){let _=c.getResponseJson();Array.isArray(_)&&(_=_[0]);const S=_==null?void 0:_.error;if(S&&S.status&&S.message){const v=function(w){const y=w.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(y)>=0?y:$.UNKNOWN}(S.status);u(new ee(v,S.message))}else u(new ee($.UNKNOWN,"Server responded with status "+c.getStatus()))}else u(new ee($.UNAVAILABLE,"Connection failed."));break;default:ge(9055,{l_:e,streamId:o,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{se(rn,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(s);se(rn,`RPC '${e}' ${o} sending request:`,s),c.send(n,"POST",d,r,15)})}T_(e,n,r){const s=yy(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=sA(),a=rA(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.jo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const d=i.join("");se(rn,`Creating RPC '${e}' stream ${s}: ${d}`,u);const m=o.createWebChannel(d,u);this.I_(m);let h=!1,_=!1;const S=new N6({Yo:E=>{_?se(rn,`Not sending because RPC '${e}' stream ${s} is closed:`,E):(h||(se(rn,`Opening RPC '${e}' stream ${s} transport.`),m.open(),h=!0),se(rn,`RPC '${e}' stream ${s} sending:`,E),m.send(E))},Zo:()=>m.close()}),v=(E,w,y)=>{E.listen(w,x=>{try{y(x)}catch(k){setTimeout(()=>{throw k},0)}})};return v(m,nu.EventType.OPEN,()=>{_||(se(rn,`RPC '${e}' stream ${s} transport opened.`),S.o_())}),v(m,nu.EventType.CLOSE,()=>{_||(_=!0,se(rn,`RPC '${e}' stream ${s} transport closed`),S.a_(),this.E_(m))}),v(m,nu.EventType.ERROR,E=>{_||(_=!0,Xa(rn,`RPC '${e}' stream ${s} transport errored. Name:`,E.name,"Message:",E.message),S.a_(new ee($.UNAVAILABLE,"The operation could not be completed")))}),v(m,nu.EventType.MESSAGE,E=>{var w;if(!_){const y=E.data[0];qe(!!y,16349);const x=y,k=(x==null?void 0:x.error)||((w=x[0])==null?void 0:w.error);if(k){se(rn,`RPC '${e}' stream ${s} received error:`,k);const V=k.status;let L=function(A){const P=Ct[A];if(P!==void 0)return BA(P)}(V),C=k.message;L===void 0&&(L=$.INTERNAL,C="Unknown error status: "+V+" with message "+k.message),_=!0,S.a_(new ee(L,C)),m.close()}else se(rn,`RPC '${e}' stream ${s} received:`,y),S.u_(y)}}),v(a,nA.STAT_EVENT,E=>{E.stat===iy.PROXY?se(rn,`RPC '${e}' stream ${s} detected buffering proxy`):E.stat===iy.NOPROXY&&se(rn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{S.__()},0),S}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Sm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function np(t){return new jF(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&se("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b1="PersistentStream";class nR{constructor(e,n,r,s,i,o,a,u){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new tR(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(Cs(n.toString()),Cs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new ee($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return se(b1,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(se(b1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class O6 extends nR{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=UF(this.serializer,e),r=function(i){if(!("targetChange"in i))return _e.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?_e.min():o.readTime?Gr(o.readTime):_e.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=my(this.serializer),n.addTarget=function(i,o){let a;const u=o.target;if(a=cy(u)?{documents:$F(i,u)}:{query:WF(i,u).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=WA(i,o.resumeToken);const c=hy(i,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(_e.min())>0){a.readTime=Yh(i,o.snapshotVersion.toTimestamp());const c=hy(i,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=qF(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=my(this.serializer),n.removeTarget=e,this.q_(n)}}class V6 extends nR{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return qe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,qe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){qe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=zF(e.writeResults,e.commitTime),r=Gr(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=my(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>BF(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M6{}class j6 extends M6{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new ee($.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Go(e,fy(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ee($.UNKNOWN,i.toString())})}Ho(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Ho(e,fy(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ee($.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class L6{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Cs(n),this.aa=!1):se("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eo="RemoteStore";class F6{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{Do(this)&&(se(Eo,"Restarting streams for network reachability change."),await async function(u){const c=we(u);c.Ea.add(4),await Oc(c),c.Ra.set("Unknown"),c.Ea.delete(4),await rp(c)}(this))})}),this.Ra=new L6(r,s)}}async function rp(t){if(Do(t))for(const e of t.da)await e(!0)}async function Oc(t){for(const e of t.da)await e(!1)}function rR(t,e){const n=we(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),E_(n)?x_(n):vl(n).O_()&&w_(n,e))}function __(t,e){const n=we(t),r=vl(n);n.Ia.delete(e),r.O_()&&sR(n,e),n.Ia.size===0&&(r.O_()?r.L_():Do(n)&&n.Ra.set("Unknown"))}function w_(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(_e.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}vl(t).Y_(e)}function sR(t,e){t.Va.Ue(e),vl(t).Z_(e)}function x_(t){t.Va=new DF({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),vl(t).start(),t.Ra.ua()}function E_(t){return Do(t)&&!vl(t).x_()&&t.Ia.size>0}function Do(t){return we(t).Ea.size===0}function iR(t){t.Va=void 0}async function U6(t){t.Ra.set("Online")}async function B6(t){t.Ia.forEach((e,n)=>{w_(t,e)})}async function z6(t,e){iR(t),E_(t)?(t.Ra.ha(e),x_(t)):t.Ra.set("Unknown")}async function $6(t,e,n){if(t.Ra.set("Online"),e instanceof $A&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.Ia.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.Ia.delete(a),s.Va.removeTarget(a))}(t,e)}catch(r){se(Eo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ef(t,r)}else if(e instanceof oh?t.Va.Ze(e):e instanceof zA?t.Va.st(e):t.Va.tt(e),!n.isEqual(_e.min()))try{const r=await eR(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Va.Tt(o);return a.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const d=i.Ia.get(c);d&&i.Ia.set(c,d.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,c)=>{const d=i.Ia.get(u);if(!d)return;i.Ia.set(u,d.withResumeToken(Yt.EMPTY_BYTE_STRING,d.snapshotVersion)),sR(i,u);const m=new ni(d.target,u,c,d.sequenceNumber);w_(i,m)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){se(Eo,"Failed to raise snapshot:",r),await ef(t,r)}}async function ef(t,e,n){if(!gl(e))throw e;t.Ea.add(1),await Oc(t),t.Ra.set("Offline"),n||(n=()=>eR(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{se(Eo,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await rp(t)})}function oR(t,e){return e().catch(n=>ef(t,n,e))}async function sp(t){const e=we(t),n=Ci(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:o_;for(;W6(e);)try{const s=await b6(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,H6(e,s)}catch(s){await ef(e,s)}aR(e)&&lR(e)}function W6(t){return Do(t)&&t.Ta.length<10}function H6(t,e){t.Ta.push(e);const n=Ci(t);n.O_()&&n.X_&&n.ea(e.mutations)}function aR(t){return Do(t)&&!Ci(t).x_()&&t.Ta.length>0}function lR(t){Ci(t).start()}async function q6(t){Ci(t).ra()}async function Q6(t){const e=Ci(t);for(const n of t.Ta)e.ea(n.mutations)}async function K6(t,e,n){const r=t.Ta.shift(),s=h_.from(r,e,n);await oR(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await sp(t)}async function G6(t,e){e&&Ci(t).X_&&await async function(r,s){if(function(o){return PF(o)&&o!==$.ABORTED}(s.code)){const i=r.Ta.shift();Ci(r).B_(),await oR(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await sp(r)}}(t,e),aR(t)&&lR(t)}async function C1(t,e){const n=we(t);n.asyncQueue.verifyOperationInProgress(),se(Eo,"RemoteStore received new credentials");const r=Do(n);n.Ea.add(3),await Oc(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await rp(n)}async function Z6(t,e){const n=we(t);e?(n.Ea.delete(2),await rp(n)):e||(n.Ea.add(2),await Oc(n),n.Ra.set("Unknown"))}function vl(t){return t.ma||(t.ma=function(n,r,s){const i=we(n);return i.sa(),new O6(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:U6.bind(null,t),t_:B6.bind(null,t),r_:z6.bind(null,t),H_:$6.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),E_(t)?x_(t):t.Ra.set("Unknown")):(await t.ma.stop(),iR(t))})),t.ma}function Ci(t){return t.fa||(t.fa=function(n,r,s){const i=we(n);return i.sa(),new V6(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:q6.bind(null,t),r_:G6.bind(null,t),ta:Q6.bind(null,t),na:K6.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await sp(t)):(await t.fa.stop(),t.Ta.length>0&&(se(Eo,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T_{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new mi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new T_(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ee($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function S_(t,e){if(Cs("AsyncQueue",`${e}: ${t}`),gl(t))return new ee($.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{static emptySet(e){return new wa(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||fe.comparator(n.key,r.key):(n,r)=>fe.comparator(n.key,r.key),this.keyedMap=ru(),this.sortedSet=new ft(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof wa)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new wa;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{constructor(){this.ga=new ft(fe.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ge(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class rl{constructor(e,n,r,s,i,o,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new rl(e,n,wa.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Xf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X6{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class Y6{constructor(){this.queries=R1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=we(n),i=s.queries;s.queries=R1(),i.forEach((o,a)=>{for(const u of a.Sa)u.onError(r)})})(this,new ee($.ABORTED,"Firestore shutting down"))}}function R1(){return new No(t=>RA(t),Xf)}async function J6(t,e){const n=we(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new X6,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=S_(o,`Initialization of query '${Qo(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&b_(n)}async function e3(t,e){const n=we(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function t3(t,e){const n=we(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.Sa)a.Fa(s)&&(r=!0);o.wa=s}}r&&b_(n)}function n3(t,e,n){const r=we(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function b_(t){t.Ca.forEach(e=>{e.next()})}var vy,I1;(I1=vy||(vy={})).Ma="default",I1.Cache="cache";class r3{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new rl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=rl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==vy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(e){this.key=e}}class cR{constructor(e){this.key=e}}class s3{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ke(),this.mutatedKeys=ke(),this.eu=IA(e),this.tu=new wa(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new A1,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const u=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,m)=>{const h=s.get(d),_=Yf(this.query,m)?m:null,S=!!h&&this.mutatedKeys.has(h.key),v=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let E=!1;h&&_?h.data.isEqual(_.data)?S!==v&&(r.track({type:3,doc:_}),E=!0):this.su(h,_)||(r.track({type:2,doc:_}),E=!0,(u&&this.eu(_,u)>0||c&&this.eu(_,c)<0)&&(a=!0)):!h&&_?(r.track({type:0,doc:_}),E=!0):h&&!_&&(r.track({type:1,doc:h}),E=!0,(u||c)&&(a=!0)),E&&(_?(o=o.add(_),i=v?i.add(d):i.delete(d)):(o=o.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{tu:o,iu:r,Cs:a,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((d,m)=>function(_,S){const v=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ge(20277,{Rt:E})}};return v(_)-v(S)}(d.type,m.type)||this.eu(d.doc,m.doc)),this.ou(r),s=s??!1;const a=n&&!s?this._u():[],u=this.Xa.size===0&&this.current&&!s?1:0,c=u!==this.Za;return this.Za=u,o.length!==0||c?{snapshot:new rl(this.query,e.tu,i,o,e.mutatedKeys,u===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new A1,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ke(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new cR(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new uR(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=ke();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return rl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const C_="SyncEngine";class i3{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class o3{constructor(e){this.key=e,this.hu=!1}}class a3{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new No(a=>RA(a),Xf),this.Iu=new Map,this.Eu=new Set,this.du=new ft(fe.comparator),this.Au=new Map,this.Ru=new m_,this.Vu={},this.mu=new Map,this.fu=nl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function l3(t,e,n=!0){const r=gR(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await dR(r,e,n,!0),s}async function u3(t,e){const n=gR(t);await dR(n,e,!0,!1)}async function dR(t,e,n,r){const s=await C6(t.localStore,Qr(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await c3(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&rR(t.remoteStore,s),a}async function c3(t,e,n,r,s){t.pu=(m,h,_)=>async function(v,E,w,y){let x=E.view.ru(w);x.Cs&&(x=await x1(v.localStore,E.query,!1).then(({documents:C})=>E.view.ru(C,x)));const k=y&&y.targetChanges.get(E.targetId),V=y&&y.targetMismatches.get(E.targetId)!=null,L=E.view.applyChanges(x,v.isPrimaryClient,k,V);return k1(v,E.targetId,L.au),L.snapshot}(t,m,h,_);const i=await x1(t.localStore,e,!0),o=new s3(e,i.Qs),a=o.ru(i.documents),u=Dc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),c=o.applyChanges(a,t.isPrimaryClient,u);k1(t,n,c.au);const d=new i3(e,n,o);return t.Tu.set(e,d),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),c.snapshot}async function d3(t,e,n){const r=we(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter(o=>!Xf(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await gy(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&__(r.remoteStore,s.targetId),_y(r,s.targetId)}).catch(ml)):(_y(r,s.targetId),await gy(r.localStore,s.targetId,!0))}async function h3(t,e){const n=we(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),__(n.remoteStore,r.targetId))}async function f3(t,e,n){const r=w3(t);try{const s=await function(o,a){const u=we(o),c=rt.now(),d=a.reduce((_,S)=>_.add(S.key),ke());let m,h;return u.persistence.runTransaction("Locally write mutations","readwrite",_=>{let S=As(),v=ke();return u.Ns.getEntries(_,d).next(E=>{S=E,S.forEach((w,y)=>{y.isValidDocument()||(v=v.add(w))})}).next(()=>u.localDocuments.getOverlayedDocuments(_,S)).next(E=>{m=E;const w=[];for(const y of a){const x=bF(y,m.get(y.key).overlayedDocument);x!=null&&w.push(new Mi(y.key,x,_A(x.value.mapValue),Kr.exists(!0)))}return u.mutationQueue.addMutationBatch(_,c,w,a)}).next(E=>{h=E;const w=E.applyToLocalDocumentSet(m,v);return u.documentOverlayCache.saveOverlays(_,E.batchId,w)})}).then(()=>({batchId:h.batchId,changes:kA(m)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,u){let c=o.Vu[o.currentUser.toKey()];c||(c=new ft(Pe)),c=c.insert(a,u),o.Vu[o.currentUser.toKey()]=c}(r,s.batchId,n),await Vc(r,s.changes),await sp(r.remoteStore)}catch(s){const i=S_(s,"Failed to persist write");n.reject(i)}}async function hR(t,e){const n=we(t);try{const r=await T6(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Au.get(i);o&&(qe(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?qe(o.hu,14607):s.removedDocuments.size>0&&(qe(o.hu,42227),o.hu=!1))}),await Vc(n,r,e)}catch(r){await ml(r)}}function P1(t,e,n){const r=we(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((i,o)=>{const a=o.view.va(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const u=we(o);u.onlineState=a;let c=!1;u.queries.forEach((d,m)=>{for(const h of m.Sa)h.va(a)&&(c=!0)}),c&&b_(u)}(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function p3(t,e,n){const r=we(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let o=new ft(fe.comparator);o=o.insert(i,ln.newNoDocument(i,_e.min()));const a=ke().add(i),u=new tp(_e.min(),new Map,new ft(Pe),o,a);await hR(r,u),r.du=r.du.remove(i),r.Au.delete(e),A_(r)}else await gy(r.localStore,e,!1).then(()=>_y(r,e,n)).catch(ml)}async function m3(t,e){const n=we(t),r=e.batch.batchId;try{const s=await E6(n.localStore,e);pR(n,r,null),fR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Vc(n,s)}catch(s){await ml(s)}}async function g3(t,e,n){const r=we(t);try{const s=await function(o,a){const u=we(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return u.mutationQueue.lookupMutationBatch(c,a).next(m=>(qe(m!==null,37113),d=m.keys(),u.mutationQueue.removeMutationBatch(c,m))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>u.localDocuments.getDocuments(c,d))})}(r.localStore,e);pR(r,e,n),fR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Vc(r,s)}catch(s){await ml(s)}}function fR(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function pR(t,e,n){const r=we(t);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function _y(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||mR(t,r)})}function mR(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(__(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),A_(t))}function k1(t,e,n){for(const r of n)r instanceof uR?(t.Ru.addReference(r.key,e),y3(t,r)):r instanceof cR?(se(C_,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||mR(t,r.key)):ge(19791,{wu:r})}function y3(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(se(C_,"New document in limbo: "+n),t.Eu.add(r),A_(t))}function A_(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new fe(Xe.fromString(e)),r=t.fu.next();t.Au.set(r,new o3(n)),t.du=t.du.insert(n,r),rR(t.remoteStore,new ni(Qr(CA(n.path)),r,"TargetPurposeLimboResolution",Kf.ce))}}async function Vc(t,e,n){const r=we(t),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((a,u)=>{o.push(r.pu(u,e,n).then(c=>{var d;if((c||n)&&r.isPrimaryClient){const m=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(u.targetId))==null?void 0:d.current;r.sharedClientState.updateQueryState(u.targetId,m?"current":"not-current")}if(c){s.push(c);const m=y_.As(u.targetId,c);i.push(m)}}))}),await Promise.all(o),r.Pu.H_(s),await async function(u,c){const d=we(u);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>W.forEach(c,h=>W.forEach(h.Es,_=>d.persistence.referenceDelegate.addReference(m,h.targetId,_)).next(()=>W.forEach(h.ds,_=>d.persistence.referenceDelegate.removeReference(m,h.targetId,_)))))}catch(m){if(!gl(m))throw m;se(v_,"Failed to update sequence numbers: "+m)}for(const m of c){const h=m.targetId;if(!m.fromCache){const _=d.Ms.get(h),S=_.snapshotVersion,v=_.withLastLimboFreeSnapshotVersion(S);d.Ms=d.Ms.insert(h,v)}}}(r.localStore,i))}async function v3(t,e){const n=we(t);if(!n.currentUser.isEqual(e)){se(C_,"User change. New user:",e.toKey());const r=await JA(n.localStore,e);n.currentUser=e,function(i,o){i.mu.forEach(a=>{a.forEach(u=>{u.reject(new ee($.CANCELLED,o))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Vc(n,r.Ls)}}function _3(t,e){const n=we(t),r=n.Au.get(e);if(r&&r.hu)return ke().add(r.key);{let s=ke();const i=n.Iu.get(e);if(!i)return s;for(const o of i){const a=n.Tu.get(o);s=s.unionWith(a.view.nu)}return s}}function gR(t){const e=we(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=hR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=_3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=p3.bind(null,e),e.Pu.H_=t3.bind(null,e.eventManager),e.Pu.yu=n3.bind(null,e.eventManager),e}function w3(t){const e=we(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=m3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=g3.bind(null,e),e}class tf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=np(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return x6(this.persistence,new v6,e.initialUser,this.serializer)}Cu(e){return new YA(g_.mi,this.serializer)}Du(e){return new R6}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}tf.provider={build:()=>new tf};class x3 extends tf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){qe(this.persistence.referenceDelegate instanceof Jh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new r6(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Pn.withCacheSize(this.cacheSizeBytes):Pn.DEFAULT;return new YA(r=>Jh.mi(r,n),this.serializer)}}class wy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>P1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=v3.bind(null,this.syncEngine),await Z6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Y6}()}createDatastore(e){const n=np(e.databaseInfo.databaseId),r=function(i){return new D6(i)}(e.databaseInfo);return function(i,o,a,u){return new j6(i,o,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new F6(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>P1(this.syncEngine,n,0),function(){return S1.v()?new S1:new I6}())}createSyncEngine(e,n){return function(s,i,o,a,u,c,d){const m=new a3(s,i,o,a,u,c);return d&&(m.gu=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=we(s);se(Eo,"RemoteStore shutting down."),i.Ea.add(5),await Oc(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}wy.provider={build:()=>new wy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E3{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Cs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ai="FirestoreClient";class T3{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=on.UNAUTHENTICATED,this.clientId=i_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{se(Ai,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(se(Ai,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new mi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=S_(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function bm(t,e){t.asyncQueue.verifyOperationInProgress(),se(Ai,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await JA(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function N1(t,e){t.asyncQueue.verifyOperationInProgress();const n=await S3(t);se(Ai,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>C1(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>C1(e.remoteStore,s)),t._onlineComponents=e}async function S3(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){se(Ai,"Using user provided OfflineComponentProvider");try{await bm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===$.FAILED_PRECONDITION||s.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Xa("Error using user provided cache. Falling back to memory cache: "+n),await bm(t,new tf)}}else se(Ai,"Using default OfflineComponentProvider"),await bm(t,new x3(void 0));return t._offlineComponents}async function yR(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(se(Ai,"Using user provided OnlineComponentProvider"),await N1(t,t._uninitializedComponentsProvider._online)):(se(Ai,"Using default OnlineComponentProvider"),await N1(t,new wy))),t._onlineComponents}function b3(t){return yR(t).then(e=>e.syncEngine)}async function C3(t){const e=await yR(t),n=e.eventManager;return n.onListen=l3.bind(null,e.syncEngine),n.onUnlisten=d3.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=u3.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=h3.bind(null,e.syncEngine),n}function A3(t,e,n={}){const r=new mi;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,u,c){const d=new E3({next:h=>{d.Nu(),o.enqueueAndForget(()=>e3(i,m)),h.fromCache&&u.source==="server"?c.reject(new ee($.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),m=new r3(a,d,{includeMetadataChanges:!0,qa:!0});return J6(i,m)}(await C3(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vR(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D1=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R="firestore.googleapis.com",O1=!0;class V1{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ee($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=_R,this.ssl=O1}else this.host=e.host,this.ssl=e.ssl??O1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=XA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<t6)throw new ee($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}FL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=vR(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ee($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ee($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ee($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ip{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new V1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ee($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ee($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new V1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new IL;switch(r.type){case"firstParty":return new DL(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ee($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=D1.get(n);r&&(se("ComponentProvider","Removing Datastore"),D1.delete(n),r.terminate())}(this),Promise.resolve()}}function R3(t,e,n,r={}){var c;t=Ja(t,ip);const s=Pc(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;s&&(UC(`https://${a}`),zC("Firestore",!0)),i.host!==_R&&i.host!==a&&Xa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u={...i,host:a,ssl:s,emulatorOptions:r};if(!$h(u,o)&&(t._setSettings(u),r.mockUserToken)){let d,m;if(typeof r.mockUserToken=="string")d=r.mockUserToken,m=on.MOCK_USER;else{d=BC(r.mockUserToken,(c=t._app)==null?void 0:c.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new ee($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new on(h)}t._authCredentials=new PL(new oA(d,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ji(this.firestore,e,this._query)}}class jt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new gi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new jt(this.firestore,e,this._key)}toJSON(){return{type:jt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(kc(n,jt._jsonSchema))return new jt(e,r||null,new fe(Xe.fromString(n.referencePath)))}}jt._jsonSchemaVersion="firestore/documentReference/1.0",jt._jsonSchema={type:It("string",jt._jsonSchemaVersion),referencePath:It("string")};class gi extends ji{constructor(e,n,r){super(e,n,CA(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new jt(this.firestore,null,new fe(e))}withConverter(e){return new gi(this.firestore,e,this._path)}}function I3(t,e,...n){if(t=Xn(t),aA("collection","path",e),t instanceof ip){const r=Xe.fromString(e,...n);return Kx(r),new gi(t,null,r)}{if(!(t instanceof jt||t instanceof gi))throw new ee($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Xe.fromString(e,...n));return Kx(r),new gi(t.firestore,null,r)}}function wR(t,e,...n){if(t=Xn(t),arguments.length===1&&(e=i_.newId()),aA("doc","path",e),t instanceof ip){const r=Xe.fromString(e,...n);return Qx(r),new jt(t,null,new fe(r))}{if(!(t instanceof jt||t instanceof gi))throw new ee($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Xe.fromString(e,...n));return Qx(r),new jt(t.firestore,t instanceof gi?t.converter:null,new fe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M1="AsyncQueue";class j1{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new tR(this,"async_queue_retry"),this._c=()=>{const r=Sm();r&&se(M1,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Sm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Sm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new mi;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!gl(e))throw e;se(M1,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Cs("INTERNAL UNHANDLED ERROR: ",L1(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=T_.createAndSchedule(this,e,n,r,i=>this.hc(i));return this.tc.push(s),s}uc(){this.nc&&ge(47125,{Pc:L1(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function L1(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class op extends ip{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new j1,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new j1(e),this._firestoreClient=void 0,await e}}}function P3(t,e){const n=typeof t=="object"?t:ZC(),r=typeof t=="string"?t:qh,s=QC(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=LC("firestore");i&&R3(s,...i)}return s}function xR(t){if(t._terminated)throw new ee($.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||k3(t),t._firestoreClient}function k3(t){var r,s,i;const e=t._freezeSettings(),n=function(a,u,c,d){return new XL(a,u,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,vR(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((i=e.localCache)!=null&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new T3(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const u=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new sr(Yt.fromBase64String(e))}catch(n){throw new ee($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new sr(Yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:sr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(kc(e,sr._jsonSchema))return sr.fromBase64String(e.bytes)}}sr._jsonSchemaVersion="firestore/bytes/1.0",sr._jsonSchema={type:It("string",sr._jsonSchemaVersion),bytes:It("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ap{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ee($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R_{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ee($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ee($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Pe(this._lat,e._lat)||Pe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Zr._jsonSchemaVersion}}static fromJSON(e){if(kc(e,Zr._jsonSchema))return new Zr(e.latitude,e.longitude)}}Zr._jsonSchemaVersion="firestore/geoPoint/1.0",Zr._jsonSchema={type:It("string",Zr._jsonSchemaVersion),latitude:It("number"),longitude:It("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Xr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(kc(e,Xr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Xr(e.vectorValues);throw new ee($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Xr._jsonSchemaVersion="firestore/vectorValue/1.0",Xr._jsonSchema={type:It("string",Xr._jsonSchemaVersion),vectorValues:It("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N3=/^__.*__$/;class D3{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Mi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Nc(e,this.data,n,this.fieldTransforms)}}class ER{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Mi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function TR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ge(40011,{Ac:t})}}class I_{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new I_({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return nf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(TR(this.Ac)&&N3.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class O3{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||np(e)}Cc(e,n,r,s=!1){return new I_({Ac:e,methodName:n,Dc:r,path:Kt.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function P_(t){const e=t._freezeSettings(),n=np(t._databaseId);return new O3(t._databaseId,!!e.ignoreUndefinedProperties,n)}function V3(t,e,n,r,s,i={}){const o=t.Cc(i.merge||i.mergeFields?2:0,e,n,s);k_("Data must be an object, but it was:",o,r);const a=SR(r,o);let u,c;if(i.merge)u=new Wn(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const d=[];for(const m of i.mergeFields){const h=xy(e,m,n);if(!o.contains(h))throw new ee($.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);CR(d,h)||d.push(h)}u=new Wn(d),c=o.fieldTransforms.filter(m=>u.covers(m.field))}else u=null,c=o.fieldTransforms;return new D3(new Nn(a),u,c)}class lp extends R_{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof lp}}function M3(t,e,n,r){const s=t.Cc(1,e,n);k_("Data must be an object, but it was:",s,r);const i=[],o=Nn.empty();Vi(r,(u,c)=>{const d=N_(e,u,n);c=Xn(c);const m=s.yc(d);if(c instanceof lp)i.push(d);else{const h=Mc(c,m);h!=null&&(i.push(d),o.set(d,h))}});const a=new Wn(i);return new ER(o,a,s.fieldTransforms)}function j3(t,e,n,r,s,i){const o=t.Cc(1,e,n),a=[xy(e,r,n)],u=[s];if(i.length%2!=0)throw new ee($.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<i.length;h+=2)a.push(xy(e,i[h])),u.push(i[h+1]);const c=[],d=Nn.empty();for(let h=a.length-1;h>=0;--h)if(!CR(c,a[h])){const _=a[h];let S=u[h];S=Xn(S);const v=o.yc(_);if(S instanceof lp)c.push(_);else{const E=Mc(S,v);E!=null&&(c.push(_),d.set(_,E))}}const m=new Wn(c);return new ER(d,m,o.fieldTransforms)}function L3(t,e,n,r=!1){return Mc(n,t.Cc(r?4:3,e))}function Mc(t,e){if(bR(t=Xn(t)))return k_("Unsupported field value:",e,t),SR(t,e);if(t instanceof R_)return function(r,s){if(!TR(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let u=Mc(a,s.wc(o));u==null&&(u={nullValue:"NULL_VALUE"}),i.push(u),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=Xn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return _F(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=rt.fromDate(r);return{timestampValue:Yh(s.serializer,i)}}if(r instanceof rt){const i=new rt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Yh(s.serializer,i)}}if(r instanceof Zr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof sr)return{bytesValue:WA(s.serializer,r._byteString)};if(r instanceof jt){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:p_(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Xr)return function(o,a){return{mapValue:{fields:{[gA]:{stringValue:vA},[Qh]:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.Sc("VectorValues must only contain numeric values.");return d_(a.serializer,c)})}}}}}}(r,s);throw s.Sc(`Unsupported field value: ${Qf(r)}`)}(t,e)}function SR(t,e){const n={};return cA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Vi(t,(r,s)=>{const i=Mc(s,e.mc(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function bR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof rt||t instanceof Zr||t instanceof sr||t instanceof jt||t instanceof R_||t instanceof Xr)}function k_(t,e,n){if(!bR(n)||!lA(n)){const r=Qf(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function xy(t,e,n){if((e=Xn(e))instanceof ap)return e._internalPath;if(typeof e=="string")return N_(t,e);throw nf("Field path arguments must be of type string or ",t,!1,void 0,n)}const F3=new RegExp("[~\\*/\\[\\]]");function N_(t,e,n){if(e.search(F3)>=0)throw nf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ap(...e.split("."))._internalPath}catch{throw nf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function nf(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(i||o)&&(u+=" (found",i&&(u+=` in field ${r}`),o&&(u+=` in document ${s}`),u+=")"),new ee($.INVALID_ARGUMENT,a+t+u)}function CR(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new jt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new U3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(up("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class U3 extends AR{data(){return super.data()}}function up(t,e){return typeof e=="string"?N_(t,e):e instanceof ap?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B3(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ee($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class D_{}class O_ extends D_{}function Ey(t,e,...n){let r=[];e instanceof D_&&r.push(e),r=r.concat(n),function(i){const o=i.filter(u=>u instanceof V_).length,a=i.filter(u=>u instanceof cp).length;if(o>1||o>0&&a>0)throw new ee($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class cp extends O_{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new cp(e,n,r)}_apply(e){const n=this._parse(e);return RR(e._query,n),new ji(e.firestore,e.converter,dy(e._query,n))}_parse(e){const n=P_(e.firestore);return function(i,o,a,u,c,d,m){let h;if(c.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new ee($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){U1(m,d);const S=[];for(const v of m)S.push(F1(u,i,v));h={arrayValue:{values:S}}}else h=F1(u,i,m)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||U1(m,d),h=L3(a,o,m,d==="in"||d==="not-in");return Rt.create(c,d,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function z3(t,e,n){const r=e,s=up("where",t);return cp._create(s,r,n)}class V_ extends D_{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new V_(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Rr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const u of a)RR(o,u),o=dy(o,u)}(e._query,n),new ji(e.firestore,e.converter,dy(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class M_ extends O_{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new M_(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new ee($.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new ee($.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new tc(i,o)}(e._query,this._field,this._direction);return new ji(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new yl(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function Ty(t,e="asc"){const n=e,r=up("orderBy",t);return M_._create(r,n)}class j_ extends O_{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new j_(e,n,r)}_apply(e){return new ji(e.firestore,e.converter,Gh(e._query,this._limit,this._limitType))}}function $3(t){return UL("limit",t),j_._create("limit",t,"F")}function F1(t,e,n){if(typeof(n=Xn(n))=="string"){if(n==="")throw new ee($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!AA(e)&&n.indexOf("/")!==-1)throw new ee($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Xe.fromString(n));if(!fe.isDocumentKey(r))throw new ee($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return n1(t,new fe(r))}if(n instanceof jt)return n1(t,n._key);throw new ee($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Qf(n)}.`)}function U1(t,e){if(!Array.isArray(t)||t.length===0)throw new ee($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function RR(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ee($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ee($.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class W3{convertValue(e,n="none"){switch(bi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return xt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Si(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ge(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Vi(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var r,s,i;const n=(i=(s=(r=e.fields)==null?void 0:r[Qh].arrayValue)==null?void 0:s.values)==null?void 0:i.map(o=>xt(o.doubleValue));return new Xr(n)}convertGeoPoint(e){return new Zr(xt(e.latitude),xt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Zf(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Yu(e));default:return null}}convertTimestamp(e){const n=Ti(e);return new rt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Xe.fromString(e);qe(ZA(r),9688,{name:e});const s=new Ju(r.get(1),r.get(3)),i=new fe(r.popFirst(5));return s.isEqual(n)||Cs(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H3(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class Nd{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class xa extends AR{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ah(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(up("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ee($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=xa._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}xa._jsonSchemaVersion="firestore/documentSnapshot/1.0",xa._jsonSchema={type:It("string",xa._jsonSchemaVersion),bundleSource:It("string","DocumentSnapshot"),bundleName:It("string"),bundle:It("string")};class ah extends xa{data(e={}){return super.data(e)}}class Ea{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Nd(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ah(this._firestore,this._userDataWriter,r.key,r,new Nd(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ee($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const u=new ah(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Nd(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const u=new ah(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Nd(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,d=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:q3(a.type),doc:u,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ee($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ea._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=i_.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function q3(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ge(61501,{type:t})}}Ea._jsonSchemaVersion="firestore/querySnapshot/1.0",Ea._jsonSchema={type:It("string",Ea._jsonSchemaVersion),bundleSource:It("string","QuerySnapshot"),bundleName:It("string"),bundle:It("string")};class Q3 extends W3{constructor(e){super(),this.firestore=e}convertBytes(e){return new sr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new jt(this.firestore,null,n)}}function IR(t){t=Ja(t,ji);const e=Ja(t.firestore,op),n=xR(e),r=new Q3(e);return B3(t._query),A3(n,t._query).then(s=>new Ea(e,r,t,s))}function K3(t,e,n,...r){t=Ja(t,jt);const s=Ja(t.firestore,op),i=P_(s);let o;return o=typeof(e=Xn(e))=="string"||e instanceof ap?j3(i,"updateDoc",t._key,e,n,r):M3(i,"updateDoc",t._key,e),PR(s,[o.toMutation(t._key,Kr.exists(!0))])}function G3(t,e){const n=Ja(t.firestore,op),r=wR(t),s=H3(t.converter,e);return PR(n,[V3(P_(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Kr.exists(!1))]).then(()=>r)}function PR(t,e){return function(r,s){const i=new mi;return r.asyncQueue.enqueueAndForget(async()=>f3(await b3(r),s,i)),i.promise}(xR(t),e)}(function(e,n=!0){(function(s){pl=s})(GC),Gu(new Za("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new op(new kL(r.getProvider("auth-internal")),new OL(o,r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new ee($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ju(c.options.projectId,d)}(o,s),o);return i={useFetchStreams:n,...i},a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),fi($x,Wx,e),fi($x,Wx,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kR="firebasestorage.googleapis.com",NR="storageBucket",Z3=2*60*1e3,X3=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt extends ko{constructor(e,n,r=0){super(Cm(e),`Firebase Storage: ${n} (${Cm(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,wt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Cm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var _t;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(_t||(_t={}));function Cm(t){return"storage/"+t}function L_(){const t="An unknown error occurred, please check the error payload for server response.";return new wt(_t.UNKNOWN,t)}function Y3(t){return new wt(_t.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function J3(t){return new wt(_t.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function e9(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new wt(_t.UNAUTHENTICATED,t)}function t9(){return new wt(_t.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function n9(t){return new wt(_t.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function r9(){return new wt(_t.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function s9(){return new wt(_t.CANCELED,"User canceled the upload/download.")}function i9(t){return new wt(_t.INVALID_URL,"Invalid URL '"+t+"'.")}function o9(t){return new wt(_t.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function a9(){return new wt(_t.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+NR+"' property when initializing the app?")}function l9(){return new wt(_t.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function u9(){return new wt(_t.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function c9(t){return new wt(_t.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Sy(t){return new wt(_t.INVALID_ARGUMENT,t)}function DR(){return new wt(_t.APP_DELETED,"The Firebase app was deleted.")}function d9(t){return new wt(_t.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Tu(t,e){return new wt(_t.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Kl(t){throw new wt(_t.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Hn.makeFromUrl(e,n)}catch{return new Hn(e,"")}if(r.path==="")return r;throw o9(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(k){k.path.charAt(k.path.length-1)==="/"&&(k.path_=k.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+s+o,"i"),u={bucket:1,path:3};function c(k){k.path_=decodeURIComponent(k.path)}const d="v[A-Za-z0-9_]+",m=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",_=new RegExp(`^https?://${m}/${d}/b/${s}/o${h}`,"i"),S={bucket:1,path:3},v=n===kR?"(?:storage.googleapis.com|storage.cloud.google.com)":n,E="([^?#]*)",w=new RegExp(`^https?://${v}/${s}/${E}`,"i"),x=[{regex:a,indices:u,postModify:i},{regex:_,indices:S,postModify:c},{regex:w,indices:{bucket:1,path:2},postModify:c}];for(let k=0;k<x.length;k++){const V=x[k],L=V.regex.exec(e);if(L){const C=L[V.indices.bucket];let b=L[V.indices.path];b||(b=""),r=new Hn(C,b),V.postModify(r);break}}if(r==null)throw i9(e);return r}}class h9{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f9(t,e,n){let r=1,s=null,i=null,o=!1,a=0;function u(){return a===2}let c=!1;function d(...E){c||(c=!0,e.apply(null,E))}function m(E){s=setTimeout(()=>{s=null,t(_,u())},E)}function h(){i&&clearTimeout(i)}function _(E,...w){if(c){h();return}if(E){h(),d.call(null,E,...w);return}if(u()||o){h(),d.call(null,E,...w);return}r<64&&(r*=2);let x;a===1?(a=2,x=0):x=(r+Math.random())*1e3,m(x)}let S=!1;function v(E){S||(S=!0,h(),!c&&(s!==null?(E||(a=2),clearTimeout(s),m(0)):E||(a=1)))}return m(0),i=setTimeout(()=>{o=!0,v(!0)},n),v}function p9(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m9(t){return t!==void 0}function g9(t){return typeof t=="object"&&!Array.isArray(t)}function F_(t){return typeof t=="string"||t instanceof String}function B1(t){return U_()&&t instanceof Blob}function U_(){return typeof Blob<"u"}function z1(t,e,n,r){if(r<e)throw Sy(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Sy(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B_(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function OR(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var lo;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(lo||(lo={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y9(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v9{constructor(e,n,r,s,i,o,a,u,c,d,m,h=!0,_=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=u,this.timeout_=c,this.progressCallback_=d,this.connectionFactory_=m,this.retry=h,this.isUsingEmulator=_,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((S,v)=>{this.resolve_=S,this.reject_=v,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new Dd(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=a=>{const u=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,c)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const a=i.getErrorCode()===lo.NO_ERROR,u=i.getStatus();if(!a||y9(u,this.additionalRetryCodes_)&&this.retry){const d=i.getErrorCode()===lo.ABORT;r(!1,new Dd(!1,null,d));return}const c=this.successCodes_.indexOf(u)!==-1;r(!0,new Dd(c,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,a=s.connection;if(s.wasSuccessCode)try{const u=this.callback_(a,a.getResponse());m9(u)?i(u):i()}catch(u){o(u)}else if(a!==null){const u=L_();u.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,u)):o(u)}else if(s.canceled){const u=this.appDelete_?DR():s9();o(u)}else{const u=r9();o(u)}};this.canceled_?n(!1,new Dd(!1,null,!0)):this.backoffId_=f9(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&p9(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Dd{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function _9(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function w9(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function x9(t,e){e&&(t["X-Firebase-GMPID"]=e)}function E9(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function T9(t,e,n,r,s,i,o=!0,a=!1){const u=OR(t.urlParams),c=t.url+u,d=Object.assign({},t.headers);return x9(d,e),_9(d,n),w9(d,i),E9(d,r),new v9(c,t.method,d,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S9(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function b9(...t){const e=S9();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(U_())return new Blob(t);throw new wt(_t.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function C9(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A9(t){if(typeof atob>"u")throw c9("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Am{constructor(e,n){this.data=e,this.contentType=n||null}}function R9(t,e){switch(t){case zr.RAW:return new Am(VR(e));case zr.BASE64:case zr.BASE64URL:return new Am(MR(t,e));case zr.DATA_URL:return new Am(P9(e),k9(e))}throw L_()}function VR(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const i=r,o=t.charCodeAt(++n);r=65536|(i&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function I9(t){let e;try{e=decodeURIComponent(t)}catch{throw Tu(zr.DATA_URL,"Malformed data URL.")}return VR(e)}function MR(t,e){switch(t){case zr.BASE64:{const s=e.indexOf("-")!==-1,i=e.indexOf("_")!==-1;if(s||i)throw Tu(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case zr.BASE64URL:{const s=e.indexOf("+")!==-1,i=e.indexOf("/")!==-1;if(s||i)throw Tu(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=A9(e)}catch(s){throw s.message.includes("polyfill")?s:Tu(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class jR{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Tu(zr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=N9(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function P9(t){const e=new jR(t);return e.base64?MR(zr.BASE64,e.rest):I9(e.rest)}function k9(t){return new jR(t).contentType}function N9(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e,n){let r=0,s="";B1(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(B1(this.data_)){const r=this.data_,s=C9(r,e,n);return s===null?null:new $s(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new $s(r,!0)}}static getBlob(...e){if(U_()){const n=e.map(r=>r instanceof $s?r.data_:r);return new $s(b9.apply(null,n))}else{const n=e.map(o=>F_(o)?R9(zr.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const s=new Uint8Array(r);let i=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)s[i++]=o[a]}),new $s(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LR(t){let e;try{e=JSON.parse(t)}catch{return null}return g9(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D9(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function O9(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function FR(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V9(t,e){return e}class fn{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||V9}}let Od=null;function M9(t){return!F_(t)||t.length<2?t:FR(t)}function UR(){if(Od)return Od;const t=[];t.push(new fn("bucket")),t.push(new fn("generation")),t.push(new fn("metageneration")),t.push(new fn("name","fullPath",!0));function e(i,o){return M9(o)}const n=new fn("name");n.xform=e,t.push(n);function r(i,o){return o!==void 0?Number(o):o}const s=new fn("size");return s.xform=r,t.push(s),t.push(new fn("timeCreated")),t.push(new fn("updated")),t.push(new fn("md5Hash",null,!0)),t.push(new fn("cacheControl",null,!0)),t.push(new fn("contentDisposition",null,!0)),t.push(new fn("contentEncoding",null,!0)),t.push(new fn("contentLanguage",null,!0)),t.push(new fn("contentType",null,!0)),t.push(new fn("metadata","customMetadata",!0)),Od=t,Od}function j9(t,e){function n(){const r=t.bucket,s=t.fullPath,i=new Hn(r,s);return e._makeStorageReference(i)}Object.defineProperty(t,"ref",{get:n})}function L9(t,e,n){const r={};r.type="file";const s=n.length;for(let i=0;i<s;i++){const o=n[i];r[o.local]=o.xform(r,e[o.server])}return j9(r,t),r}function BR(t,e,n){const r=LR(e);return r===null?null:L9(t,r,n)}function F9(t,e,n,r){const s=LR(e);if(s===null||!F_(s.downloadTokens))return null;const i=s.downloadTokens;if(i.length===0)return null;const o=encodeURIComponent;return i.split(",").map(c=>{const d=t.bucket,m=t.fullPath,h="/b/"+o(d)+"/o/"+o(m),_=B_(h,n,r),S=OR({alt:"media",token:c});return _+S})[0]}function U9(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const i=e[s];i.writable&&(n[i.server]=t[i.local])}return JSON.stringify(n)}class zR{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $R(t){if(!t)throw L_()}function B9(t,e){function n(r,s){const i=BR(t,s,e);return $R(i!==null),i}return n}function z9(t,e){function n(r,s){const i=BR(t,s,e);return $R(i!==null),F9(i,s,t.host,t._protocol)}return n}function WR(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=t9():s=e9():n.getStatus()===402?s=J3(t.bucket):n.getStatus()===403?s=n9(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function $9(t){const e=WR(t);function n(r,s){let i=e(r,s);return r.getStatus()===404&&(i=Y3(t.path)),i.serverResponse=s.serverResponse,i}return n}function W9(t,e,n){const r=e.fullServerUrl(),s=B_(r,t.host,t._protocol),i="GET",o=t.maxOperationRetryTime,a=new zR(s,i,z9(t,n),o);return a.errorHandler=$9(e),a}function H9(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function q9(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=H9(null,e)),r}function Q9(t,e,n,r,s){const i=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let x="";for(let k=0;k<2;k++)x=x+Math.random().toString().slice(2);return x}const u=a();o["Content-Type"]="multipart/related; boundary="+u;const c=q9(e,r,s),d=U9(c,n),m="--"+u+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+u+`\r
Content-Type: `+c.contentType+`\r
\r
`,h=`\r
--`+u+"--",_=$s.getBlob(m,r,h);if(_===null)throw l9();const S={name:c.fullPath},v=B_(i,t.host,t._protocol),E="POST",w=t.maxUploadRetryTime,y=new zR(v,E,B9(t,n),w);return y.urlParams=S,y.headers=o,y.body=_.uploadData(),y.errorHandler=WR(e),y}class K9{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=lo.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=lo.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=lo.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s,i){if(this.sent_)throw Kl("cannot .send() more than once");if(Pc(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Kl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Kl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Kl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Kl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class G9 extends K9{initXhr(){this.xhr_.responseType="text"}}function HR(){return new G9}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(e,n){this._service=e,n instanceof Hn?this._location=n:this._location=Hn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new To(e,n)}get root(){const e=new Hn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return FR(this._location.path)}get storage(){return this._service}get parent(){const e=D9(this._location.path);if(e===null)return null;const n=new Hn(this._location.bucket,e);return new To(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw d9(e)}}function Z9(t,e,n){t._throwIfRoot("uploadBytes");const r=Q9(t.storage,t._location,UR(),new $s(e,!0),n);return t.storage.makeRequestWithTokens(r,HR).then(s=>({metadata:s,ref:t}))}function X9(t){t._throwIfRoot("getDownloadURL");const e=W9(t.storage,t._location,UR());return t.storage.makeRequestWithTokens(e,HR).then(n=>{if(n===null)throw u9();return n})}function Y9(t,e){const n=O9(t._location.path,e),r=new Hn(t._location.bucket,n);return new To(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J9(t){return/^[A-Za-z]+:\/\//.test(t)}function e5(t,e){return new To(t,e)}function qR(t,e){if(t instanceof z_){const n=t;if(n._bucket==null)throw a9();const r=new To(n,n._bucket);return e!=null?qR(r,e):r}else return e!==void 0?Y9(t,e):t}function t5(t,e){if(e&&J9(e)){if(t instanceof z_)return e5(t,e);throw Sy("To use ref(service, url), the first argument must be a Storage instance.")}else return qR(t,e)}function $1(t,e){const n=e==null?void 0:e[NR];return n==null?null:Hn.makeFromBucketSpec(n,t)}function n5(t,e,n,r={}){t.host=`${e}:${n}`;const s=Pc(e);s&&(UC(`https://${t.host}/b`),zC("Storage",!0)),t._isUsingEmulator=!0,t._protocol=s?"https":"http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:BC(i,t.app.options.projectId))}class z_{constructor(e,n,r,s,i,o=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._isUsingEmulator=o,this._bucket=null,this._host=kR,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Z3,this._maxUploadRetryTime=X3,this._requests=new Set,s!=null?this._bucket=Hn.makeFromBucketSpec(s,this._host):this._bucket=$1(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Hn.makeFromBucketSpec(this._url,e):this._bucket=$1(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){z1("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){z1("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(KC(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new To(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new h9(DR());{const o=T9(e,this._appId,r,s,n,this._firebaseVersion,i,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const W1="@firebase/storage",H1="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QR="storage";function r5(t,e,n){return t=Xn(t),Z9(t,e,n)}function s5(t){return t=Xn(t),X9(t)}function i5(t,e){return t=Xn(t),t5(t,e)}function o5(t=ZC(),e){t=Xn(t);const r=QC(t,QR).getImmediate({identifier:e}),s=LC("storage");return s&&a5(r,...s),r}function a5(t,e,n,r={}){n5(t,e,n,r)}function l5(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new z_(n,r,s,e,GC)}function u5(){Gu(new Za(QR,l5,"PUBLIC").setMultipleInstances(!0)),fi(W1,H1,""),fi(W1,H1,"esm2020")}u5();const q1={apiKey:"AIzaSyBv15j9DyPJW1dEuW0BCHOSucRqqQ988i0",authDomain:"cypruspetsfinder.firebaseapp.com",databaseURL:"https://cypruspetsfinder-default-rtdb.europe-west1.firebasedatabase.app",projectId:"cypruspetsfinder",storageBucket:"cypruspetsfinder.firebasestorage.app",messagingSenderId:"758035903846",appId:"1:758035903846:web:50fbc079fe8ca10ad1c4a7",measurementId:"G-4LWWD4W3F1"};let rf;try{rf=sy(q1)}catch(t){if(t.code==="app/duplicate-app")rf=sy(q1,"secondary");else throw t}const KR=P3(rf),c5=o5(rf),sf=I3(KR,"petReports"),d5=async t=>{const e=Date.now(),n=i5(c5,`pet-photos/${e}-${t.name}`),r=await r5(n,t);return await s5(r.ref)},h5=async(t,e)=>{const n=new Date().toISOString();let r="";e&&(r=await d5(e));const s={...t,photoUrl:r,createdAt:n,updatedAt:n};return(await G3(sf,s)).id},GR=async t=>{let e=Ey(sf,Ty("createdAt","desc"));return t&&(e=Ey(sf,z3("reportType","==",t),Ty("createdAt","desc"))),(await IR(e)).docs.map(r=>({id:r.id,...r.data()}))},f5=async(t=10)=>{const e=Ey(sf,Ty("createdAt","desc"),$3(t));return(await IR(e)).docs.map(r=>({id:r.id,...r.data()}))},p5=async(t,e)=>{const n=wR(KR,"petReports",t);await K3(n,{status:e,updatedAt:new Date().toISOString()})},m5=async()=>{const t=await GR(),e=new Date,n=new Date(e.getTime()-24*60*60*1e3),r=t.filter(a=>a.reportType==="missing"&&a.status==="active").length,s=t.filter(a=>a.reportType==="found"&&a.status==="active").length,i=t.filter(a=>new Date(a.createdAt)>=n).length,o=t.filter(a=>a.status==="reunited").length;return{missing:r,found:s,recent:i,reunited:o}},ZR=async(t,e)=>{let n=await GR(t);if(e.search){const r=e.search.toLowerCase();n=n.filter(s=>{var i,o,a;return((i=s.petName)==null?void 0:i.toLowerCase().includes(r))||((o=s.breed)==null?void 0:o.toLowerCase().includes(r))||s.location.toLowerCase().includes(r)||((a=s.description)==null?void 0:a.toLowerCase().includes(r))})}if(e.petType&&e.petType!=="all"&&(n=n.filter(r=>r.petType===e.petType)),e.location&&e.location!=="all"&&(n=n.filter(r=>r.location.toLowerCase().includes(e.location.toLowerCase()))),e.dateRange&&e.dateRange!=="all"){const r=new Date;let s;switch(e.dateRange){case"today":s=new Date(r.getFullYear(),r.getMonth(),r.getDate());break;case"week":s=new Date(r.getTime()-7*24*60*60*1e3);break;case"month":s=new Date(r.getTime()-30*24*60*60*1e3);break;default:s=new Date(0)}n=n.filter(i=>new Date(i.createdAt)>=s)}return n.filter(r=>r.status==="active")};function of({className:t,...e}){return p.jsx("div",{className:$e("animate-pulse rounded-md bg-muted",t),...e})}function g5(){const{data:t,isLoading:e}=jh({queryKey:["/api/stats"],queryFn:m5}),{data:n,isLoading:r}=jh({queryKey:["/api/recent-reports"],queryFn:()=>f5(6)});return p.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[p.jsxs("div",{className:"relative bg-gradient-to-r from-orange-500 to-orange-400 rounded-2xl p-8 mb-12 text-white overflow-hidden",children:[p.jsx("div",{className:"relative z-10",children:p.jsxs("div",{className:"max-w-3xl",children:[p.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:"Help Reunite Families with Their Beloved Pets"}),p.jsx("p",{className:"text-xl mb-6 opacity-90",children:"Cyprus is facing unprecedented wildfires affecting over 120 square kilometers. Many pets are missing or found wandering. Together, we can bring them home."}),p.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[p.jsx(In,{href:"/report",children:p.jsxs(nt,{className:"bg-white text-orange-500 hover:bg-gray-100 px-8 py-3 text-lg font-semibold",children:[p.jsx(Fr,{className:"mr-2 h-5 w-5"}),"Report a Pet"]})}),p.jsx(In,{href:"/missing",children:p.jsxs(nt,{variant:"outline",className:"border-2 border-white text-white hover:bg-white hover:text-orange-500 px-8 py-3 text-lg font-semibold",children:[p.jsx(zs,{className:"mr-2 h-5 w-5"}),"Search Missing Pets"]})})]})]})}),p.jsxs("div",{className:"absolute top-0 right-0 w-1/3 h-full opacity-10",children:[p.jsx(ya,{className:"absolute top-4 right-4 h-24 w-24"}),p.jsx(zs,{className:"absolute top-20 right-16 h-16 w-16"}),p.jsx(Fr,{className:"absolute bottom-4 right-8 h-20 w-20"})]})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-12",children:e?Array.from({length:4}).map((s,i)=>p.jsx(of,{className:"h-24 rounded-xl"},i)):p.jsxs(p.Fragment,{children:[p.jsx(bd,{icon:zs,value:(t==null?void 0:t.missing)||0,label:"Missing Pets",color:"red"}),p.jsx(bd,{icon:ya,value:(t==null?void 0:t.found)||0,label:"Found Pets",color:"green"}),p.jsx(bd,{icon:Fr,value:(t==null?void 0:t.recent)||0,label:"Recent Reports",color:"amber"}),p.jsx(bd,{icon:ya,value:(t==null?void 0:t.reunited)||0,label:"Reunited",color:"blue"})]})}),p.jsx(Qu,{className:"mb-12",children:p.jsxs(Ku,{className:"p-8",children:[p.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Quick Actions"}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[p.jsx(In,{href:"/report",children:p.jsx(nt,{className:"bg-orange-500 hover:bg-orange-600 text-white p-6 h-auto w-full text-left justify-start",children:p.jsxs("div",{children:[p.jsx(Fr,{className:"h-8 w-8 mb-3"}),p.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Report Missing Pet"}),p.jsx("p",{className:"text-orange-100 text-sm",children:"Pet gone missing? Report it immediately"})]})})}),p.jsx(In,{href:"/report",children:p.jsx(nt,{className:"bg-green-600 hover:bg-green-700 text-white p-6 h-auto w-full text-left justify-start",children:p.jsxs("div",{children:[p.jsx(zv,{className:"h-8 w-8 mb-3"}),p.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Report Found Pet"}),p.jsx("p",{className:"text-green-100 text-sm",children:"Found a wandering pet? Help reunite"})]})})}),p.jsx(In,{href:"/missing",children:p.jsx(nt,{className:"bg-blue-600 hover:bg-blue-700 text-white p-6 h-auto w-full text-left justify-start",children:p.jsxs("div",{children:[p.jsx(zs,{className:"h-8 w-8 mb-3"}),p.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Search Database"}),p.jsx("p",{className:"text-blue-100 text-sm",children:"Look through reported pets"})]})})})]})]})}),p.jsx("div",{className:"bg-amber-50 border-l-4 border-amber-500 p-6 rounded-r-xl mb-12",children:p.jsxs("div",{className:"flex items-start",children:[p.jsx(NO,{className:"text-amber-500 h-6 w-6 mr-4 mt-1 flex-shrink-0"}),p.jsxs("div",{children:[p.jsx("h3",{className:"font-bold text-gray-900 text-lg mb-2",children:"Emergency Pet Resources"}),p.jsx("p",{className:"text-gray-700 mb-4",children:"If you need immediate assistance or found an injured animal, contact these organizations:"}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs("p",{className:"text-gray-700",children:[p.jsx("strong",{children:"Animal Rescue Cyprus:"})," ",p.jsxs("a",{href:"https://animalrescuecyprus.com",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline inline-flex items-center",children:["animalrescuecyprus.com ",p.jsx(kO,{className:"h-3 w-3 ml-1"})]})," ","- 24/7 vet team available"]}),p.jsxs("p",{className:"text-gray-700",children:[p.jsx("strong",{children:"Animal Welfare Commissioner:"})," Send photos of injured animals for social media awareness"]})]})]})]})}),p.jsx(Qu,{children:p.jsxs(Ku,{className:"p-8",children:[p.jsxs("div",{className:"flex justify-between items-center mb-6",children:[p.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Recent Reports"}),p.jsx(In,{href:"/missing",children:p.jsxs(nt,{variant:"ghost",className:"text-blue-600 hover:text-blue-700 font-medium",children:["View All Reports ",p.jsx("span",{className:"ml-1",children:"→"})]})})]}),r?p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Array.from({length:6}).map((s,i)=>p.jsx(of,{className:"h-96 rounded-xl"},i))}):n&&n.length>0?p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(s=>p.jsx(t_,{pet:s},s.id))}):p.jsxs("div",{className:"text-center py-12",children:[p.jsx(zs,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),p.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No reports yet"}),p.jsx("p",{className:"text-gray-600 mb-4",children:"Be the first to report a missing or found pet."}),p.jsx(In,{href:"/report",children:p.jsxs(nt,{className:"bg-orange-500 hover:bg-orange-600 text-white",children:[p.jsx(Fr,{className:"mr-2 h-4 w-4"}),"Create First Report"]})})]})]})}),p.jsx(In,{href:"/report",children:p.jsx(nt,{className:"fixed bottom-6 right-6 z-50 bg-orange-500 hover:bg-orange-600 text-white w-16 h-16 rounded-full shadow-lg",children:p.jsx(Fr,{className:"h-6 w-6"})})})]})}var jc=t=>t.type==="checkbox",Yi=t=>t instanceof Date,vn=t=>t==null;const XR=t=>typeof t=="object";var St=t=>!vn(t)&&!Array.isArray(t)&&XR(t)&&!Yi(t),YR=t=>St(t)&&t.target?jc(t.target)?t.target.checked:t.target.value:t,y5=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,JR=(t,e)=>t.has(y5(e)),v5=t=>{const e=t.constructor&&t.constructor.prototype;return St(e)&&e.hasOwnProperty("isPrototypeOf")},$_=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Ht(t){let e;const n=Array.isArray(t),r=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!($_&&(t instanceof Blob||r))&&(n||St(t)))if(e=n?[]:{},!n&&!v5(t))e=t;else for(const s in t)t.hasOwnProperty(s)&&(e[s]=Ht(t[s]));else return t;return e}var dp=t=>Array.isArray(t)?t.filter(Boolean):[],Et=t=>t===void 0,Y=(t,e,n)=>{if(!e||!St(t))return n;const r=dp(e.split(/[,[\].]+?/)).reduce((s,i)=>vn(s)?s:s[i],t);return Et(r)||r===t?Et(t[e])?n:t[e]:r},Bn=t=>typeof t=="boolean",W_=t=>/^\w*$/.test(t),eI=t=>dp(t.replace(/["|']|\]/g,"").split(/\.|\[/)),We=(t,e,n)=>{let r=-1;const s=W_(e)?[e]:eI(e),i=s.length,o=i-1;for(;++r<i;){const a=s[r];let u=n;if(r!==o){const c=t[a];u=St(c)||Array.isArray(c)?c:isNaN(+s[r+1])?{}:[]}if(a==="__proto__"||a==="constructor"||a==="prototype")return;t[a]=u,t=t[a]}};const af={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},_r={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ls={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},tI=xe.createContext(null),hp=()=>xe.useContext(tI),_5=t=>{const{children:e,...n}=t;return xe.createElement(tI.Provider,{value:n},e)};var nI=(t,e,n,r=!0)=>{const s={defaultValues:e._defaultValues};for(const i in t)Object.defineProperty(s,i,{get:()=>{const o=i;return e._proxyFormState[o]!==_r.all&&(e._proxyFormState[o]=!r||_r.all),n&&(n[o]=!0),t[o]}});return s};function w5(t){const e=hp(),{control:n=e.control,disabled:r,name:s,exact:i}=t||{},[o,a]=xe.useState(n._formState),u=xe.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),c=xe.useRef(s);return c.current=s,xe.useEffect(()=>n._subscribe({name:c.current,formState:u.current,exact:i,callback:d=>{!r&&a({...n._formState,...d})}}),[n,r,i]),xe.useEffect(()=>{u.current.isValid&&n._setValid(!0)},[n]),xe.useMemo(()=>nI(o,n,u.current,!1),[o,n])}var $r=t=>typeof t=="string",rI=(t,e,n,r,s)=>$r(t)?(r&&e.watch.add(t),Y(n,t,s)):Array.isArray(t)?t.map(i=>(r&&e.watch.add(i),Y(n,i))):(r&&(e.watchAll=!0),n);function x5(t){const e=hp(),{control:n=e.control,name:r,defaultValue:s,disabled:i,exact:o}=t||{},a=xe.useRef(r),u=xe.useRef(s);a.current=r,xe.useEffect(()=>n._subscribe({name:a.current,formState:{values:!0},exact:o,callback:m=>!i&&d(rI(a.current,n._names,m.values||n._formValues,!1,u.current))}),[n,i,o]);const[c,d]=xe.useState(n._getWatch(r,s));return xe.useEffect(()=>n._removeUnmounted()),c}function E5(t){const e=hp(),{name:n,disabled:r,control:s=e.control,shouldUnregister:i}=t,o=JR(s._names.array,n),a=x5({control:s,name:n,defaultValue:Y(s._formValues,n,Y(s._defaultValues,n,t.defaultValue)),exact:!0}),u=w5({control:s,name:n,exact:!0}),c=xe.useRef(t),d=xe.useRef(s.register(n,{...t.rules,value:a,...Bn(t.disabled)?{disabled:t.disabled}:{}})),m=xe.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Y(u.errors,n)},isDirty:{enumerable:!0,get:()=>!!Y(u.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!Y(u.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!Y(u.validatingFields,n)},error:{enumerable:!0,get:()=>Y(u.errors,n)}}),[u,n]),h=xe.useCallback(E=>d.current.onChange({target:{value:YR(E),name:n},type:af.CHANGE}),[n]),_=xe.useCallback(()=>d.current.onBlur({target:{value:Y(s._formValues,n),name:n},type:af.BLUR}),[n,s._formValues]),S=xe.useCallback(E=>{const w=Y(s._fields,n);w&&E&&(w._f.ref={focus:()=>E.focus(),select:()=>E.select(),setCustomValidity:y=>E.setCustomValidity(y),reportValidity:()=>E.reportValidity()})},[s._fields,n]),v=xe.useMemo(()=>({name:n,value:a,...Bn(r)||u.disabled?{disabled:u.disabled||r}:{},onChange:h,onBlur:_,ref:S}),[n,r,u.disabled,h,_,S,a]);return xe.useEffect(()=>{const E=s._options.shouldUnregister||i;s.register(n,{...c.current.rules,...Bn(c.current.disabled)?{disabled:c.current.disabled}:{}});const w=(y,x)=>{const k=Y(s._fields,y);k&&k._f&&(k._f.mount=x)};if(w(n,!0),E){const y=Ht(Y(s._options.defaultValues,n));We(s._defaultValues,n,y),Et(Y(s._formValues,n))&&We(s._formValues,n,y)}return!o&&s.register(n),()=>{(o?E&&!s._state.action:E)?s.unregister(n):w(n,!1)}},[n,s,o,i]),xe.useEffect(()=>{s._setDisabledField({disabled:r,name:n})},[r,n,s]),xe.useMemo(()=>({field:v,formState:u,fieldState:m}),[v,u,m])}const T5=t=>t.render(E5(t));var sI=(t,e,n,r,s)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:s||!0}}:{},Su=t=>Array.isArray(t)?t:[t],Q1=()=>{let t=[];return{get observers(){return t},next:s=>{for(const i of t)i.next&&i.next(s)},subscribe:s=>(t.push(s),{unsubscribe:()=>{t=t.filter(i=>i!==s)}}),unsubscribe:()=>{t=[]}}},by=t=>vn(t)||!XR(t);function Ws(t,e){if(by(t)||by(e))return t===e;if(Yi(t)&&Yi(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const s of n){const i=t[s];if(!r.includes(s))return!1;if(s!=="ref"){const o=e[s];if(Yi(i)&&Yi(o)||St(i)&&St(o)||Array.isArray(i)&&Array.isArray(o)?!Ws(i,o):i!==o)return!1}}return!0}var gn=t=>St(t)&&!Object.keys(t).length,H_=t=>t.type==="file",wr=t=>typeof t=="function",lf=t=>{if(!$_)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},iI=t=>t.type==="select-multiple",q_=t=>t.type==="radio",S5=t=>q_(t)||jc(t),Rm=t=>lf(t)&&t.isConnected;function b5(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=Et(t)?r++:t[e[r++]];return t}function C5(t){for(const e in t)if(t.hasOwnProperty(e)&&!Et(t[e]))return!1;return!0}function Dt(t,e){const n=Array.isArray(e)?e:W_(e)?[e]:eI(e),r=n.length===1?t:b5(t,n),s=n.length-1,i=n[s];return r&&delete r[i],s!==0&&(St(r)&&gn(r)||Array.isArray(r)&&C5(r))&&Dt(t,n.slice(0,-1)),t}var oI=t=>{for(const e in t)if(wr(t[e]))return!0;return!1};function uf(t,e={}){const n=Array.isArray(t);if(St(t)||n)for(const r in t)Array.isArray(t[r])||St(t[r])&&!oI(t[r])?(e[r]=Array.isArray(t[r])?[]:{},uf(t[r],e[r])):vn(t[r])||(e[r]=!0);return e}function aI(t,e,n){const r=Array.isArray(t);if(St(t)||r)for(const s in t)Array.isArray(t[s])||St(t[s])&&!oI(t[s])?Et(e)||by(n[s])?n[s]=Array.isArray(t[s])?uf(t[s],[]):{...uf(t[s])}:aI(t[s],vn(e)?{}:e[s],n[s]):n[s]=!Ws(t[s],e[s]);return n}var Gl=(t,e)=>aI(t,e,uf(e));const K1={value:!1,isValid:!1},G1={value:!0,isValid:!0};var lI=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Et(t[0].attributes.value)?Et(t[0].value)||t[0].value===""?G1:{value:t[0].value,isValid:!0}:G1:K1}return K1},uI=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>Et(t)?t:e?t===""?NaN:t&&+t:n&&$r(t)?new Date(t):r?r(t):t;const Z1={isValid:!1,value:null};var cI=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,Z1):Z1;function X1(t){const e=t.ref;return H_(e)?e.files:q_(e)?cI(t.refs).value:iI(e)?[...e.selectedOptions].map(({value:n})=>n):jc(e)?lI(t.refs).value:uI(Et(e.value)?t.ref.value:e.value,t)}var A5=(t,e,n,r)=>{const s={};for(const i of t){const o=Y(e,i);o&&We(s,i,o._f)}return{criteriaMode:n,names:[...t],fields:s,shouldUseNativeValidation:r}},cf=t=>t instanceof RegExp,Zl=t=>Et(t)?t:cf(t)?t.source:St(t)?cf(t.value)?t.value.source:t.value:t,Y1=t=>({isOnSubmit:!t||t===_r.onSubmit,isOnBlur:t===_r.onBlur,isOnChange:t===_r.onChange,isOnAll:t===_r.all,isOnTouch:t===_r.onTouched});const J1="AsyncFunction";var R5=t=>!!t&&!!t.validate&&!!(wr(t.validate)&&t.validate.constructor.name===J1||St(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===J1)),I5=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),eE=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const bu=(t,e,n,r)=>{for(const s of n||Object.keys(t)){const i=Y(t,s);if(i){const{_f:o,...a}=i;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],s)&&!r)return!0;if(o.ref&&e(o.ref,o.name)&&!r)return!0;if(bu(a,e))break}else if(St(a)&&bu(a,e))break}}};function tE(t,e,n){const r=Y(t,n);if(r||W_(n))return{error:r,name:n};const s=n.split(".");for(;s.length;){const i=s.join("."),o=Y(e,i),a=Y(t,i);if(o&&!Array.isArray(o)&&n!==i)return{name:n};if(a&&a.type)return{name:i,error:a};s.pop()}return{name:n}}var P5=(t,e,n,r)=>{n(t);const{name:s,...i}=t;return gn(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(o=>e[o]===(!r||_r.all))},k5=(t,e,n)=>!t||!e||t===e||Su(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r))),N5=(t,e,n,r,s)=>s.isOnAll?!1:!n&&s.isOnTouch?!(e||t):(n?r.isOnBlur:s.isOnBlur)?!t:(n?r.isOnChange:s.isOnChange)?t:!0,D5=(t,e)=>!dp(Y(t,e)).length&&Dt(t,e),O5=(t,e,n)=>{const r=Su(Y(t,n));return We(r,"root",e[n]),We(t,n,r),t},lh=t=>$r(t);function nE(t,e,n="validate"){if(lh(t)||Array.isArray(t)&&t.every(lh)||Bn(t)&&!t)return{type:n,message:lh(t)?t:"",ref:e}}var zo=t=>St(t)&&!cf(t)?t:{value:t,message:""},rE=async(t,e,n,r,s,i)=>{const{ref:o,refs:a,required:u,maxLength:c,minLength:d,min:m,max:h,pattern:_,validate:S,name:v,valueAsNumber:E,mount:w}=t._f,y=Y(n,v);if(!w||e.has(v))return{};const x=a?a[0]:o,k=N=>{s&&x.reportValidity&&(x.setCustomValidity(Bn(N)?"":N||""),x.reportValidity())},V={},L=q_(o),C=jc(o),b=L||C,A=(E||H_(o))&&Et(o.value)&&Et(y)||lf(o)&&o.value===""||y===""||Array.isArray(y)&&!y.length,P=sI.bind(null,v,r,V),D=(N,I,H,ue=ls.maxLength,ie=ls.minLength)=>{const de=N?I:H;V[v]={type:N?ue:ie,message:de,ref:o,...P(N?ue:ie,de)}};if(i?!Array.isArray(y)||!y.length:u&&(!b&&(A||vn(y))||Bn(y)&&!y||C&&!lI(a).isValid||L&&!cI(a).isValid)){const{value:N,message:I}=lh(u)?{value:!!u,message:u}:zo(u);if(N&&(V[v]={type:ls.required,message:I,ref:x,...P(ls.required,I)},!r))return k(I),V}if(!A&&(!vn(m)||!vn(h))){let N,I;const H=zo(h),ue=zo(m);if(!vn(y)&&!isNaN(y)){const ie=o.valueAsNumber||y&&+y;vn(H.value)||(N=ie>H.value),vn(ue.value)||(I=ie<ue.value)}else{const ie=o.valueAsDate||new Date(y),de=ae=>new Date(new Date().toDateString()+" "+ae),B=o.type=="time",Z=o.type=="week";$r(H.value)&&y&&(N=B?de(y)>de(H.value):Z?y>H.value:ie>new Date(H.value)),$r(ue.value)&&y&&(I=B?de(y)<de(ue.value):Z?y<ue.value:ie<new Date(ue.value))}if((N||I)&&(D(!!N,H.message,ue.message,ls.max,ls.min),!r))return k(V[v].message),V}if((c||d)&&!A&&($r(y)||i&&Array.isArray(y))){const N=zo(c),I=zo(d),H=!vn(N.value)&&y.length>+N.value,ue=!vn(I.value)&&y.length<+I.value;if((H||ue)&&(D(H,N.message,I.message),!r))return k(V[v].message),V}if(_&&!A&&$r(y)){const{value:N,message:I}=zo(_);if(cf(N)&&!y.match(N)&&(V[v]={type:ls.pattern,message:I,ref:o,...P(ls.pattern,I)},!r))return k(I),V}if(S){if(wr(S)){const N=await S(y,n),I=nE(N,x);if(I&&(V[v]={...I,...P(ls.validate,I.message)},!r))return k(I.message),V}else if(St(S)){let N={};for(const I in S){if(!gn(N)&&!r)break;const H=nE(await S[I](y,n),x,I);H&&(N={...H,...P(I,H.message)},k(H.message),r&&(V[v]=N))}if(!gn(N)&&(V[v]={ref:x,...N},!r))return V}}return k(!0),V};const V5={mode:_r.onSubmit,reValidateMode:_r.onChange,shouldFocusError:!0};function M5(t={}){let e={...V5,...t},n={submitCount:0,isDirty:!1,isLoading:wr(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1};const r={};let s=St(e.defaultValues)||St(e.values)?Ht(e.values||e.defaultValues)||{}:{},i=e.shouldUnregister?{}:Ht(s),o={action:!1,mount:!1,watch:!1},a={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},u,c=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let m={...d};const h={array:Q1(),state:Q1()},_=Y1(e.mode),S=Y1(e.reValidateMode),v=e.criteriaMode===_r.all,E=O=>F=>{clearTimeout(c),c=setTimeout(O,F)},w=async O=>{if(!e.disabled&&(d.isValid||m.isValid||O)){const F=e.resolver?gn((await A()).errors):await D(r,!0);F!==n.isValid&&h.state.next({isValid:F})}},y=(O,F)=>{!e.disabled&&(d.isValidating||d.validatingFields||m.isValidating||m.validatingFields)&&((O||Array.from(a.mount)).forEach(z=>{z&&(F?We(n.validatingFields,z,F):Dt(n.validatingFields,z))}),h.state.next({validatingFields:n.validatingFields,isValidating:!gn(n.validatingFields)}))},x=(O,F=[],z,te,K=!0,q=!0)=>{if(te&&z&&!e.disabled){if(o.action=!0,q&&Array.isArray(Y(r,O))){const oe=z(Y(r,O),te.argA,te.argB);K&&We(r,O,oe)}if(q&&Array.isArray(Y(n.errors,O))){const oe=z(Y(n.errors,O),te.argA,te.argB);K&&We(n.errors,O,oe),D5(n.errors,O)}if((d.touchedFields||m.touchedFields)&&q&&Array.isArray(Y(n.touchedFields,O))){const oe=z(Y(n.touchedFields,O),te.argA,te.argB);K&&We(n.touchedFields,O,oe)}(d.dirtyFields||m.dirtyFields)&&(n.dirtyFields=Gl(s,i)),h.state.next({name:O,isDirty:I(O,F),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else We(i,O,F)},k=(O,F)=>{We(n.errors,O,F),h.state.next({errors:n.errors})},V=O=>{n.errors=O,h.state.next({errors:n.errors,isValid:!1})},L=(O,F,z,te)=>{const K=Y(r,O);if(K){const q=Y(i,O,Et(z)?Y(s,O):z);Et(q)||te&&te.defaultChecked||F?We(i,O,F?q:X1(K._f)):ie(O,q),o.mount&&w()}},C=(O,F,z,te,K)=>{let q=!1,oe=!1;const Oe={name:O};if(!e.disabled){if(!z||te){(d.isDirty||m.isDirty)&&(oe=n.isDirty,n.isDirty=Oe.isDirty=I(),q=oe!==Oe.isDirty);const lt=Ws(Y(s,O),F);oe=!!Y(n.dirtyFields,O),lt?Dt(n.dirtyFields,O):We(n.dirtyFields,O,!0),Oe.dirtyFields=n.dirtyFields,q=q||(d.dirtyFields||m.dirtyFields)&&oe!==!lt}if(z){const lt=Y(n.touchedFields,O);lt||(We(n.touchedFields,O,z),Oe.touchedFields=n.touchedFields,q=q||(d.touchedFields||m.touchedFields)&&lt!==z)}q&&K&&h.state.next(Oe)}return q?Oe:{}},b=(O,F,z,te)=>{const K=Y(n.errors,O),q=(d.isValid||m.isValid)&&Bn(F)&&n.isValid!==F;if(e.delayError&&z?(u=E(()=>k(O,z)),u(e.delayError)):(clearTimeout(c),u=null,z?We(n.errors,O,z):Dt(n.errors,O)),(z?!Ws(K,z):K)||!gn(te)||q){const oe={...te,...q&&Bn(F)?{isValid:F}:{},errors:n.errors,name:O};n={...n,...oe},h.state.next(oe)}},A=async O=>{y(O,!0);const F=await e.resolver(i,e.context,A5(O||a.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return y(O),F},P=async O=>{const{errors:F}=await A(O);if(O)for(const z of O){const te=Y(F,z);te?We(n.errors,z,te):Dt(n.errors,z)}else n.errors=F;return F},D=async(O,F,z={valid:!0})=>{for(const te in O){const K=O[te];if(K){const{_f:q,...oe}=K;if(q){const Oe=a.array.has(q.name),lt=K._f&&R5(K._f);lt&&d.validatingFields&&y([te],!0);const Ft=await rE(K,a.disabled,i,v,e.shouldUseNativeValidation&&!F,Oe);if(lt&&d.validatingFields&&y([te]),Ft[q.name]&&(z.valid=!1,F))break;!F&&(Y(Ft,q.name)?Oe?O5(n.errors,Ft,q.name):We(n.errors,q.name,Ft[q.name]):Dt(n.errors,q.name))}!gn(oe)&&await D(oe,F,z)}}return z.valid},N=()=>{for(const O of a.unMount){const F=Y(r,O);F&&(F._f.refs?F._f.refs.every(z=>!Rm(z)):!Rm(F._f.ref))&&pt(O)}a.unMount=new Set},I=(O,F)=>!e.disabled&&(O&&F&&We(i,O,F),!Ws(Se(),s)),H=(O,F,z)=>rI(O,a,{...o.mount?i:Et(F)?s:$r(O)?{[O]:F}:F},z,F),ue=O=>dp(Y(o.mount?i:s,O,e.shouldUnregister?Y(s,O,[]):[])),ie=(O,F,z={})=>{const te=Y(r,O);let K=F;if(te){const q=te._f;q&&(!q.disabled&&We(i,O,uI(F,q)),K=lf(q.ref)&&vn(F)?"":F,iI(q.ref)?[...q.ref.options].forEach(oe=>oe.selected=K.includes(oe.value)):q.refs?jc(q.ref)?q.refs.length>1?q.refs.forEach(oe=>(!oe.defaultChecked||!oe.disabled)&&(oe.checked=Array.isArray(K)?!!K.find(Oe=>Oe===oe.value):K===oe.value)):q.refs[0]&&(q.refs[0].checked=!!K):q.refs.forEach(oe=>oe.checked=oe.value===K):H_(q.ref)?q.ref.value="":(q.ref.value=K,q.ref.type||h.state.next({name:O,values:Ht(i)})))}(z.shouldDirty||z.shouldTouch)&&C(O,K,z.shouldTouch,z.shouldDirty,!0),z.shouldValidate&&me(O)},de=(O,F,z)=>{for(const te in F){const K=F[te],q=`${O}.${te}`,oe=Y(r,q);(a.array.has(O)||St(K)||oe&&!oe._f)&&!Yi(K)?de(q,K,z):ie(q,K,z)}},B=(O,F,z={})=>{const te=Y(r,O),K=a.array.has(O),q=Ht(F);We(i,O,q),K?(h.array.next({name:O,values:Ht(i)}),(d.isDirty||d.dirtyFields||m.isDirty||m.dirtyFields)&&z.shouldDirty&&h.state.next({name:O,dirtyFields:Gl(s,i),isDirty:I(O,q)})):te&&!te._f&&!vn(q)?de(O,q,z):ie(O,q,z),eE(O,a)&&h.state.next({...n}),h.state.next({name:o.mount?O:void 0,values:Ht(i)})},Z=async O=>{o.mount=!0;const F=O.target;let z=F.name,te=!0;const K=Y(r,z),q=oe=>{te=Number.isNaN(oe)||Yi(oe)&&isNaN(oe.getTime())||Ws(oe,Y(i,z,oe))};if(K){let oe,Oe;const lt=F.type?X1(K._f):YR(O),Ft=O.type===af.BLUR||O.type===af.FOCUS_OUT,Ui=!I5(K._f)&&!e.resolver&&!Y(n.errors,z)&&!K._f.deps||N5(Ft,Y(n.touchedFields,z),n.isSubmitted,S,_),Oo=eE(z,a,Ft);We(i,z,lt),Ft?(K._f.onBlur&&K._f.onBlur(O),u&&u(0)):K._f.onChange&&K._f.onChange(O);const Vo=C(z,lt,Ft),El=!gn(Vo)||Oo;if(!Ft&&h.state.next({name:z,type:O.type,values:Ht(i)}),Ui)return(d.isValid||m.isValid)&&(e.mode==="onBlur"?Ft&&w():Ft||w()),El&&h.state.next({name:z,...Oo?{}:Vo});if(!Ft&&Oo&&h.state.next({...n}),e.resolver){const{errors:Bc}=await A([z]);if(q(lt),te){const _p=tE(n.errors,r,z),Mo=tE(Bc,r,_p.name||z);oe=Mo.error,z=Mo.name,Oe=gn(Bc)}}else y([z],!0),oe=(await rE(K,a.disabled,i,v,e.shouldUseNativeValidation))[z],y([z]),q(lt),te&&(oe?Oe=!1:(d.isValid||m.isValid)&&(Oe=await D(r,!0)));te&&(K._f.deps&&me(K._f.deps),b(z,Oe,oe,Vo))}},ae=(O,F)=>{if(Y(n.errors,F)&&O.focus)return O.focus(),1},me=async(O,F={})=>{let z,te;const K=Su(O);if(e.resolver){const q=await P(Et(O)?O:K);z=gn(q),te=O?!K.some(oe=>Y(q,oe)):z}else O?(te=(await Promise.all(K.map(async q=>{const oe=Y(r,q);return await D(oe&&oe._f?{[q]:oe}:oe)}))).every(Boolean),!(!te&&!n.isValid)&&w()):te=z=await D(r);return h.state.next({...!$r(O)||(d.isValid||m.isValid)&&z!==n.isValid?{}:{name:O},...e.resolver||!O?{isValid:z}:{},errors:n.errors}),F.shouldFocus&&!te&&bu(r,ae,O?K:a.mount),te},Se=O=>{const F={...o.mount?i:s};return Et(O)?F:$r(O)?Y(F,O):O.map(z=>Y(F,z))},Ne=(O,F)=>({invalid:!!Y((F||n).errors,O),isDirty:!!Y((F||n).dirtyFields,O),error:Y((F||n).errors,O),isValidating:!!Y(n.validatingFields,O),isTouched:!!Y((F||n).touchedFields,O)}),at=O=>{O&&Su(O).forEach(F=>Dt(n.errors,F)),h.state.next({errors:O?n.errors:{}})},Pt=(O,F,z)=>{const te=(Y(r,O,{_f:{}})._f||{}).ref,K=Y(n.errors,O)||{},{ref:q,message:oe,type:Oe,...lt}=K;We(n.errors,O,{...lt,...F,ref:te}),h.state.next({name:O,errors:n.errors,isValid:!1}),z&&z.shouldFocus&&te&&te.focus&&te.focus()},kt=(O,F)=>wr(O)?h.state.subscribe({next:z=>O(H(void 0,F),z)}):H(O,F,!0),he=O=>h.state.subscribe({next:F=>{k5(O.name,F.name,O.exact)&&P5(F,O.formState||d,ss,O.reRenderRoot)&&O.callback({values:{...i},...n,...F})}}).unsubscribe,Qe=O=>(o.mount=!0,m={...m,...O.formState},he({...O,formState:m})),pt=(O,F={})=>{for(const z of O?Su(O):a.mount)a.mount.delete(z),a.array.delete(z),F.keepValue||(Dt(r,z),Dt(i,z)),!F.keepError&&Dt(n.errors,z),!F.keepDirty&&Dt(n.dirtyFields,z),!F.keepTouched&&Dt(n.touchedFields,z),!F.keepIsValidating&&Dt(n.validatingFields,z),!e.shouldUnregister&&!F.keepDefaultValue&&Dt(s,z);h.state.next({values:Ht(i)}),h.state.next({...n,...F.keepDirty?{isDirty:I()}:{}}),!F.keepIsValid&&w()},Me=({disabled:O,name:F})=>{(Bn(O)&&o.mount||O||a.disabled.has(F))&&(O?a.disabled.add(F):a.disabled.delete(F))},Ae=(O,F={})=>{let z=Y(r,O);const te=Bn(F.disabled)||Bn(e.disabled);return We(r,O,{...z||{},_f:{...z&&z._f?z._f:{ref:{name:O}},name:O,mount:!0,...F}}),a.mount.add(O),z?Me({disabled:Bn(F.disabled)?F.disabled:e.disabled,name:O}):L(O,!0,F.value),{...te?{disabled:F.disabled||e.disabled}:{},...e.progressive?{required:!!F.required,min:Zl(F.min),max:Zl(F.max),minLength:Zl(F.minLength),maxLength:Zl(F.maxLength),pattern:Zl(F.pattern)}:{},name:O,onChange:Z,onBlur:Z,ref:K=>{if(K){Ae(O,F),z=Y(r,O);const q=Et(K.value)&&K.querySelectorAll&&K.querySelectorAll("input,select,textarea")[0]||K,oe=S5(q),Oe=z._f.refs||[];if(oe?Oe.find(lt=>lt===q):q===z._f.ref)return;We(r,O,{_f:{...z._f,...oe?{refs:[...Oe.filter(Rm),q,...Array.isArray(Y(s,O))?[{}]:[]],ref:{type:q.type,name:O}}:{ref:q}}}),L(O,!1,void 0,q)}else z=Y(r,O,{}),z._f&&(z._f.mount=!1),(e.shouldUnregister||F.shouldUnregister)&&!(JR(a.array,O)&&o.action)&&a.unMount.add(O)}}},De=()=>e.shouldFocusError&&bu(r,ae,a.mount),Nt=O=>{Bn(O)&&(h.state.next({disabled:O}),bu(r,(F,z)=>{const te=Y(r,z);te&&(F.disabled=te._f.disabled||O,Array.isArray(te._f.refs)&&te._f.refs.forEach(K=>{K.disabled=te._f.disabled||O}))},0,!1))},$t=(O,F)=>async z=>{let te;z&&(z.preventDefault&&z.preventDefault(),z.persist&&z.persist());let K=Ht(i);if(h.state.next({isSubmitting:!0}),e.resolver){const{errors:q,values:oe}=await A();n.errors=q,K=oe}else await D(r);if(a.disabled.size)for(const q of a.disabled)We(K,q,void 0);if(Dt(n.errors,"root"),gn(n.errors)){h.state.next({errors:{}});try{await O(K,z)}catch(q){te=q}}else F&&await F({...n.errors},z),De(),setTimeout(De);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:gn(n.errors)&&!te,submitCount:n.submitCount+1,errors:n.errors}),te)throw te},ur=(O,F={})=>{Y(r,O)&&(Et(F.defaultValue)?B(O,Ht(Y(s,O))):(B(O,F.defaultValue),We(s,O,Ht(F.defaultValue))),F.keepTouched||Dt(n.touchedFields,O),F.keepDirty||(Dt(n.dirtyFields,O),n.isDirty=F.defaultValue?I(O,Ht(Y(s,O))):I()),F.keepError||(Dt(n.errors,O),d.isValid&&w()),h.state.next({...n}))},cr=(O,F={})=>{const z=O?Ht(O):s,te=Ht(z),K=gn(O),q=K?s:te;if(F.keepDefaultValues||(s=z),!F.keepValues){if(F.keepDirtyValues){const oe=new Set([...a.mount,...Object.keys(Gl(s,i))]);for(const Oe of Array.from(oe))Y(n.dirtyFields,Oe)?We(q,Oe,Y(i,Oe)):B(Oe,Y(q,Oe))}else{if($_&&Et(O))for(const oe of a.mount){const Oe=Y(r,oe);if(Oe&&Oe._f){const lt=Array.isArray(Oe._f.refs)?Oe._f.refs[0]:Oe._f.ref;if(lf(lt)){const Ft=lt.closest("form");if(Ft){Ft.reset();break}}}}for(const oe of a.mount)B(oe,Y(q,oe))}i=Ht(q),h.array.next({values:{...q}}),h.state.next({values:{...q}})}a={mount:F.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!F.keepIsValid||!!F.keepDirtyValues,o.watch=!!e.shouldUnregister,h.state.next({submitCount:F.keepSubmitCount?n.submitCount:0,isDirty:K?!1:F.keepDirty?n.isDirty:!!(F.keepDefaultValues&&!Ws(O,s)),isSubmitted:F.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:K?{}:F.keepDirtyValues?F.keepDefaultValues&&i?Gl(s,i):n.dirtyFields:F.keepDefaultValues&&O?Gl(s,O):F.keepDirty?n.dirtyFields:{},touchedFields:F.keepTouched?n.touchedFields:{},errors:F.keepErrors?n.errors:{},isSubmitSuccessful:F.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},Pr=(O,F)=>cr(wr(O)?O(i):O,F),wl=(O,F={})=>{const z=Y(r,O),te=z&&z._f;if(te){const K=te.refs?te.refs[0]:te.ref;K.focus&&(K.focus(),F.shouldSelect&&wr(K.select)&&K.select())}},ss=O=>{n={...n,...O}},xl={control:{register:Ae,unregister:pt,getFieldState:Ne,handleSubmit:$t,setError:Pt,_subscribe:he,_runSchema:A,_getWatch:H,_getDirty:I,_setValid:w,_setFieldArray:x,_setDisabledField:Me,_setErrors:V,_getFieldArray:ue,_reset:cr,_resetDefaultValues:()=>wr(e.defaultValues)&&e.defaultValues().then(O=>{Pr(O,e.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:N,_disableForm:Nt,_subjects:h,_proxyFormState:d,get _fields(){return r},get _formValues(){return i},get _state(){return o},set _state(O){o=O},get _defaultValues(){return s},get _names(){return a},set _names(O){a=O},get _formState(){return n},get _options(){return e},set _options(O){e={...e,...O}}},subscribe:Qe,trigger:me,register:Ae,handleSubmit:$t,watch:kt,setValue:B,getValues:Se,reset:Pr,resetField:ur,clearErrors:at,unregister:pt,setError:Pt,setFocus:wl,getFieldState:Ne};return{...xl,formControl:xl}}function j5(t={}){const e=xe.useRef(void 0),n=xe.useRef(void 0),[r,s]=xe.useState({isDirty:!1,isValidating:!1,isLoading:wr(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:wr(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...t.formControl?t.formControl:M5(t),formState:r},t.formControl&&t.defaultValues&&!wr(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions));const i=e.current.control;return i._options=t,xe.useLayoutEffect(()=>i._subscribe({formState:i._proxyFormState,callback:()=>s({...i._formState}),reRenderRoot:!0}),[i]),xe.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),xe.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==r.isDirty&&i._subjects.state.next({isDirty:o})}},[i,r.isDirty]),xe.useEffect(()=>{t.values&&!Ws(t.values,n.current)?(i._reset(t.values,i._options.resetOptions),n.current=t.values,s(o=>({...o}))):i._resetDefaultValues()},[t.values,i]),xe.useEffect(()=>{t.errors&&!gn(t.errors)&&i._setErrors(t.errors)},[t.errors,i]),xe.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),xe.useEffect(()=>{t.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[t.shouldUnregister,i]),e.current.formState=nI(r,i),e.current}const sE=(t,e,n)=>{if(t&&"reportValidity"in t){const r=Y(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},dI=(t,e)=>{for(const n in e.fields){const r=e.fields[n];r&&r.ref&&"reportValidity"in r.ref?sE(r.ref,n,t):r.refs&&r.refs.forEach(s=>sE(s,n,t))}},L5=(t,e)=>{e.shouldUseNativeValidation&&dI(t,e);const n={};for(const r in t){const s=Y(e.fields,r),i=Object.assign(t[r]||{},{ref:s&&s.ref});if(F5(e.names||Object.keys(t),r)){const o=Object.assign({},Y(n,r));We(o,"root",i),We(n,r,o)}else We(n,r,i)}return n},F5=(t,e)=>t.some(n=>n.startsWith(e+"."));var U5=function(t,e){for(var n={};t.length;){var r=t[0],s=r.code,i=r.message,o=r.path.join(".");if(!n[o])if("unionErrors"in r){var a=r.unionErrors[0].errors[0];n[o]={message:a.message,type:a.code}}else n[o]={message:i,type:s};if("unionErrors"in r&&r.unionErrors.forEach(function(d){return d.errors.forEach(function(m){return t.push(m)})}),e){var u=n[o].types,c=u&&u[r.code];n[o]=sI(o,e,n,s,c?[].concat(c,r.message):r.message)}t.shift()}return n},B5=function(t,e,n){return n===void 0&&(n={}),function(r,s,i){try{return Promise.resolve(function(o,a){try{var u=Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(c){return i.shouldUseNativeValidation&&dI({},i),{errors:{},values:n.raw?r:c}})}catch(c){return a(c)}return u&&u.then?u.then(void 0,a):u}(0,function(o){if(function(a){return Array.isArray(a==null?void 0:a.errors)}(o))return{values:{},errors:L5(U5(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}},Fe;(function(t){t.assertEqual=s=>s;function e(s){}t.assertIs=e;function n(s){throw new Error}t.assertNever=n,t.arrayToEnum=s=>{const i={};for(const o of s)i[o]=o;return i},t.getValidEnumValues=s=>{const i=t.objectKeys(s).filter(a=>typeof s[s[a]]!="number"),o={};for(const a of i)o[a]=s[a];return t.objectValues(o)},t.objectValues=s=>t.objectKeys(s).map(function(i){return s[i]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},t.find=(s,i)=>{for(const o of s)if(i(o))return o},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function r(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}t.joinValues=r,t.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(Fe||(Fe={}));var Cy;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(Cy||(Cy={}));const re=Fe.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),fs=t=>{switch(typeof t){case"undefined":return re.undefined;case"string":return re.string;case"number":return isNaN(t)?re.nan:re.number;case"boolean":return re.boolean;case"function":return re.function;case"bigint":return re.bigint;case"symbol":return re.symbol;case"object":return Array.isArray(t)?re.array:t===null?re.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?re.promise:typeof Map<"u"&&t instanceof Map?re.map:typeof Set<"u"&&t instanceof Set?re.set:typeof Date<"u"&&t instanceof Date?re.date:re.object;default:return re.unknown}},Q=Fe.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),z5=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class Kn extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(i){return i.message},r={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let a=r,u=0;for(;u<o.path.length;){const c=o.path[u];u===o.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(n(o))):a[c]=a[c]||{_errors:[]},a=a[c],u++}}};return s(this),r}static assert(e){if(!(e instanceof Kn))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Fe.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const s of this.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(e(s))):r.push(e(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Kn.create=t=>new Kn(t);const sl=(t,e)=>{let n;switch(t.code){case Q.invalid_type:t.received===re.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case Q.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,Fe.jsonStringifyReplacer)}`;break;case Q.unrecognized_keys:n=`Unrecognized key(s) in object: ${Fe.joinValues(t.keys,", ")}`;break;case Q.invalid_union:n="Invalid input";break;case Q.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Fe.joinValues(t.options)}`;break;case Q.invalid_enum_value:n=`Invalid enum value. Expected ${Fe.joinValues(t.options)}, received '${t.received}'`;break;case Q.invalid_arguments:n="Invalid function arguments";break;case Q.invalid_return_type:n="Invalid function return type";break;case Q.invalid_date:n="Invalid date";break;case Q.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:Fe.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case Q.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case Q.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case Q.custom:n="Invalid input";break;case Q.invalid_intersection_types:n="Intersection results could not be merged";break;case Q.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case Q.not_finite:n="Number must be finite";break;default:n=e.defaultError,Fe.assertNever(t)}return{message:n}};let hI=sl;function $5(t){hI=t}function df(){return hI}const hf=t=>{const{data:e,path:n,errorMaps:r,issueData:s}=t,i=[...n,...s.path||[]],o={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let a="";const u=r.filter(c=>!!c).slice().reverse();for(const c of u)a=c(o,{data:e,defaultError:a}).message;return{...s,path:i,message:a}},W5=[];function J(t,e){const n=df(),r=hf({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===sl?void 0:sl].filter(s=>!!s)});t.common.issues.push(r)}class dn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const s of n){if(s.status==="aborted")return ve;s.status==="dirty"&&e.dirty(),r.push(s.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const s of n){const i=await s.key,o=await s.value;r.push({key:i,value:o})}return dn.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const s of n){const{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return ve;i.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(r[i.value]=o.value)}return{status:e.value,value:r}}}const ve=Object.freeze({status:"aborted"}),ua=t=>({status:"dirty",value:t}),wn=t=>({status:"valid",value:t}),Ay=t=>t.status==="aborted",Ry=t=>t.status==="dirty",So=t=>t.status==="valid",sc=t=>typeof Promise<"u"&&t instanceof Promise;function ff(t,e,n,r){if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function fI(t,e,n,r,s){if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}var ce;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(ce||(ce={}));var iu,ou;class ts{constructor(e,n,r,s){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const iE=(t,e)=>{if(So(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Kn(t.common.issues);return this._error=n,this._error}}};function Ee(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:s}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(o,a)=>{var u,c;const{message:d}=t;return o.code==="invalid_enum_value"?{message:d??a.defaultError}:typeof a.data>"u"?{message:(u=d??r)!==null&&u!==void 0?u:a.defaultError}:o.code!=="invalid_type"?{message:a.defaultError}:{message:(c=d??n)!==null&&c!==void 0?c:a.defaultError}},description:s}}class Ce{get description(){return this._def.description}_getType(e){return fs(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:fs(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new dn,ctx:{common:e.parent.common,data:e.data,parsedType:fs(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(sc(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const s={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:fs(e)},i=this._parseSync({data:e,path:s.path,parent:s});return iE(s,i)}"~validate"(e){var n,r;const s={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:fs(e)};if(!this["~standard"].async)try{const i=this._parseSync({data:e,path:[],parent:s});return So(i)?{value:i.value}:{issues:s.common.issues}}catch(i){!((r=(n=i==null?void 0:i.message)===null||n===void 0?void 0:n.toLowerCase())===null||r===void 0)&&r.includes("encountered")&&(this["~standard"].async=!0),s.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:s}).then(i=>So(i)?{value:i.value}:{issues:s.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:fs(e)},s=this._parse({data:e,path:r.path,parent:r}),i=await(sc(s)?s:Promise.resolve(s));return iE(r,i)}refine(e,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,i)=>{const o=e(s),a=()=>i.addIssue({code:Q.custom,...r(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(u=>u?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,n){return this._refinement((r,s)=>e(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(e){return new Ir({schema:this,typeName:ye.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Yr.create(this,this._def)}nullable(){return ki.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Sr.create(this)}promise(){return ol.create(this,this._def)}or(e){return lc.create([this,e],this._def)}and(e){return uc.create(this,e,this._def)}transform(e){return new Ir({...Ee(this._def),schema:this,typeName:ye.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new pc({...Ee(this._def),innerType:this,defaultValue:n,typeName:ye.ZodDefault})}brand(){return new Q_({typeName:ye.ZodBranded,type:this,...Ee(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new mc({...Ee(this._def),innerType:this,catchValue:n,typeName:ye.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return Lc.create(this,e)}readonly(){return gc.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const H5=/^c[^\s-]{8,}$/i,q5=/^[0-9a-z]+$/,Q5=/^[0-9A-HJKMNP-TV-Z]{26}$/i,K5=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,G5=/^[a-z0-9_-]{21}$/i,Z5=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,X5=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Y5=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,J5="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Im;const eU=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,tU=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,nU=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,rU=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,sU=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,iU=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,pI="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",oU=new RegExp(`^${pI}$`);function mI(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function aU(t){return new RegExp(`^${mI(t)}$`)}function gI(t){let e=`${pI}T${mI(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function lU(t,e){return!!((e==="v4"||!e)&&eU.test(t)||(e==="v6"||!e)&&nU.test(t))}function uU(t,e){if(!Z5.test(t))return!1;try{const[n]=t.split("."),r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),s=JSON.parse(atob(r));return!(typeof s!="object"||s===null||!s.typ||!s.alg||e&&s.alg!==e)}catch{return!1}}function cU(t,e){return!!((e==="v4"||!e)&&tU.test(t)||(e==="v6"||!e)&&rU.test(t))}class xr extends Ce{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==re.string){const i=this._getOrReturnCtx(e);return J(i,{code:Q.invalid_type,expected:re.string,received:i.parsedType}),ve}const r=new dn;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),J(s,{code:Q.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),J(s,{code:Q.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const o=e.data.length>i.value,a=e.data.length<i.value;(o||a)&&(s=this._getOrReturnCtx(e,s),o?J(s,{code:Q.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):a&&J(s,{code:Q.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")Y5.test(e.data)||(s=this._getOrReturnCtx(e,s),J(s,{validation:"email",code:Q.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")Im||(Im=new RegExp(J5,"u")),Im.test(e.data)||(s=this._getOrReturnCtx(e,s),J(s,{validation:"emoji",code:Q.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")K5.test(e.data)||(s=this._getOrReturnCtx(e,s),J(s,{validation:"uuid",code:Q.invalid_string,message:i.message}),r.dirty());else if(i.kind==="nanoid")G5.test(e.data)||(s=this._getOrReturnCtx(e,s),J(s,{validation:"nanoid",code:Q.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")H5.test(e.data)||(s=this._getOrReturnCtx(e,s),J(s,{validation:"cuid",code:Q.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")q5.test(e.data)||(s=this._getOrReturnCtx(e,s),J(s,{validation:"cuid2",code:Q.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")Q5.test(e.data)||(s=this._getOrReturnCtx(e,s),J(s,{validation:"ulid",code:Q.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),J(s,{validation:"url",code:Q.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),J(s,{validation:"regex",code:Q.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),J(s,{code:Q.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),J(s,{code:Q.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),J(s,{code:Q.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?gI(i).test(e.data)||(s=this._getOrReturnCtx(e,s),J(s,{code:Q.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="date"?oU.test(e.data)||(s=this._getOrReturnCtx(e,s),J(s,{code:Q.invalid_string,validation:"date",message:i.message}),r.dirty()):i.kind==="time"?aU(i).test(e.data)||(s=this._getOrReturnCtx(e,s),J(s,{code:Q.invalid_string,validation:"time",message:i.message}),r.dirty()):i.kind==="duration"?X5.test(e.data)||(s=this._getOrReturnCtx(e,s),J(s,{validation:"duration",code:Q.invalid_string,message:i.message}),r.dirty()):i.kind==="ip"?lU(e.data,i.version)||(s=this._getOrReturnCtx(e,s),J(s,{validation:"ip",code:Q.invalid_string,message:i.message}),r.dirty()):i.kind==="jwt"?uU(e.data,i.alg)||(s=this._getOrReturnCtx(e,s),J(s,{validation:"jwt",code:Q.invalid_string,message:i.message}),r.dirty()):i.kind==="cidr"?cU(e.data,i.version)||(s=this._getOrReturnCtx(e,s),J(s,{validation:"cidr",code:Q.invalid_string,message:i.message}),r.dirty()):i.kind==="base64"?sU.test(e.data)||(s=this._getOrReturnCtx(e,s),J(s,{validation:"base64",code:Q.invalid_string,message:i.message}),r.dirty()):i.kind==="base64url"?iU.test(e.data)||(s=this._getOrReturnCtx(e,s),J(s,{validation:"base64url",code:Q.invalid_string,message:i.message}),r.dirty()):Fe.assertNever(i);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(s=>e.test(s),{validation:n,code:Q.invalid_string,...ce.errToObj(r)})}_addCheck(e){return new xr({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...ce.errToObj(e)})}url(e){return this._addCheck({kind:"url",...ce.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...ce.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...ce.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...ce.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...ce.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...ce.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...ce.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...ce.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...ce.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...ce.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...ce.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...ce.errToObj(e)})}datetime(e){var n,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(n=e==null?void 0:e.offset)!==null&&n!==void 0?n:!1,local:(r=e==null?void 0:e.local)!==null&&r!==void 0?r:!1,...ce.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...ce.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...ce.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...ce.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...ce.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...ce.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...ce.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...ce.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...ce.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...ce.errToObj(n)})}nonempty(e){return this.min(1,ce.errToObj(e))}trim(){return new xr({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new xr({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new xr({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}xr.create=t=>{var e;return new xr({checks:[],typeName:ye.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...Ee(t)})};function dU(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=n>r?n:r,i=parseInt(t.toFixed(s).replace(".","")),o=parseInt(e.toFixed(s).replace(".",""));return i%o/Math.pow(10,s)}class Ri extends Ce{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==re.number){const i=this._getOrReturnCtx(e);return J(i,{code:Q.invalid_type,expected:re.number,received:i.parsedType}),ve}let r;const s=new dn;for(const i of this._def.checks)i.kind==="int"?Fe.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),J(r,{code:Q.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),J(r,{code:Q.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),J(r,{code:Q.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?dU(e.data,i.value)!==0&&(r=this._getOrReturnCtx(e,r),J(r,{code:Q.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),J(r,{code:Q.not_finite,message:i.message}),s.dirty()):Fe.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,ce.toString(n))}gt(e,n){return this.setLimit("min",e,!1,ce.toString(n))}lte(e,n){return this.setLimit("max",e,!0,ce.toString(n))}lt(e,n){return this.setLimit("max",e,!1,ce.toString(n))}setLimit(e,n,r,s){return new Ri({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:ce.toString(s)}]})}_addCheck(e){return new Ri({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:ce.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ce.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ce.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ce.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ce.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:ce.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:ce.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ce.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ce.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Fe.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Ri.create=t=>new Ri({checks:[],typeName:ye.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Ee(t)});class Ii extends Ce{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==re.bigint)return this._getInvalidInput(e);let r;const s=new dn;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),J(r,{code:Q.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),J(r,{code:Q.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),J(r,{code:Q.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):Fe.assertNever(i);return{status:s.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return J(n,{code:Q.invalid_type,expected:re.bigint,received:n.parsedType}),ve}gte(e,n){return this.setLimit("min",e,!0,ce.toString(n))}gt(e,n){return this.setLimit("min",e,!1,ce.toString(n))}lte(e,n){return this.setLimit("max",e,!0,ce.toString(n))}lt(e,n){return this.setLimit("max",e,!1,ce.toString(n))}setLimit(e,n,r,s){return new Ii({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:ce.toString(s)}]})}_addCheck(e){return new Ii({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ce.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ce.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ce.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ce.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:ce.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Ii.create=t=>{var e;return new Ii({checks:[],typeName:ye.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...Ee(t)})};class ic extends Ce{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==re.boolean){const r=this._getOrReturnCtx(e);return J(r,{code:Q.invalid_type,expected:re.boolean,received:r.parsedType}),ve}return wn(e.data)}}ic.create=t=>new ic({typeName:ye.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Ee(t)});class bo extends Ce{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==re.date){const i=this._getOrReturnCtx(e);return J(i,{code:Q.invalid_type,expected:re.date,received:i.parsedType}),ve}if(isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return J(i,{code:Q.invalid_date}),ve}const r=new dn;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),J(s,{code:Q.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),J(s,{code:Q.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):Fe.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new bo({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:ce.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:ce.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}bo.create=t=>new bo({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:ye.ZodDate,...Ee(t)});class pf extends Ce{_parse(e){if(this._getType(e)!==re.symbol){const r=this._getOrReturnCtx(e);return J(r,{code:Q.invalid_type,expected:re.symbol,received:r.parsedType}),ve}return wn(e.data)}}pf.create=t=>new pf({typeName:ye.ZodSymbol,...Ee(t)});class oc extends Ce{_parse(e){if(this._getType(e)!==re.undefined){const r=this._getOrReturnCtx(e);return J(r,{code:Q.invalid_type,expected:re.undefined,received:r.parsedType}),ve}return wn(e.data)}}oc.create=t=>new oc({typeName:ye.ZodUndefined,...Ee(t)});class ac extends Ce{_parse(e){if(this._getType(e)!==re.null){const r=this._getOrReturnCtx(e);return J(r,{code:Q.invalid_type,expected:re.null,received:r.parsedType}),ve}return wn(e.data)}}ac.create=t=>new ac({typeName:ye.ZodNull,...Ee(t)});class il extends Ce{constructor(){super(...arguments),this._any=!0}_parse(e){return wn(e.data)}}il.create=t=>new il({typeName:ye.ZodAny,...Ee(t)});class uo extends Ce{constructor(){super(...arguments),this._unknown=!0}_parse(e){return wn(e.data)}}uo.create=t=>new uo({typeName:ye.ZodUnknown,...Ee(t)});class Rs extends Ce{_parse(e){const n=this._getOrReturnCtx(e);return J(n,{code:Q.invalid_type,expected:re.never,received:n.parsedType}),ve}}Rs.create=t=>new Rs({typeName:ye.ZodNever,...Ee(t)});class mf extends Ce{_parse(e){if(this._getType(e)!==re.undefined){const r=this._getOrReturnCtx(e);return J(r,{code:Q.invalid_type,expected:re.void,received:r.parsedType}),ve}return wn(e.data)}}mf.create=t=>new mf({typeName:ye.ZodVoid,...Ee(t)});class Sr extends Ce{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),s=this._def;if(n.parsedType!==re.array)return J(n,{code:Q.invalid_type,expected:re.array,received:n.parsedType}),ve;if(s.exactLength!==null){const o=n.data.length>s.exactLength.value,a=n.data.length<s.exactLength.value;(o||a)&&(J(n,{code:o?Q.too_big:Q.too_small,minimum:a?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(J(n,{code:Q.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(J(n,{code:Q.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,a)=>s.type._parseAsync(new ts(n,o,n.path,a)))).then(o=>dn.mergeArray(r,o));const i=[...n.data].map((o,a)=>s.type._parseSync(new ts(n,o,n.path,a)));return dn.mergeArray(r,i)}get element(){return this._def.type}min(e,n){return new Sr({...this._def,minLength:{value:e,message:ce.toString(n)}})}max(e,n){return new Sr({...this._def,maxLength:{value:e,message:ce.toString(n)}})}length(e,n){return new Sr({...this._def,exactLength:{value:e,message:ce.toString(n)}})}nonempty(e){return this.min(1,e)}}Sr.create=(t,e)=>new Sr({type:t,minLength:null,maxLength:null,exactLength:null,typeName:ye.ZodArray,...Ee(e)});function Zo(t){if(t instanceof ut){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=Yr.create(Zo(r))}return new ut({...t._def,shape:()=>e})}else return t instanceof Sr?new Sr({...t._def,type:Zo(t.element)}):t instanceof Yr?Yr.create(Zo(t.unwrap())):t instanceof ki?ki.create(Zo(t.unwrap())):t instanceof ns?ns.create(t.items.map(e=>Zo(e))):t}class ut extends Ce{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=Fe.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==re.object){const c=this._getOrReturnCtx(e);return J(c,{code:Q.invalid_type,expected:re.object,received:c.parsedType}),ve}const{status:r,ctx:s}=this._processInputParams(e),{shape:i,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof Rs&&this._def.unknownKeys==="strip"))for(const c in s.data)o.includes(c)||a.push(c);const u=[];for(const c of o){const d=i[c],m=s.data[c];u.push({key:{status:"valid",value:c},value:d._parse(new ts(s,m,s.path,c)),alwaysSet:c in s.data})}if(this._def.catchall instanceof Rs){const c=this._def.unknownKeys;if(c==="passthrough")for(const d of a)u.push({key:{status:"valid",value:d},value:{status:"valid",value:s.data[d]}});else if(c==="strict")a.length>0&&(J(s,{code:Q.unrecognized_keys,keys:a}),r.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const d of a){const m=s.data[d];u.push({key:{status:"valid",value:d},value:c._parse(new ts(s,m,s.path,d)),alwaysSet:d in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const c=[];for(const d of u){const m=await d.key,h=await d.value;c.push({key:m,value:h,alwaysSet:d.alwaysSet})}return c}).then(c=>dn.mergeObjectSync(r,c)):dn.mergeObjectSync(r,u)}get shape(){return this._def.shape()}strict(e){return ce.errToObj,new ut({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var s,i,o,a;const u=(o=(i=(s=this._def).errorMap)===null||i===void 0?void 0:i.call(s,n,r).message)!==null&&o!==void 0?o:r.defaultError;return n.code==="unrecognized_keys"?{message:(a=ce.errToObj(e).message)!==null&&a!==void 0?a:u}:{message:u}}}:{}})}strip(){return new ut({...this._def,unknownKeys:"strip"})}passthrough(){return new ut({...this._def,unknownKeys:"passthrough"})}extend(e){return new ut({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new ut({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:ye.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new ut({...this._def,catchall:e})}pick(e){const n={};return Fe.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new ut({...this._def,shape:()=>n})}omit(e){const n={};return Fe.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new ut({...this._def,shape:()=>n})}deepPartial(){return Zo(this)}partial(e){const n={};return Fe.objectKeys(this.shape).forEach(r=>{const s=this.shape[r];e&&!e[r]?n[r]=s:n[r]=s.optional()}),new ut({...this._def,shape:()=>n})}required(e){const n={};return Fe.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof Yr;)i=i._def.innerType;n[r]=i}}),new ut({...this._def,shape:()=>n})}keyof(){return yI(Fe.objectKeys(this.shape))}}ut.create=(t,e)=>new ut({shape:()=>t,unknownKeys:"strip",catchall:Rs.create(),typeName:ye.ZodObject,...Ee(e)});ut.strictCreate=(t,e)=>new ut({shape:()=>t,unknownKeys:"strict",catchall:Rs.create(),typeName:ye.ZodObject,...Ee(e)});ut.lazycreate=(t,e)=>new ut({shape:t,unknownKeys:"strip",catchall:Rs.create(),typeName:ye.ZodObject,...Ee(e)});class lc extends Ce{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function s(i){for(const a of i)if(a.result.status==="valid")return a.result;for(const a of i)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const o=i.map(a=>new Kn(a.ctx.common.issues));return J(n,{code:Q.invalid_union,unionErrors:o}),ve}if(n.common.async)return Promise.all(r.map(async i=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(s);{let i;const o=[];for(const u of r){const c={...n,common:{...n.common,issues:[]},parent:null},d=u._parseSync({data:n.data,path:n.path,parent:c});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:c}),c.common.issues.length&&o.push(c.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const a=o.map(u=>new Kn(u));return J(n,{code:Q.invalid_union,unionErrors:a}),ve}}get options(){return this._def.options}}lc.create=(t,e)=>new lc({options:t,typeName:ye.ZodUnion,...Ee(e)});const cs=t=>t instanceof dc?cs(t.schema):t instanceof Ir?cs(t.innerType()):t instanceof hc?[t.value]:t instanceof Pi?t.options:t instanceof fc?Fe.objectValues(t.enum):t instanceof pc?cs(t._def.innerType):t instanceof oc?[void 0]:t instanceof ac?[null]:t instanceof Yr?[void 0,...cs(t.unwrap())]:t instanceof ki?[null,...cs(t.unwrap())]:t instanceof Q_||t instanceof gc?cs(t.unwrap()):t instanceof mc?cs(t._def.innerType):[];class fp extends Ce{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==re.object)return J(n,{code:Q.invalid_type,expected:re.object,received:n.parsedType}),ve;const r=this.discriminator,s=n.data[r],i=this.optionsMap.get(s);return i?n.common.async?i._parseAsync({data:n.data,path:n.path,parent:n}):i._parseSync({data:n.data,path:n.path,parent:n}):(J(n,{code:Q.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),ve)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const s=new Map;for(const i of n){const o=cs(i.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of o){if(s.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);s.set(a,i)}}return new fp({typeName:ye.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:s,...Ee(r)})}}function Iy(t,e){const n=fs(t),r=fs(e);if(t===e)return{valid:!0,data:t};if(n===re.object&&r===re.object){const s=Fe.objectKeys(e),i=Fe.objectKeys(t).filter(a=>s.indexOf(a)!==-1),o={...t,...e};for(const a of i){const u=Iy(t[a],e[a]);if(!u.valid)return{valid:!1};o[a]=u.data}return{valid:!0,data:o}}else if(n===re.array&&r===re.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<t.length;i++){const o=t[i],a=e[i],u=Iy(o,a);if(!u.valid)return{valid:!1};s.push(u.data)}return{valid:!0,data:s}}else return n===re.date&&r===re.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class uc extends Ce{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=(i,o)=>{if(Ay(i)||Ay(o))return ve;const a=Iy(i.value,o.value);return a.valid?((Ry(i)||Ry(o))&&n.dirty(),{status:n.value,value:a.data}):(J(r,{code:Q.invalid_intersection_types}),ve)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}uc.create=(t,e,n)=>new uc({left:t,right:e,typeName:ye.ZodIntersection,...Ee(n)});class ns extends Ce{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==re.array)return J(r,{code:Q.invalid_type,expected:re.array,received:r.parsedType}),ve;if(r.data.length<this._def.items.length)return J(r,{code:Q.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ve;!this._def.rest&&r.data.length>this._def.items.length&&(J(r,{code:Q.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...r.data].map((o,a)=>{const u=this._def.items[a]||this._def.rest;return u?u._parse(new ts(r,o,r.path,a)):null}).filter(o=>!!o);return r.common.async?Promise.all(i).then(o=>dn.mergeArray(n,o)):dn.mergeArray(n,i)}get items(){return this._def.items}rest(e){return new ns({...this._def,rest:e})}}ns.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ns({items:t,typeName:ye.ZodTuple,rest:null,...Ee(e)})};class cc extends Ce{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==re.object)return J(r,{code:Q.invalid_type,expected:re.object,received:r.parsedType}),ve;const s=[],i=this._def.keyType,o=this._def.valueType;for(const a in r.data)s.push({key:i._parse(new ts(r,a,r.path,a)),value:o._parse(new ts(r,r.data[a],r.path,a)),alwaysSet:a in r.data});return r.common.async?dn.mergeObjectAsync(n,s):dn.mergeObjectSync(n,s)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof Ce?new cc({keyType:e,valueType:n,typeName:ye.ZodRecord,...Ee(r)}):new cc({keyType:xr.create(),valueType:e,typeName:ye.ZodRecord,...Ee(n)})}}class gf extends Ce{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==re.map)return J(r,{code:Q.invalid_type,expected:re.map,received:r.parsedType}),ve;const s=this._def.keyType,i=this._def.valueType,o=[...r.data.entries()].map(([a,u],c)=>({key:s._parse(new ts(r,a,r.path,[c,"key"])),value:i._parse(new ts(r,u,r.path,[c,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const u of o){const c=await u.key,d=await u.value;if(c.status==="aborted"||d.status==="aborted")return ve;(c.status==="dirty"||d.status==="dirty")&&n.dirty(),a.set(c.value,d.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const u of o){const c=u.key,d=u.value;if(c.status==="aborted"||d.status==="aborted")return ve;(c.status==="dirty"||d.status==="dirty")&&n.dirty(),a.set(c.value,d.value)}return{status:n.value,value:a}}}}gf.create=(t,e,n)=>new gf({valueType:e,keyType:t,typeName:ye.ZodMap,...Ee(n)});class Co extends Ce{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==re.set)return J(r,{code:Q.invalid_type,expected:re.set,received:r.parsedType}),ve;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(J(r,{code:Q.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(J(r,{code:Q.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const i=this._def.valueType;function o(u){const c=new Set;for(const d of u){if(d.status==="aborted")return ve;d.status==="dirty"&&n.dirty(),c.add(d.value)}return{status:n.value,value:c}}const a=[...r.data.values()].map((u,c)=>i._parse(new ts(r,u,r.path,c)));return r.common.async?Promise.all(a).then(u=>o(u)):o(a)}min(e,n){return new Co({...this._def,minSize:{value:e,message:ce.toString(n)}})}max(e,n){return new Co({...this._def,maxSize:{value:e,message:ce.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}Co.create=(t,e)=>new Co({valueType:t,minSize:null,maxSize:null,typeName:ye.ZodSet,...Ee(e)});class Ta extends Ce{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==re.function)return J(n,{code:Q.invalid_type,expected:re.function,received:n.parsedType}),ve;function r(a,u){return hf({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,df(),sl].filter(c=>!!c),issueData:{code:Q.invalid_arguments,argumentsError:u}})}function s(a,u){return hf({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,df(),sl].filter(c=>!!c),issueData:{code:Q.invalid_return_type,returnTypeError:u}})}const i={errorMap:n.common.contextualErrorMap},o=n.data;if(this._def.returns instanceof ol){const a=this;return wn(async function(...u){const c=new Kn([]),d=await a._def.args.parseAsync(u,i).catch(_=>{throw c.addIssue(r(u,_)),c}),m=await Reflect.apply(o,this,d);return await a._def.returns._def.type.parseAsync(m,i).catch(_=>{throw c.addIssue(s(m,_)),c})})}else{const a=this;return wn(function(...u){const c=a._def.args.safeParse(u,i);if(!c.success)throw new Kn([r(u,c.error)]);const d=Reflect.apply(o,this,c.data),m=a._def.returns.safeParse(d,i);if(!m.success)throw new Kn([s(d,m.error)]);return m.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Ta({...this._def,args:ns.create(e).rest(uo.create())})}returns(e){return new Ta({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new Ta({args:e||ns.create([]).rest(uo.create()),returns:n||uo.create(),typeName:ye.ZodFunction,...Ee(r)})}}class dc extends Ce{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}dc.create=(t,e)=>new dc({getter:t,typeName:ye.ZodLazy,...Ee(e)});class hc extends Ce{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return J(n,{received:n.data,code:Q.invalid_literal,expected:this._def.value}),ve}return{status:"valid",value:e.data}}get value(){return this._def.value}}hc.create=(t,e)=>new hc({value:t,typeName:ye.ZodLiteral,...Ee(e)});function yI(t,e){return new Pi({values:t,typeName:ye.ZodEnum,...Ee(e)})}class Pi extends Ce{constructor(){super(...arguments),iu.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return J(n,{expected:Fe.joinValues(r),received:n.parsedType,code:Q.invalid_type}),ve}if(ff(this,iu)||fI(this,iu,new Set(this._def.values)),!ff(this,iu).has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return J(n,{received:n.data,code:Q.invalid_enum_value,options:r}),ve}return wn(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return Pi.create(e,{...this._def,...n})}exclude(e,n=this._def){return Pi.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}iu=new WeakMap;Pi.create=yI;class fc extends Ce{constructor(){super(...arguments),ou.set(this,void 0)}_parse(e){const n=Fe.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==re.string&&r.parsedType!==re.number){const s=Fe.objectValues(n);return J(r,{expected:Fe.joinValues(s),received:r.parsedType,code:Q.invalid_type}),ve}if(ff(this,ou)||fI(this,ou,new Set(Fe.getValidEnumValues(this._def.values))),!ff(this,ou).has(e.data)){const s=Fe.objectValues(n);return J(r,{received:r.data,code:Q.invalid_enum_value,options:s}),ve}return wn(e.data)}get enum(){return this._def.values}}ou=new WeakMap;fc.create=(t,e)=>new fc({values:t,typeName:ye.ZodNativeEnum,...Ee(e)});class ol extends Ce{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==re.promise&&n.common.async===!1)return J(n,{code:Q.invalid_type,expected:re.promise,received:n.parsedType}),ve;const r=n.parsedType===re.promise?n.data:Promise.resolve(n.data);return wn(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}ol.create=(t,e)=>new ol({type:t,typeName:ye.ZodPromise,...Ee(e)});class Ir extends Ce{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ye.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:o=>{J(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const o=s.transform(r.data,i);if(r.common.async)return Promise.resolve(o).then(async a=>{if(n.value==="aborted")return ve;const u=await this._def.schema._parseAsync({data:a,path:r.path,parent:r});return u.status==="aborted"?ve:u.status==="dirty"||n.value==="dirty"?ua(u.value):u});{if(n.value==="aborted")return ve;const a=this._def.schema._parseSync({data:o,path:r.path,parent:r});return a.status==="aborted"?ve:a.status==="dirty"||n.value==="dirty"?ua(a.value):a}}if(s.type==="refinement"){const o=a=>{const u=s.refinement(a,i);if(r.common.async)return Promise.resolve(u);if(u instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?ve:(a.status==="dirty"&&n.dirty(),o(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?ve:(a.status==="dirty"&&n.dirty(),o(a.value).then(()=>({status:n.value,value:a.value}))))}if(s.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!So(o))return o;const a=s.transform(o.value,i);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>So(o)?Promise.resolve(s.transform(o.value,i)).then(a=>({status:n.value,value:a})):o);Fe.assertNever(s)}}Ir.create=(t,e,n)=>new Ir({schema:t,typeName:ye.ZodEffects,effect:e,...Ee(n)});Ir.createWithPreprocess=(t,e,n)=>new Ir({schema:e,effect:{type:"preprocess",transform:t},typeName:ye.ZodEffects,...Ee(n)});class Yr extends Ce{_parse(e){return this._getType(e)===re.undefined?wn(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Yr.create=(t,e)=>new Yr({innerType:t,typeName:ye.ZodOptional,...Ee(e)});class ki extends Ce{_parse(e){return this._getType(e)===re.null?wn(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ki.create=(t,e)=>new ki({innerType:t,typeName:ye.ZodNullable,...Ee(e)});class pc extends Ce{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===re.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}pc.create=(t,e)=>new pc({innerType:t,typeName:ye.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Ee(e)});class mc extends Ce{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return sc(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Kn(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Kn(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}mc.create=(t,e)=>new mc({innerType:t,typeName:ye.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Ee(e)});class yf extends Ce{_parse(e){if(this._getType(e)!==re.nan){const r=this._getOrReturnCtx(e);return J(r,{code:Q.invalid_type,expected:re.nan,received:r.parsedType}),ve}return{status:"valid",value:e.data}}}yf.create=t=>new yf({typeName:ye.ZodNaN,...Ee(t)});const hU=Symbol("zod_brand");class Q_ extends Ce{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Lc extends Ce{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?ve:i.status==="dirty"?(n.dirty(),ua(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?ve:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(e,n){return new Lc({in:e,out:n,typeName:ye.ZodPipeline})}}class gc extends Ce{_parse(e){const n=this._def.innerType._parse(e),r=s=>(So(s)&&(s.value=Object.freeze(s.value)),s);return sc(n)?n.then(s=>r(s)):r(n)}unwrap(){return this._def.innerType}}gc.create=(t,e)=>new gc({innerType:t,typeName:ye.ZodReadonly,...Ee(e)});function oE(t,e){const n=typeof t=="function"?t(e):typeof t=="string"?{message:t}:t;return typeof n=="string"?{message:n}:n}function vI(t,e={},n){return t?il.create().superRefine((r,s)=>{var i,o;const a=t(r);if(a instanceof Promise)return a.then(u=>{var c,d;if(!u){const m=oE(e,r),h=(d=(c=m.fatal)!==null&&c!==void 0?c:n)!==null&&d!==void 0?d:!0;s.addIssue({code:"custom",...m,fatal:h})}});if(!a){const u=oE(e,r),c=(o=(i=u.fatal)!==null&&i!==void 0?i:n)!==null&&o!==void 0?o:!0;s.addIssue({code:"custom",...u,fatal:c})}}):il.create()}const fU={object:ut.lazycreate};var ye;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(ye||(ye={}));const pU=(t,e={message:`Input not instance of ${t.name}`})=>vI(n=>n instanceof t,e),_I=xr.create,wI=Ri.create,mU=yf.create,gU=Ii.create,xI=ic.create,yU=bo.create,vU=pf.create,_U=oc.create,wU=ac.create,xU=il.create,EU=uo.create,TU=Rs.create,SU=mf.create,bU=Sr.create,CU=ut.create,AU=ut.strictCreate,RU=lc.create,IU=fp.create,PU=uc.create,kU=ns.create,NU=cc.create,DU=gf.create,OU=Co.create,VU=Ta.create,MU=dc.create,jU=hc.create,LU=Pi.create,FU=fc.create,UU=ol.create,aE=Ir.create,BU=Yr.create,zU=ki.create,$U=Ir.createWithPreprocess,WU=Lc.create,HU=()=>_I().optional(),qU=()=>wI().optional(),QU=()=>xI().optional(),KU={string:t=>xr.create({...t,coerce:!0}),number:t=>Ri.create({...t,coerce:!0}),boolean:t=>ic.create({...t,coerce:!0}),bigint:t=>Ii.create({...t,coerce:!0}),date:t=>bo.create({...t,coerce:!0})},GU=ve;var it=Object.freeze({__proto__:null,defaultErrorMap:sl,setErrorMap:$5,getErrorMap:df,makeIssue:hf,EMPTY_PATH:W5,addIssueToContext:J,ParseStatus:dn,INVALID:ve,DIRTY:ua,OK:wn,isAborted:Ay,isDirty:Ry,isValid:So,isAsync:sc,get util(){return Fe},get objectUtil(){return Cy},ZodParsedType:re,getParsedType:fs,ZodType:Ce,datetimeRegex:gI,ZodString:xr,ZodNumber:Ri,ZodBigInt:Ii,ZodBoolean:ic,ZodDate:bo,ZodSymbol:pf,ZodUndefined:oc,ZodNull:ac,ZodAny:il,ZodUnknown:uo,ZodNever:Rs,ZodVoid:mf,ZodArray:Sr,ZodObject:ut,ZodUnion:lc,ZodDiscriminatedUnion:fp,ZodIntersection:uc,ZodTuple:ns,ZodRecord:cc,ZodMap:gf,ZodSet:Co,ZodFunction:Ta,ZodLazy:dc,ZodLiteral:hc,ZodEnum:Pi,ZodNativeEnum:fc,ZodPromise:ol,ZodEffects:Ir,ZodTransformer:Ir,ZodOptional:Yr,ZodNullable:ki,ZodDefault:pc,ZodCatch:mc,ZodNaN:yf,BRAND:hU,ZodBranded:Q_,ZodPipeline:Lc,ZodReadonly:gc,custom:vI,Schema:Ce,ZodSchema:Ce,late:fU,get ZodFirstPartyTypeKind(){return ye},coerce:KU,any:xU,array:bU,bigint:gU,boolean:xI,date:yU,discriminatedUnion:IU,effect:aE,enum:LU,function:VU,instanceof:pU,intersection:PU,lazy:MU,literal:jU,map:DU,nan:mU,nativeEnum:FU,never:TU,null:wU,nullable:zU,number:wI,object:CU,oboolean:QU,onumber:qU,optional:BU,ostring:HU,pipeline:WU,preprocess:$U,promise:UU,record:NU,set:OU,strictObject:AU,string:_I,symbol:vU,transformer:aE,tuple:kU,undefined:_U,union:RU,unknown:EU,void:SU,NEVER:GU,ZodIssueCode:Q,quotelessJson:z5,ZodError:Kn});const ZU=it.object({id:it.string(),reportType:it.enum(["missing","found"]),petName:it.string().optional(),petType:it.enum(["dog","cat","bird","rabbit","other"]),breed:it.string().optional(),age:it.enum(["puppy-kitten","young","adult","senior","unknown"]).optional(),color:it.string().optional(),size:it.enum(["small","medium","large","extra-large"]).optional(),location:it.string(),dateTime:it.string(),description:it.string().optional(),photoUrl:it.string().optional(),contactName:it.string(),contactPhone:it.string(),contactEmail:it.string().optional(),status:it.enum(["active","reunited"]).default("active"),createdAt:it.string(),updatedAt:it.string()}),lE=ZU.omit({id:!0,createdAt:!0,updatedAt:!0});it.object({missing:it.number(),found:it.number(),recent:it.number(),reunited:it.number()});const Dr=T.forwardRef(({className:t,type:e,...n},r)=>p.jsx("input",{type:e,className:$e("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));Dr.displayName="Input";const EI=T.forwardRef(({className:t,...e},n)=>p.jsx("textarea",{className:$e("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...e}));EI.displayName="Textarea";function uE(t,[e,n]){return Math.min(n,Math.max(e,t))}var XU=T.createContext(void 0);function YU(t){const e=T.useContext(XU);return t||e||"ltr"}var Pm=0;function JU(){T.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??cE()),document.body.insertAdjacentElement("beforeend",t[1]??cE()),Pm++,()=>{Pm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Pm--}},[])}function cE(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var km="focusScope.autoFocusOnMount",Nm="focusScope.autoFocusOnUnmount",dE={bubbles:!1,cancelable:!0},eB="FocusScope",TI=T.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,u]=T.useState(null),c=Zn(s),d=Zn(i),m=T.useRef(null),h=vt(e,v=>u(v)),_=T.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;T.useEffect(()=>{if(r){let v=function(x){if(_.paused||!a)return;const k=x.target;a.contains(k)?m.current=k:js(m.current,{select:!0})},E=function(x){if(_.paused||!a)return;const k=x.relatedTarget;k!==null&&(a.contains(k)||js(m.current,{select:!0}))},w=function(x){if(document.activeElement===document.body)for(const V of x)V.removedNodes.length>0&&js(a)};document.addEventListener("focusin",v),document.addEventListener("focusout",E);const y=new MutationObserver(w);return a&&y.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",E),y.disconnect()}}},[r,a,_.paused]),T.useEffect(()=>{if(a){fE.add(_);const v=document.activeElement;if(!a.contains(v)){const w=new CustomEvent(km,dE);a.addEventListener(km,c),a.dispatchEvent(w),w.defaultPrevented||(tB(oB(SI(a)),{select:!0}),document.activeElement===v&&js(a))}return()=>{a.removeEventListener(km,c),setTimeout(()=>{const w=new CustomEvent(Nm,dE);a.addEventListener(Nm,d),a.dispatchEvent(w),w.defaultPrevented||js(v??document.body,{select:!0}),a.removeEventListener(Nm,d),fE.remove(_)},0)}}},[a,c,d,_]);const S=T.useCallback(v=>{if(!n&&!r||_.paused)return;const E=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,w=document.activeElement;if(E&&w){const y=v.currentTarget,[x,k]=nB(y);x&&k?!v.shiftKey&&w===k?(v.preventDefault(),n&&js(x,{select:!0})):v.shiftKey&&w===x&&(v.preventDefault(),n&&js(k,{select:!0})):w===y&&v.preventDefault()}},[n,r,_.paused]);return p.jsx(Ge.div,{tabIndex:-1,...o,ref:h,onKeyDown:S})});TI.displayName=eB;function tB(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(js(r,{select:e}),document.activeElement!==n)return}function nB(t){const e=SI(t),n=hE(e,t),r=hE(e.reverse(),t);return[n,r]}function SI(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function hE(t,e){for(const n of t)if(!rB(n,{upTo:e}))return n}function rB(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function sB(t){return t instanceof HTMLInputElement&&"select"in t}function js(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&sB(t)&&e&&t.select()}}var fE=iB();function iB(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=pE(t,e),t.unshift(e)},remove(e){var n;t=pE(t,e),(n=t[0])==null||n.resume()}}}function pE(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function oB(t){return t.filter(e=>e.tagName!=="A")}function aB(t){const e=T.useRef({value:t,previous:t});return T.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var lB=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},$o=new WeakMap,Vd=new WeakMap,Md={},Dm=0,bI=function(t){return t&&(t.host||bI(t.parentNode))},uB=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=bI(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},cB=function(t,e,n,r){var s=uB(e,Array.isArray(t)?t:[t]);Md[n]||(Md[n]=new WeakMap);var i=Md[n],o=[],a=new Set,u=new Set(s),c=function(m){!m||a.has(m)||(a.add(m),c(m.parentNode))};s.forEach(c);var d=function(m){!m||u.has(m)||Array.prototype.forEach.call(m.children,function(h){if(a.has(h))d(h);else try{var _=h.getAttribute(r),S=_!==null&&_!=="false",v=($o.get(h)||0)+1,E=(i.get(h)||0)+1;$o.set(h,v),i.set(h,E),o.push(h),v===1&&S&&Vd.set(h,!0),E===1&&h.setAttribute(n,"true"),S||h.setAttribute(r,"true")}catch(w){console.error("aria-hidden: cannot operate on ",h,w)}})};return d(e),a.clear(),Dm++,function(){o.forEach(function(m){var h=$o.get(m)-1,_=i.get(m)-1;$o.set(m,h),i.set(m,_),h||(Vd.has(m)||m.removeAttribute(r),Vd.delete(m)),_||m.removeAttribute(n)}),Dm--,Dm||($o=new WeakMap,$o=new WeakMap,Vd=new WeakMap,Md={})}},dB=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=lB(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),cB(r,s,n,"aria-hidden")):function(){return null}},Br=function(){return Br=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Br.apply(this,arguments)};function CI(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function hB(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var uh="right-scroll-bar-position",ch="width-before-scroll-bar",fB="with-scroll-bars-hidden",pB="--removed-body-scroll-bar-size";function Om(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function mB(t,e){var n=T.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var gB=typeof window<"u"?T.useLayoutEffect:T.useEffect,mE=new WeakMap;function yB(t,e){var n=mB(null,function(r){return t.forEach(function(s){return Om(s,r)})});return gB(function(){var r=mE.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||Om(a,null)}),i.forEach(function(a){s.has(a)||Om(a,o)})}mE.set(n,t)},[t]),n}function vB(t){return t}function _B(t,e){e===void 0&&(e=vB);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var u=function(){var d=o;o=[],d.forEach(i)},c=function(){return Promise.resolve().then(u)};c(),n={push:function(d){o.push(d),c()},filter:function(d){return o=o.filter(d),n}}}};return s}function wB(t){t===void 0&&(t={});var e=_B(null);return e.options=Br({async:!0,ssr:!1},t),e}var AI=function(t){var e=t.sideCar,n=CI(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return T.createElement(r,Br({},n))};AI.isSideCarExport=!0;function xB(t,e){return t.useMedium(e),AI}var RI=wB(),Vm=function(){},pp=T.forwardRef(function(t,e){var n=T.useRef(null),r=T.useState({onScrollCapture:Vm,onWheelCapture:Vm,onTouchMoveCapture:Vm}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,u=t.className,c=t.removeScrollBar,d=t.enabled,m=t.shards,h=t.sideCar,_=t.noIsolation,S=t.inert,v=t.allowPinchZoom,E=t.as,w=E===void 0?"div":E,y=t.gapMode,x=CI(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),k=h,V=yB([n,e]),L=Br(Br({},x),s);return T.createElement(T.Fragment,null,d&&T.createElement(k,{sideCar:RI,removeScrollBar:c,shards:m,noIsolation:_,inert:S,setCallbacks:i,allowPinchZoom:!!v,lockRef:n,gapMode:y}),o?T.cloneElement(T.Children.only(a),Br(Br({},L),{ref:V})):T.createElement(w,Br({},L,{className:u,ref:V}),a))});pp.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};pp.classNames={fullWidth:ch,zeroRight:uh};var EB=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function TB(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=EB();return e&&t.setAttribute("nonce",e),t}function SB(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function bB(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var CB=function(){var t=0,e=null;return{add:function(n){t==0&&(e=TB())&&(SB(e,n),bB(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},AB=function(){var t=CB();return function(e,n){T.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},II=function(){var t=AB(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},RB={left:0,top:0,right:0,gap:0},Mm=function(t){return parseInt(t||"",10)||0},IB=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[Mm(n),Mm(r),Mm(s)]},PB=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return RB;var e=IB(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},kB=II(),Sa="data-scroll-locked",NB=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(fB,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Sa,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(uh,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(ch,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(uh," .").concat(uh,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(ch," .").concat(ch,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Sa,`] {
    `).concat(pB,": ").concat(a,`px;
  }
`)},gE=function(){var t=parseInt(document.body.getAttribute(Sa)||"0",10);return isFinite(t)?t:0},DB=function(){T.useEffect(function(){return document.body.setAttribute(Sa,(gE()+1).toString()),function(){var t=gE()-1;t<=0?document.body.removeAttribute(Sa):document.body.setAttribute(Sa,t.toString())}},[])},OB=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;DB();var i=T.useMemo(function(){return PB(s)},[s]);return T.createElement(kB,{styles:NB(i,!e,s,n?"":"!important")})},Py=!1;if(typeof window<"u")try{var jd=Object.defineProperty({},"passive",{get:function(){return Py=!0,!0}});window.addEventListener("test",jd,jd),window.removeEventListener("test",jd,jd)}catch{Py=!1}var Wo=Py?{passive:!1}:!1,VB=function(t){return t.tagName==="TEXTAREA"},PI=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!VB(t)&&n[e]==="visible")},MB=function(t){return PI(t,"overflowY")},jB=function(t){return PI(t,"overflowX")},yE=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=kI(t,r);if(s){var i=NI(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},LB=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},FB=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},kI=function(t,e){return t==="v"?MB(e):jB(e)},NI=function(t,e){return t==="v"?LB(e):FB(e)},UB=function(t,e){return t==="h"&&e==="rtl"?-1:1},BB=function(t,e,n,r,s){var i=UB(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,u=e.contains(a),c=!1,d=o>0,m=0,h=0;do{var _=NI(t,a),S=_[0],v=_[1],E=_[2],w=v-E-i*S;(S||w)&&kI(t,a)&&(m+=w,h+=S),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!u&&a!==document.body||u&&(e.contains(a)||e===a));return(d&&(Math.abs(m)<1||!s)||!d&&(Math.abs(h)<1||!s))&&(c=!0),c},Ld=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},vE=function(t){return[t.deltaX,t.deltaY]},_E=function(t){return t&&"current"in t?t.current:t},zB=function(t,e){return t[0]===e[0]&&t[1]===e[1]},$B=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},WB=0,Ho=[];function HB(t){var e=T.useRef([]),n=T.useRef([0,0]),r=T.useRef(),s=T.useState(WB++)[0],i=T.useState(II)[0],o=T.useRef(t);T.useEffect(function(){o.current=t},[t]),T.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var v=hB([t.lockRef.current],(t.shards||[]).map(_E),!0).filter(Boolean);return v.forEach(function(E){return E.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),v.forEach(function(E){return E.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=T.useCallback(function(v,E){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!o.current.allowPinchZoom;var w=Ld(v),y=n.current,x="deltaX"in v?v.deltaX:y[0]-w[0],k="deltaY"in v?v.deltaY:y[1]-w[1],V,L=v.target,C=Math.abs(x)>Math.abs(k)?"h":"v";if("touches"in v&&C==="h"&&L.type==="range")return!1;var b=yE(C,L);if(!b)return!0;if(b?V=C:(V=C==="v"?"h":"v",b=yE(C,L)),!b)return!1;if(!r.current&&"changedTouches"in v&&(x||k)&&(r.current=V),!V)return!0;var A=r.current||V;return BB(A,E,v,A==="h"?x:k,!0)},[]),u=T.useCallback(function(v){var E=v;if(!(!Ho.length||Ho[Ho.length-1]!==i)){var w="deltaY"in E?vE(E):Ld(E),y=e.current.filter(function(V){return V.name===E.type&&(V.target===E.target||E.target===V.shadowParent)&&zB(V.delta,w)})[0];if(y&&y.should){E.cancelable&&E.preventDefault();return}if(!y){var x=(o.current.shards||[]).map(_E).filter(Boolean).filter(function(V){return V.contains(E.target)}),k=x.length>0?a(E,x[0]):!o.current.noIsolation;k&&E.cancelable&&E.preventDefault()}}},[]),c=T.useCallback(function(v,E,w,y){var x={name:v,delta:E,target:w,should:y,shadowParent:qB(w)};e.current.push(x),setTimeout(function(){e.current=e.current.filter(function(k){return k!==x})},1)},[]),d=T.useCallback(function(v){n.current=Ld(v),r.current=void 0},[]),m=T.useCallback(function(v){c(v.type,vE(v),v.target,a(v,t.lockRef.current))},[]),h=T.useCallback(function(v){c(v.type,Ld(v),v.target,a(v,t.lockRef.current))},[]);T.useEffect(function(){return Ho.push(i),t.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:h}),document.addEventListener("wheel",u,Wo),document.addEventListener("touchmove",u,Wo),document.addEventListener("touchstart",d,Wo),function(){Ho=Ho.filter(function(v){return v!==i}),document.removeEventListener("wheel",u,Wo),document.removeEventListener("touchmove",u,Wo),document.removeEventListener("touchstart",d,Wo)}},[]);var _=t.removeScrollBar,S=t.inert;return T.createElement(T.Fragment,null,S?T.createElement(i,{styles:$B(s)}):null,_?T.createElement(OB,{gapMode:t.gapMode}):null)}function qB(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const QB=xB(RI,HB);var DI=T.forwardRef(function(t,e){return T.createElement(pp,Br({},t,{ref:e,sideCar:QB}))});DI.classNames=pp.classNames;var KB=[" ","Enter","ArrowUp","ArrowDown"],GB=[" ","Enter"],Fc="Select",[mp,gp,ZB]=wb(Fc),[_l,$z]=Ac(Fc,[ZB,Wf]),yp=Wf(),[XB,Li]=_l(Fc),[YB,JB]=_l(Fc),OI=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:u,dir:c,name:d,autoComplete:m,disabled:h,required:_,form:S}=t,v=yp(e),[E,w]=T.useState(null),[y,x]=T.useState(null),[k,V]=T.useState(!1),L=YU(c),[C=!1,b]=Wg({prop:r,defaultProp:s,onChange:i}),[A,P]=Wg({prop:o,defaultProp:a,onChange:u}),D=T.useRef(null),N=E?S||!!E.closest("form"):!0,[I,H]=T.useState(new Set),ue=Array.from(I).map(ie=>ie.props.value).join(";");return p.jsx(RM,{...v,children:p.jsxs(XB,{required:_,scope:e,trigger:E,onTriggerChange:w,valueNode:y,onValueNodeChange:x,valueNodeHasChildren:k,onValueNodeHasChildrenChange:V,contentId:Wv(),value:A,onValueChange:P,open:C,onOpenChange:b,dir:L,triggerPointerDownPosRef:D,disabled:h,children:[p.jsx(mp.Provider,{scope:e,children:p.jsx(YB,{scope:t.__scopeSelect,onNativeOptionAdd:T.useCallback(ie=>{H(de=>new Set(de).add(ie))},[]),onNativeOptionRemove:T.useCallback(ie=>{H(de=>{const B=new Set(de);return B.delete(ie),B})},[]),children:n})}),N?p.jsxs(iP,{"aria-hidden":!0,required:_,tabIndex:-1,name:d,autoComplete:m,value:A,onChange:ie=>P(ie.target.value),disabled:h,form:S,children:[A===void 0?p.jsx("option",{value:""}):null,Array.from(I)]},ue):null]})})};OI.displayName=Fc;var VI="SelectTrigger",MI=T.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=yp(n),o=Li(VI,n),a=o.disabled||r,u=vt(e,o.onTriggerChange),c=gp(n),d=T.useRef("touch"),[m,h,_]=oP(v=>{const E=c().filter(x=>!x.disabled),w=E.find(x=>x.value===o.value),y=aP(E,v,w);y!==void 0&&o.onValueChange(y.value)}),S=v=>{a||(o.onOpenChange(!0),_()),v&&(o.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return p.jsx(bC,{asChild:!0,...i,children:p.jsx(Ge.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":sP(o.value)?"":void 0,...s,ref:u,onClick:Ie(s.onClick,v=>{v.currentTarget.focus(),d.current!=="mouse"&&S(v)}),onPointerDown:Ie(s.onPointerDown,v=>{d.current=v.pointerType;const E=v.target;E.hasPointerCapture(v.pointerId)&&E.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(S(v),v.preventDefault())}),onKeyDown:Ie(s.onKeyDown,v=>{const E=m.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&h(v.key),!(E&&v.key===" ")&&KB.includes(v.key)&&(S(),v.preventDefault())})})})});MI.displayName=VI;var jI="SelectValue",LI=T.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...a}=t,u=Li(jI,n),{onValueNodeHasChildrenChange:c}=u,d=i!==void 0,m=vt(e,u.onValueNodeChange);return cn(()=>{c(d)},[c,d]),p.jsx(Ge.span,{...a,ref:m,style:{pointerEvents:"none"},children:sP(u.value)?p.jsx(p.Fragment,{children:o}):i})});LI.displayName=jI;var ez="SelectIcon",FI=T.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return p.jsx(Ge.span,{"aria-hidden":!0,...s,ref:e,children:r||"▼"})});FI.displayName=ez;var tz="SelectPortal",UI=t=>p.jsx(jv,{asChild:!0,...t});UI.displayName=tz;var Ao="SelectContent",BI=T.forwardRef((t,e)=>{const n=Li(Ao,t.__scopeSelect),[r,s]=T.useState();if(cn(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?Po.createPortal(p.jsx(zI,{scope:t.__scopeSelect,children:p.jsx(mp.Slot,{scope:t.__scopeSelect,children:p.jsx("div",{children:t.children})})}),i):null}return p.jsx($I,{...t,ref:e})});BI.displayName=Ao;var fr=10,[zI,Fi]=_l(Ao),nz="SelectContentImpl",rz=Wu("SelectContent.RemoveScroll"),$I=T.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:u,align:c,alignOffset:d,arrowPadding:m,collisionBoundary:h,collisionPadding:_,sticky:S,hideWhenDetached:v,avoidCollisions:E,...w}=t,y=Li(Ao,n),[x,k]=T.useState(null),[V,L]=T.useState(null),C=vt(e,he=>k(he)),[b,A]=T.useState(null),[P,D]=T.useState(null),N=gp(n),[I,H]=T.useState(!1),ue=T.useRef(!1);T.useEffect(()=>{if(x)return dB(x)},[x]),JU();const ie=T.useCallback(he=>{const[Qe,...pt]=N().map(De=>De.ref.current),[Me]=pt.slice(-1),Ae=document.activeElement;for(const De of he)if(De===Ae||(De==null||De.scrollIntoView({block:"nearest"}),De===Qe&&V&&(V.scrollTop=0),De===Me&&V&&(V.scrollTop=V.scrollHeight),De==null||De.focus(),document.activeElement!==Ae))return},[N,V]),de=T.useCallback(()=>ie([b,x]),[ie,b,x]);T.useEffect(()=>{I&&de()},[I,de]);const{onOpenChange:B,triggerPointerDownPosRef:Z}=y;T.useEffect(()=>{if(x){let he={x:0,y:0};const Qe=Me=>{var Ae,De;he={x:Math.abs(Math.round(Me.pageX)-(((Ae=Z.current)==null?void 0:Ae.x)??0)),y:Math.abs(Math.round(Me.pageY)-(((De=Z.current)==null?void 0:De.y)??0))}},pt=Me=>{he.x<=10&&he.y<=10?Me.preventDefault():x.contains(Me.target)||B(!1),document.removeEventListener("pointermove",Qe),Z.current=null};return Z.current!==null&&(document.addEventListener("pointermove",Qe),document.addEventListener("pointerup",pt,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Qe),document.removeEventListener("pointerup",pt,{capture:!0})}}},[x,B,Z]),T.useEffect(()=>{const he=()=>B(!1);return window.addEventListener("blur",he),window.addEventListener("resize",he),()=>{window.removeEventListener("blur",he),window.removeEventListener("resize",he)}},[B]);const[ae,me]=oP(he=>{const Qe=N().filter(Ae=>!Ae.disabled),pt=Qe.find(Ae=>Ae.ref.current===document.activeElement),Me=aP(Qe,he,pt);Me&&setTimeout(()=>Me.ref.current.focus())}),Se=T.useCallback((he,Qe,pt)=>{const Me=!ue.current&&!pt;(y.value!==void 0&&y.value===Qe||Me)&&(A(he),Me&&(ue.current=!0))},[y.value]),Ne=T.useCallback(()=>x==null?void 0:x.focus(),[x]),at=T.useCallback((he,Qe,pt)=>{const Me=!ue.current&&!pt;(y.value!==void 0&&y.value===Qe||Me)&&D(he)},[y.value]),Pt=r==="popper"?ky:WI,kt=Pt===ky?{side:a,sideOffset:u,align:c,alignOffset:d,arrowPadding:m,collisionBoundary:h,collisionPadding:_,sticky:S,hideWhenDetached:v,avoidCollisions:E}:{};return p.jsx(zI,{scope:n,content:x,viewport:V,onViewportChange:L,itemRefCallback:Se,selectedItem:b,onItemLeave:Ne,itemTextRefCallback:at,focusSelectedItem:de,selectedItemText:P,position:r,isPositioned:I,searchRef:ae,children:p.jsx(DI,{as:rz,allowPinchZoom:!0,children:p.jsx(TI,{asChild:!0,trapped:y.open,onMountAutoFocus:he=>{he.preventDefault()},onUnmountAutoFocus:Ie(s,he=>{var Qe;(Qe=y.trigger)==null||Qe.focus({preventScroll:!0}),he.preventDefault()}),children:p.jsx(jf,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:he=>he.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:p.jsx(Pt,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:he=>he.preventDefault(),...w,...kt,onPlaced:()=>H(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...w.style},onKeyDown:Ie(w.onKeyDown,he=>{const Qe=he.ctrlKey||he.altKey||he.metaKey;if(he.key==="Tab"&&he.preventDefault(),!Qe&&he.key.length===1&&me(he.key),["ArrowUp","ArrowDown","Home","End"].includes(he.key)){let Me=N().filter(Ae=>!Ae.disabled).map(Ae=>Ae.ref.current);if(["ArrowUp","End"].includes(he.key)&&(Me=Me.slice().reverse()),["ArrowUp","ArrowDown"].includes(he.key)){const Ae=he.target,De=Me.indexOf(Ae);Me=Me.slice(De+1)}setTimeout(()=>ie(Me)),he.preventDefault()}})})})})})})});$I.displayName=nz;var sz="SelectItemAlignedPosition",WI=T.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=Li(Ao,n),o=Fi(Ao,n),[a,u]=T.useState(null),[c,d]=T.useState(null),m=vt(e,C=>d(C)),h=gp(n),_=T.useRef(!1),S=T.useRef(!0),{viewport:v,selectedItem:E,selectedItemText:w,focusSelectedItem:y}=o,x=T.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&c&&v&&E&&w){const C=i.trigger.getBoundingClientRect(),b=c.getBoundingClientRect(),A=i.valueNode.getBoundingClientRect(),P=w.getBoundingClientRect();if(i.dir!=="rtl"){const Ae=P.left-b.left,De=A.left-Ae,Nt=C.left-De,$t=C.width+Nt,ur=Math.max($t,b.width),cr=window.innerWidth-fr,Pr=uE(De,[fr,Math.max(fr,cr-ur)]);a.style.minWidth=$t+"px",a.style.left=Pr+"px"}else{const Ae=b.right-P.right,De=window.innerWidth-A.right-Ae,Nt=window.innerWidth-C.right-De,$t=C.width+Nt,ur=Math.max($t,b.width),cr=window.innerWidth-fr,Pr=uE(De,[fr,Math.max(fr,cr-ur)]);a.style.minWidth=$t+"px",a.style.right=Pr+"px"}const D=h(),N=window.innerHeight-fr*2,I=v.scrollHeight,H=window.getComputedStyle(c),ue=parseInt(H.borderTopWidth,10),ie=parseInt(H.paddingTop,10),de=parseInt(H.borderBottomWidth,10),B=parseInt(H.paddingBottom,10),Z=ue+ie+I+B+de,ae=Math.min(E.offsetHeight*5,Z),me=window.getComputedStyle(v),Se=parseInt(me.paddingTop,10),Ne=parseInt(me.paddingBottom,10),at=C.top+C.height/2-fr,Pt=N-at,kt=E.offsetHeight/2,he=E.offsetTop+kt,Qe=ue+ie+he,pt=Z-Qe;if(Qe<=at){const Ae=D.length>0&&E===D[D.length-1].ref.current;a.style.bottom="0px";const De=c.clientHeight-v.offsetTop-v.offsetHeight,Nt=Math.max(Pt,kt+(Ae?Ne:0)+De+de),$t=Qe+Nt;a.style.height=$t+"px"}else{const Ae=D.length>0&&E===D[0].ref.current;a.style.top="0px";const Nt=Math.max(at,ue+v.offsetTop+(Ae?Se:0)+kt)+pt;a.style.height=Nt+"px",v.scrollTop=Qe-at+v.offsetTop}a.style.margin=`${fr}px 0`,a.style.minHeight=ae+"px",a.style.maxHeight=N+"px",r==null||r(),requestAnimationFrame(()=>_.current=!0)}},[h,i.trigger,i.valueNode,a,c,v,E,w,i.dir,r]);cn(()=>x(),[x]);const[k,V]=T.useState();cn(()=>{c&&V(window.getComputedStyle(c).zIndex)},[c]);const L=T.useCallback(C=>{C&&S.current===!0&&(x(),y==null||y(),S.current=!1)},[x,y]);return p.jsx(oz,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:_,onScrollButtonChange:L,children:p.jsx("div",{ref:u,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:k},children:p.jsx(Ge.div,{...s,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});WI.displayName=sz;var iz="SelectPopperPosition",ky=T.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=fr,...i}=t,o=yp(n);return p.jsx(CC,{...o,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});ky.displayName=iz;var[oz,K_]=_l(Ao,{}),Ny="SelectViewport",HI=T.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=Fi(Ny,n),o=K_(Ny,n),a=vt(e,i.onViewportChange),u=T.useRef(0);return p.jsxs(p.Fragment,{children:[p.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),p.jsx(mp.Slot,{scope:n,children:p.jsx(Ge.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Ie(s.onScroll,c=>{const d=c.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&m){const _=Math.abs(u.current-d.scrollTop);if(_>0){const S=window.innerHeight-fr*2,v=parseFloat(m.style.minHeight),E=parseFloat(m.style.height),w=Math.max(v,E);if(w<S){const y=w+_,x=Math.min(S,y),k=y-x;m.style.height=x+"px",m.style.bottom==="0px"&&(d.scrollTop=k>0?k:0,m.style.justifyContent="flex-end")}}}u.current=d.scrollTop})})})]})});HI.displayName=Ny;var qI="SelectGroup",[az,lz]=_l(qI),uz=T.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Wv();return p.jsx(az,{scope:n,id:s,children:p.jsx(Ge.div,{role:"group","aria-labelledby":s,...r,ref:e})})});uz.displayName=qI;var QI="SelectLabel",KI=T.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=lz(QI,n);return p.jsx(Ge.div,{id:s.id,...r,ref:e})});KI.displayName=QI;var vf="SelectItem",[cz,GI]=_l(vf),ZI=T.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=t,a=Li(vf,n),u=Fi(vf,n),c=a.value===r,[d,m]=T.useState(i??""),[h,_]=T.useState(!1),S=vt(e,y=>{var x;return(x=u.itemRefCallback)==null?void 0:x.call(u,y,r,s)}),v=Wv(),E=T.useRef("touch"),w=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return p.jsx(cz,{scope:n,value:r,disabled:s,textId:v,isSelected:c,onItemTextChange:T.useCallback(y=>{m(x=>x||((y==null?void 0:y.textContent)??"").trim())},[]),children:p.jsx(mp.ItemSlot,{scope:n,value:r,disabled:s,textValue:d,children:p.jsx(Ge.div,{role:"option","aria-labelledby":v,"data-highlighted":h?"":void 0,"aria-selected":c&&h,"data-state":c?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:S,onFocus:Ie(o.onFocus,()=>_(!0)),onBlur:Ie(o.onBlur,()=>_(!1)),onClick:Ie(o.onClick,()=>{E.current!=="mouse"&&w()}),onPointerUp:Ie(o.onPointerUp,()=>{E.current==="mouse"&&w()}),onPointerDown:Ie(o.onPointerDown,y=>{E.current=y.pointerType}),onPointerMove:Ie(o.onPointerMove,y=>{var x;E.current=y.pointerType,s?(x=u.onItemLeave)==null||x.call(u):E.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ie(o.onPointerLeave,y=>{var x;y.currentTarget===document.activeElement&&((x=u.onItemLeave)==null||x.call(u))}),onKeyDown:Ie(o.onKeyDown,y=>{var k;((k=u.searchRef)==null?void 0:k.current)!==""&&y.key===" "||(GB.includes(y.key)&&w(),y.key===" "&&y.preventDefault())})})})})});ZI.displayName=vf;var au="SelectItemText",XI=T.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,o=Li(au,n),a=Fi(au,n),u=GI(au,n),c=JB(au,n),[d,m]=T.useState(null),h=vt(e,w=>m(w),u.onItemTextChange,w=>{var y;return(y=a.itemTextRefCallback)==null?void 0:y.call(a,w,u.value,u.disabled)}),_=d==null?void 0:d.textContent,S=T.useMemo(()=>p.jsx("option",{value:u.value,disabled:u.disabled,children:_},u.value),[u.disabled,u.value,_]),{onNativeOptionAdd:v,onNativeOptionRemove:E}=c;return cn(()=>(v(S),()=>E(S)),[v,E,S]),p.jsxs(p.Fragment,{children:[p.jsx(Ge.span,{id:u.textId,...i,ref:h}),u.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Po.createPortal(i.children,o.valueNode):null]})});XI.displayName=au;var YI="SelectItemIndicator",JI=T.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return GI(YI,n).isSelected?p.jsx(Ge.span,{"aria-hidden":!0,...r,ref:e}):null});JI.displayName=YI;var Dy="SelectScrollUpButton",eP=T.forwardRef((t,e)=>{const n=Fi(Dy,t.__scopeSelect),r=K_(Dy,t.__scopeSelect),[s,i]=T.useState(!1),o=vt(e,r.onScrollButtonChange);return cn(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=u.scrollTop>0;i(c)};const u=n.viewport;return a(),u.addEventListener("scroll",a),()=>u.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?p.jsx(nP,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:u}=n;a&&u&&(a.scrollTop=a.scrollTop-u.offsetHeight)}}):null});eP.displayName=Dy;var Oy="SelectScrollDownButton",tP=T.forwardRef((t,e)=>{const n=Fi(Oy,t.__scopeSelect),r=K_(Oy,t.__scopeSelect),[s,i]=T.useState(!1),o=vt(e,r.onScrollButtonChange);return cn(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=u.scrollHeight-u.clientHeight,d=Math.ceil(u.scrollTop)<c;i(d)};const u=n.viewport;return a(),u.addEventListener("scroll",a),()=>u.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?p.jsx(nP,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:u}=n;a&&u&&(a.scrollTop=a.scrollTop+u.offsetHeight)}}):null});tP.displayName=Oy;var nP=T.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=Fi("SelectScrollButton",n),o=T.useRef(null),a=gp(n),u=T.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return T.useEffect(()=>()=>u(),[u]),cn(()=>{var d;const c=a().find(m=>m.ref.current===document.activeElement);(d=c==null?void 0:c.ref.current)==null||d.scrollIntoView({block:"nearest"})},[a]),p.jsx(Ge.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:Ie(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:Ie(s.onPointerMove,()=>{var c;(c=i.onItemLeave)==null||c.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:Ie(s.onPointerLeave,()=>{u()})})}),dz="SelectSeparator",rP=T.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return p.jsx(Ge.div,{"aria-hidden":!0,...r,ref:e})});rP.displayName=dz;var Vy="SelectArrow",hz=T.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=yp(n),i=Li(Vy,n),o=Fi(Vy,n);return i.open&&o.position==="popper"?p.jsx(AC,{...s,...r,ref:e}):null});hz.displayName=Vy;function sP(t){return t===""||t===void 0}var iP=T.forwardRef((t,e)=>{const{value:n,...r}=t,s=T.useRef(null),i=vt(e,s),o=aB(n);return T.useEffect(()=>{const a=s.current,u=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(u,"value").set;if(o!==n&&d){const m=new Event("change",{bubbles:!0});d.call(a,n),a.dispatchEvent(m)}},[o,n]),p.jsx(Rc,{asChild:!0,children:p.jsx("select",{...r,ref:i,defaultValue:n})})});iP.displayName="BubbleSelect";function oP(t){const e=Zn(t),n=T.useRef(""),r=T.useRef(0),s=T.useCallback(o=>{const a=n.current+o;e(a),function u(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>u(""),1e3))}(a)},[e]),i=T.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return T.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function aP(t,e,n){const s=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=fz(t,Math.max(i,0));s.length===1&&(o=o.filter(c=>c!==n));const u=o.find(c=>c.textValue.toLowerCase().startsWith(s.toLowerCase()));return u!==n?u:void 0}function fz(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var pz=OI,lP=MI,mz=LI,gz=FI,yz=UI,uP=BI,vz=HI,cP=KI,dP=ZI,_z=XI,wz=JI,hP=eP,fP=tP,pP=rP;const ba=pz,Ca=mz,co=T.forwardRef(({className:t,children:e,...n},r)=>p.jsxs(lP,{ref:r,className:$e("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,p.jsx(gz,{asChild:!0,children:p.jsx(Qb,{className:"h-4 w-4 opacity-50"})})]}));co.displayName=lP.displayName;const mP=T.forwardRef(({className:t,...e},n)=>p.jsx(hP,{ref:n,className:$e("flex cursor-default items-center justify-center py-1",t),...e,children:p.jsx(RO,{className:"h-4 w-4"})}));mP.displayName=hP.displayName;const gP=T.forwardRef(({className:t,...e},n)=>p.jsx(fP,{ref:n,className:$e("flex cursor-default items-center justify-center py-1",t),...e,children:p.jsx(Qb,{className:"h-4 w-4"})}));gP.displayName=fP.displayName;const ho=T.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>p.jsx(yz,{children:p.jsxs(uP,{ref:s,className:$e("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[p.jsx(mP,{}),p.jsx(vz,{className:$e("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),p.jsx(gP,{})]})}));ho.displayName=uP.displayName;const xz=T.forwardRef(({className:t,...e},n)=>p.jsx(cP,{ref:n,className:$e("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));xz.displayName=cP.displayName;const ze=T.forwardRef(({className:t,children:e,...n},r)=>p.jsxs(dP,{ref:r,className:$e("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[p.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:p.jsx(wz,{children:p.jsx(AO,{className:"h-4 w-4"})})}),p.jsx(_z,{children:e})]}));ze.displayName=dP.displayName;const Ez=T.forwardRef(({className:t,...e},n)=>p.jsx(pP,{ref:n,className:$e("-mx-1 my-1 h-px bg-muted",t),...e}));Ez.displayName=pP.displayName;var Tz="Label",yP=T.forwardRef((t,e)=>p.jsx(Ge.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));yP.displayName=Tz;var vP=yP;const Sz=Uf("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),_P=T.forwardRef(({className:t,...e},n)=>p.jsx(vP,{ref:n,className:$e(Sz(),t),...e}));_P.displayName=vP.displayName;const bz=_5,wP=T.createContext({}),Ln=({...t})=>p.jsx(wP.Provider,{value:{name:t.name},children:p.jsx(T5,{...t})}),vp=()=>{const t=T.useContext(wP),e=T.useContext(xP),{getFieldState:n,formState:r}=hp(),s=n(t.name,r);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:i}=e;return{id:i,name:t.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...s}},xP=T.createContext({}),Tn=T.forwardRef(({className:t,...e},n)=>{const r=T.useId();return p.jsx(xP.Provider,{value:{id:r},children:p.jsx("div",{ref:n,className:$e("space-y-2",t),...e})})});Tn.displayName="FormItem";const Sn=T.forwardRef(({className:t,...e},n)=>{const{error:r,formItemId:s}=vp();return p.jsx(_P,{ref:n,className:$e(r&&"text-destructive",t),htmlFor:s,...e})});Sn.displayName="FormLabel";const bn=T.forwardRef(({...t},e)=>{const{error:n,formItemId:r,formDescriptionId:s,formMessageId:i}=vp();return p.jsx(vb,{ref:e,id:r,"aria-describedby":n?`${s} ${i}`:`${s}`,"aria-invalid":!!n,...t})});bn.displayName="FormControl";const Cz=T.forwardRef(({className:t,...e},n)=>{const{formDescriptionId:r}=vp();return p.jsx("p",{ref:n,id:r,className:$e("text-sm text-muted-foreground",t),...e})});Cz.displayName="FormDescription";const Cn=T.forwardRef(({className:t,children:e,...n},r)=>{const{error:s,formMessageId:i}=vp(),o=s?String((s==null?void 0:s.message)??""):e;return o?p.jsx("p",{ref:r,id:i,className:$e("text-sm font-medium text-destructive",t),...n,children:o}):null});Cn.displayName="FormMessage";const Az=lE.extend({dateTime:lE.shape.dateTime.refine(t=>new Date(t)<=new Date,{message:"Date cannot be in the future"})});function Rz(){const[,t]=eb(),{toast:e}=Mv(),n=Mf(),[r,s]=T.useState(null),[i,o]=T.useState(""),a=j5({resolver:B5(Az),defaultValues:{reportType:"missing",petName:"",petType:"dog",breed:"",age:"unknown",color:"",size:"medium",location:"",dateTime:"",description:"",contactName:"",contactPhone:"",contactEmail:"",status:"active"}}),u=gb({mutationFn:async h=>await h5(h,r||void 0),onSuccess:()=>{e({title:"Report submitted successfully!",description:"Your pet report has been added to our database."}),n.invalidateQueries({queryKey:["/api/stats"]}),n.invalidateQueries({queryKey:["/api/recent-reports"]}),n.invalidateQueries({queryKey:["/api/pet-reports"]});const h=a.getValues("reportType");t(h==="missing"?"/missing":"/found")},onError:h=>{e({title:"Error submitting report",description:h.message,variant:"destructive"})}}),c=h=>{var S;const _=(S=h.target.files)==null?void 0:S[0];if(_){if(_.size>10*1024*1024){e({title:"File too large",description:"Please select a photo under 10MB.",variant:"destructive"});return}s(_);const v=new FileReader;v.onload=()=>{o(v.result)},v.readAsDataURL(_)}},d=h=>{u.mutate(h)},m=a.watch("reportType");return p.jsx("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:p.jsx(Qu,{className:"shadow-lg",children:p.jsxs(Ku,{className:"p-8",children:[p.jsxs("div",{className:"text-center mb-8",children:[p.jsx(ya,{className:"text-orange-500 h-12 w-12 mx-auto mb-4"}),p.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Report a Pet"}),p.jsx("p",{className:"text-gray-600",children:"Help us reunite families by reporting missing or found pets"})]}),p.jsx(bz,{...a,children:p.jsxs("form",{onSubmit:a.handleSubmit(d),className:"space-y-6",children:[p.jsx(Ln,{control:a.control,name:"reportType",render:({field:h})=>p.jsxs(Tn,{children:[p.jsx(Sn,{className:"text-sm font-medium text-gray-700",children:"Report Type"}),p.jsx(bn,{children:p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("label",{className:"cursor-pointer",children:[p.jsx("input",{type:"radio",value:"missing",checked:h.value==="missing",onChange:()=>h.onChange("missing"),className:"sr-only peer"}),p.jsxs("div",{className:"border-2 border-gray-200 peer-checked:border-orange-500 peer-checked:bg-orange-50 rounded-lg p-4 text-center transition-colors",children:[p.jsx(zs,{className:"h-8 w-8 text-gray-400 peer-checked:text-orange-500 mx-auto mb-2"}),p.jsx("p",{className:"font-medium text-gray-700",children:"Missing Pet"}),p.jsx("p",{className:"text-sm text-gray-500",children:"My pet is missing"})]})]}),p.jsxs("label",{className:"cursor-pointer",children:[p.jsx("input",{type:"radio",value:"found",checked:h.value==="found",onChange:()=>h.onChange("found"),className:"sr-only peer"}),p.jsxs("div",{className:"border-2 border-gray-200 peer-checked:border-green-500 peer-checked:bg-green-50 rounded-lg p-4 text-center transition-colors",children:[p.jsx(zv,{className:"h-8 w-8 text-gray-400 peer-checked:text-green-500 mx-auto mb-2"}),p.jsx("p",{className:"font-medium text-gray-700",children:"Found Pet"}),p.jsx("p",{className:"text-sm text-gray-500",children:"I found a pet"})]})]})]})}),p.jsx(Cn,{})]})}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pet Photo"}),p.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-orange-500 transition-colors cursor-pointer",onClick:()=>{var h;return(h=document.getElementById("pet-photo"))==null?void 0:h.click()},children:[i?p.jsxs("div",{className:"space-y-2",children:[p.jsx("img",{src:i,alt:"Pet preview",className:"h-32 w-32 object-cover rounded-lg mx-auto"}),p.jsx("p",{className:"text-sm text-gray-600",children:"Click to change photo"})]}):p.jsxs(p.Fragment,{children:[p.jsx(bO,{className:"h-12 w-12 text-gray-400 mx-auto mb-2"}),p.jsx("p",{className:"text-gray-600 mb-1",children:"Click to upload a photo"}),p.jsx("p",{className:"text-sm text-gray-500",children:"JPG, PNG up to 10MB"})]}),p.jsx("input",{type:"file",id:"pet-photo",accept:"image/*",onChange:c,className:"hidden"})]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p.jsx(Ln,{control:a.control,name:"petName",render:({field:h})=>p.jsxs(Tn,{children:[p.jsx(Sn,{children:"Pet Name"}),p.jsx(bn,{children:p.jsx(Dr,{placeholder:"e.g., Max, Bella, Unknown",...h})}),p.jsx(Cn,{})]})}),p.jsx(Ln,{control:a.control,name:"petType",render:({field:h})=>p.jsxs(Tn,{children:[p.jsx(Sn,{children:"Pet Type *"}),p.jsxs(ba,{onValueChange:h.onChange,defaultValue:h.value,children:[p.jsx(bn,{children:p.jsx(co,{children:p.jsx(Ca,{placeholder:"Select pet type"})})}),p.jsxs(ho,{children:[p.jsx(ze,{value:"dog",children:"Dog"}),p.jsx(ze,{value:"cat",children:"Cat"}),p.jsx(ze,{value:"bird",children:"Bird"}),p.jsx(ze,{value:"rabbit",children:"Rabbit"}),p.jsx(ze,{value:"other",children:"Other"})]})]}),p.jsx(Cn,{})]})})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p.jsx(Ln,{control:a.control,name:"breed",render:({field:h})=>p.jsxs(Tn,{children:[p.jsx(Sn,{children:"Breed"}),p.jsx(bn,{children:p.jsx(Dr,{placeholder:"e.g., Golden Retriever, Mixed",...h})}),p.jsx(Cn,{})]})}),p.jsx(Ln,{control:a.control,name:"age",render:({field:h})=>p.jsxs(Tn,{children:[p.jsx(Sn,{children:"Age (approximate)"}),p.jsxs(ba,{onValueChange:h.onChange,defaultValue:h.value,children:[p.jsx(bn,{children:p.jsx(co,{children:p.jsx(Ca,{placeholder:"Select age range"})})}),p.jsxs(ho,{children:[p.jsx(ze,{value:"puppy-kitten",children:"Puppy/Kitten (0-1 year)"}),p.jsx(ze,{value:"young",children:"Young (1-3 years)"}),p.jsx(ze,{value:"adult",children:"Adult (3-7 years)"}),p.jsx(ze,{value:"senior",children:"Senior (7+ years)"}),p.jsx(ze,{value:"unknown",children:"Unknown"})]})]}),p.jsx(Cn,{})]})})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p.jsx(Ln,{control:a.control,name:"color",render:({field:h})=>p.jsxs(Tn,{children:[p.jsx(Sn,{children:"Color/Markings"}),p.jsx(bn,{children:p.jsx(Dr,{placeholder:"e.g., Brown and white, Black stripes",...h})}),p.jsx(Cn,{})]})}),p.jsx(Ln,{control:a.control,name:"size",render:({field:h})=>p.jsxs(Tn,{children:[p.jsx(Sn,{children:"Size"}),p.jsxs(ba,{onValueChange:h.onChange,defaultValue:h.value,children:[p.jsx(bn,{children:p.jsx(co,{children:p.jsx(Ca,{placeholder:"Select size"})})}),p.jsxs(ho,{children:[p.jsx(ze,{value:"small",children:"Small (under 25 lbs)"}),p.jsx(ze,{value:"medium",children:"Medium (25-60 lbs)"}),p.jsx(ze,{value:"large",children:"Large (60-100 lbs)"}),p.jsx(ze,{value:"extra-large",children:"Extra Large (100+ lbs)"})]})]}),p.jsx(Cn,{})]})})]}),p.jsx(Ln,{control:a.control,name:"location",render:({field:h})=>p.jsxs(Tn,{children:[p.jsx(Sn,{children:"Location *"}),p.jsx(bn,{children:p.jsx(Dr,{placeholder:"e.g., Limassol, near Malia village",...h})}),p.jsxs("p",{className:"text-sm text-gray-500",children:["Where was the pet ",m==="missing"?"last seen":"found","?"]}),p.jsx(Cn,{})]})}),p.jsx(Ln,{control:a.control,name:"dateTime",render:({field:h})=>p.jsxs(Tn,{children:[p.jsx(Sn,{children:"Date & Time *"}),p.jsx(bn,{children:p.jsx(Dr,{type:"datetime-local",...h})}),p.jsx(Cn,{})]})}),p.jsx(Ln,{control:a.control,name:"description",render:({field:h})=>p.jsxs(Tn,{children:[p.jsx(Sn,{children:"Additional Details"}),p.jsx(bn,{children:p.jsx(EI,{rows:4,placeholder:"Any special characteristics, medical conditions, behavior, or circumstances...",...h})}),p.jsx(Cn,{})]})}),p.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg space-y-4",children:[p.jsx("h3",{className:"font-semibold text-gray-900",children:"Contact Information"}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsx(Ln,{control:a.control,name:"contactName",render:({field:h})=>p.jsxs(Tn,{children:[p.jsx(Sn,{children:"Your Name *"}),p.jsx(bn,{children:p.jsx(Dr,{...h})}),p.jsx(Cn,{})]})}),p.jsx(Ln,{control:a.control,name:"contactPhone",render:({field:h})=>p.jsxs(Tn,{children:[p.jsx(Sn,{children:"Phone Number *"}),p.jsx(bn,{children:p.jsx(Dr,{type:"tel",...h})}),p.jsx(Cn,{})]})})]}),p.jsx(Ln,{control:a.control,name:"contactEmail",render:({field:h})=>p.jsxs(Tn,{children:[p.jsx(Sn,{children:"Email Address"}),p.jsx(bn,{children:p.jsx(Dr,{type:"email",...h})}),p.jsx(Cn,{})]})})]}),p.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 pt-6",children:[p.jsx(nt,{type:"submit",disabled:u.isPending,className:"flex-1 bg-orange-500 hover:bg-orange-600 text-white py-3 px-6 font-semibold",children:u.isPending?p.jsxs(p.Fragment,{children:[p.jsx(DO,{className:"mr-2 h-4 w-4 animate-spin"}),"Submitting..."]}):p.jsxs(p.Fragment,{children:[p.jsx(ya,{className:"mr-2 h-4 w-4"}),"Submit Report"]})}),p.jsx(nt,{type:"button",variant:"outline",onClick:()=>t("/"),className:"flex-1 py-3 px-6 font-semibold",children:"Cancel"})]})]})})]})})})}function EP({onSearchChange:t,onTypeChange:e,onLocationChange:n,onDateChange:r,onReset:s,resultCount:i,searchValue:o,typeValue:a,locationValue:u,dateValue:c,type:d}){const m=d==="missing"?"focus:ring-orange-500":"focus:ring-green-500";return p.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-8",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search"}),p.jsxs("div",{className:"relative",children:[p.jsx(Dr,{type:"text",placeholder:"Pet name, breed, location...",value:o,onChange:h=>t(h.target.value),className:`pl-10 ${m} focus:border-transparent`}),p.jsx(zs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pet Type"}),p.jsxs(ba,{value:a,onValueChange:e,children:[p.jsx(co,{className:m,children:p.jsx(Ca,{placeholder:"All Types"})}),p.jsxs(ho,{children:[p.jsx(ze,{value:"all",children:"All Types"}),p.jsx(ze,{value:"dog",children:"Dogs"}),p.jsx(ze,{value:"cat",children:"Cats"}),p.jsx(ze,{value:"bird",children:"Birds"}),p.jsx(ze,{value:"rabbit",children:"Rabbits"}),p.jsx(ze,{value:"other",children:"Other"})]})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location"}),p.jsxs(ba,{value:u,onValueChange:n,children:[p.jsx(co,{className:m,children:p.jsx(Ca,{placeholder:"All Locations"})}),p.jsxs(ho,{children:[p.jsx(ze,{value:"all",children:"All Locations"}),p.jsx(ze,{value:"limassol",children:"Limassol"}),p.jsx(ze,{value:"paphos",children:"Paphos"}),p.jsx(ze,{value:"troodos",children:"Troodos Mountains"}),p.jsx(ze,{value:"nicosia",children:"Nicosia"}),p.jsx(ze,{value:"larnaca",children:"Larnaca"}),p.jsx(ze,{value:"famagusta",children:"Famagusta"})]})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date Range"}),p.jsxs(ba,{value:c,onValueChange:r,children:[p.jsx(co,{className:m,children:p.jsx(Ca,{placeholder:"All Dates"})}),p.jsxs(ho,{children:[p.jsx(ze,{value:"all",children:"All Dates"}),p.jsx(ze,{value:"today",children:"Today"}),p.jsx(ze,{value:"week",children:"This Week"}),p.jsx(ze,{value:"month",children:"This Month"})]})]})]})]}),p.jsxs("div",{className:"mt-4 flex justify-between items-center",children:[p.jsxs("p",{className:"text-sm text-gray-600",children:["Showing ",p.jsx("span",{className:"font-medium",children:i})," ",d," pets"]}),p.jsxs(nt,{variant:"ghost",size:"sm",onClick:s,className:`text-sm font-medium ${d==="missing"?"text-orange-500 hover:text-orange-600":"text-green-500 hover:text-green-600"}`,children:[p.jsx(jO,{className:"h-4 w-4 mr-1"}),"Reset Filters"]})]})]})}function Iz(){const{toast:t}=Mv(),e=Mf(),[n,r]=T.useState({search:"",petType:"all",location:"all",dateRange:"all"}),{data:s,isLoading:i}=jh({queryKey:["/api/missing-pets",n],queryFn:()=>ZR("missing",n)}),o=gb({mutationFn:_=>p5(_,"reunited"),onSuccess:()=>{t({title:"Pet marked as found!",description:"The pet status has been updated successfully."}),e.invalidateQueries({queryKey:["/api/missing-pets"]}),e.invalidateQueries({queryKey:["/api/stats"]})},onError:_=>{t({title:"Error updating status",description:_.message,variant:"destructive"})}}),a=_=>{o.mutate(_)},u=_=>{r(S=>({...S,search:_}))},c=_=>{r(S=>({...S,petType:_}))},d=_=>{r(S=>({...S,location:_}))},m=_=>{r(S=>({...S,dateRange:_}))},h=()=>{r({search:"",petType:"all",location:"all",dateRange:"all"})};return p.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[p.jsxs("div",{className:"mb-8",children:[p.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Missing Pets"}),p.jsx("p",{className:"text-gray-600",children:"Help us find these beloved family members and bring them home safely"})]}),p.jsx(EP,{onSearchChange:u,onTypeChange:c,onLocationChange:d,onDateChange:m,onReset:h,resultCount:(s==null?void 0:s.length)||0,searchValue:n.search,typeValue:n.petType,locationValue:n.location,dateValue:n.dateRange,type:"missing"}),i?p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Array.from({length:6}).map((_,S)=>p.jsx(of,{className:"h-96 rounded-xl"},S))}):s&&s.length>0?p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(_=>p.jsx(t_,{pet:_,onMarkFound:a,showMarkFound:!0},_.id))}),s.length>=12&&p.jsx("div",{className:"text-center mt-12",children:p.jsx(nt,{className:"bg-orange-500 hover:bg-orange-600 text-white px-8 py-3 font-semibold",children:"Load More Missing Pets"})})]}):p.jsxs("div",{className:"text-center py-16",children:[p.jsx(zs,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),p.jsx("h3",{className:"text-xl font-medium text-gray-900 mb-2",children:Object.values(n).some(_=>_)?"No missing pets found":"No missing pets reported yet"}),p.jsx("p",{className:"text-gray-600 mb-6",children:Object.values(n).some(_=>_)?"Try adjusting your search filters to find more results.":"When pets are reported missing, they will appear here."}),Object.values(n).some(_=>_)?p.jsx(nt,{onClick:h,variant:"outline",children:"Clear Filters"}):p.jsx(In,{href:"/report",children:p.jsxs(nt,{className:"bg-orange-500 hover:bg-orange-600 text-white",children:[p.jsx(Fr,{className:"mr-2 h-4 w-4"}),"Report Missing Pet"]})})]}),p.jsx(In,{href:"/report",children:p.jsx(nt,{className:"fixed bottom-6 right-6 z-50 bg-orange-500 hover:bg-orange-600 text-white w-16 h-16 rounded-full shadow-lg",children:p.jsx(Fr,{className:"h-6 w-6"})})})]})}function Pz(){const[t,e]=T.useState({search:"",petType:"all",location:"all",dateRange:"all"}),{data:n,isLoading:r}=jh({queryKey:["/api/found-pets",t],queryFn:()=>ZR("found",t)}),s=c=>{e(d=>({...d,search:c}))},i=c=>{e(d=>({...d,petType:c}))},o=c=>{e(d=>({...d,location:c}))},a=c=>{e(d=>({...d,dateRange:c}))},u=()=>{e({search:"",petType:"all",location:"all",dateRange:"all"})};return p.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[p.jsxs("div",{className:"mb-8",children:[p.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Found Pets"}),p.jsx("p",{className:"text-gray-600",children:"These pets have been found wandering and are looking for their families"})]}),p.jsx(EP,{onSearchChange:s,onTypeChange:i,onLocationChange:o,onDateChange:a,onReset:u,resultCount:(n==null?void 0:n.length)||0,searchValue:t.search,typeValue:t.petType,locationValue:t.location,dateValue:t.dateRange,type:"found"}),r?p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Array.from({length:6}).map((c,d)=>p.jsx(of,{className:"h-96 rounded-xl"},d))}):n&&n.length>0?p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(c=>p.jsx(t_,{pet:c},c.id))}),n.length>=12&&p.jsx("div",{className:"text-center mt-12",children:p.jsx(nt,{className:"bg-green-600 hover:bg-green-700 text-white px-8 py-3 font-semibold",children:"Load More Found Pets"})})]}):p.jsxs("div",{className:"text-center py-16",children:[p.jsx(zv,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),p.jsx("h3",{className:"text-xl font-medium text-gray-900 mb-2",children:Object.values(t).some(c=>c)?"No found pets match your search":"No found pets reported yet"}),p.jsx("p",{className:"text-gray-600 mb-6",children:Object.values(t).some(c=>c)?"Try adjusting your search filters to find more results.":"When pets are found wandering, they will appear here."}),Object.values(t).some(c=>c)?p.jsx(nt,{onClick:u,variant:"outline",children:"Clear Filters"}):p.jsx(In,{href:"/report",children:p.jsxs(nt,{className:"bg-green-600 hover:bg-green-700 text-white",children:[p.jsx(Fr,{className:"mr-2 h-4 w-4"}),"Report Found Pet"]})})]}),p.jsx(In,{href:"/report",children:p.jsx(nt,{className:"fixed bottom-6 right-6 z-50 bg-orange-500 hover:bg-orange-600 text-white w-16 h-16 rounded-full shadow-lg",children:p.jsx(Fr,{className:"h-6 w-6"})})})]})}function kz(){return p.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:p.jsx(Qu,{className:"w-full max-w-md mx-4",children:p.jsxs(Ku,{className:"pt-6",children:[p.jsxs("div",{className:"flex mb-4 gap-2",children:[p.jsx(IO,{className:"h-8 w-8 text-red-500"}),p.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),p.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}function Nz(){return p.jsxs(K2,{children:[p.jsx($l,{path:"/",component:g5}),p.jsx($l,{path:"/report",component:Rz}),p.jsx($l,{path:"/missing",component:Iz}),p.jsx($l,{path:"/found",component:Pz}),p.jsx($l,{component:kz})]})}function Dz(){return p.jsx(pD,{client:RD,children:p.jsx(qM,{children:p.jsxs("div",{className:"min-h-screen bg-gray-50",children:[p.jsx(GM,{}),p.jsx(Nz,{}),p.jsx(_V,{}),p.jsx("footer",{className:"bg-gray-900 text-white py-12 mt-16",children:p.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[p.jsxs("div",{children:[p.jsxs("div",{className:"flex items-center mb-4",children:[p.jsx("div",{className:"w-6 h-6 bg-orange-500 rounded mr-3 flex items-center justify-center",children:"❤️"}),p.jsx("h3",{className:"text-xl font-bold",children:"Cyprus Pet Rescue"})]}),p.jsx("p",{className:"text-gray-300 mb-4",children:"Helping reunite families with their beloved pets during the Cyprus wildfire emergency."})]}),p.jsxs("div",{children:[p.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Emergency Resources"}),p.jsxs("ul",{className:"space-y-2 text-gray-300",children:[p.jsx("li",{children:p.jsx("a",{href:"https://animalrescuecyprus.com",target:"_blank",rel:"noopener noreferrer",className:"hover:text-orange-500 transition-colors",children:"Animal Rescue Cyprus"})}),p.jsx("li",{children:p.jsx("a",{href:"https://takemehome.com.cy",target:"_blank",rel:"noopener noreferrer",className:"hover:text-orange-500 transition-colors",children:"Take Me Home Cyprus"})}),p.jsx("li",{children:p.jsx("span",{className:"text-gray-300",children:"Animal Welfare Commissioner"})})]})]}),p.jsxs("div",{children:[p.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Contact & Support"}),p.jsx("p",{className:"text-gray-300 mb-2",children:"For website issues or urgent pet emergencies:"}),p.jsx("p",{className:"text-gray-300",children:"Email: help@cyprusperrescue.org"}),p.jsx("p",{className:"text-gray-300",children:"Emergency: Contact local animal rescue directly"})]})]}),p.jsx("div",{className:"border-t border-gray-700 mt-8 pt-8 text-center text-gray-400",children:p.jsx("p",{children:"© 2025 Cyprus Pet Rescue. Created during wildfire emergency to help reunite families with their pets."})})]})})]})})})}WS(document.getElementById("root")).render(p.jsx(Dz,{}));
